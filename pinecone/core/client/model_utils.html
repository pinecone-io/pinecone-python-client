<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.1.0"/>
    <title>pinecone.core.client.model_utils API documentation</title>
            <link rel="icon" href="./favicon-32x32.png"/>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../client.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;pinecone.core.client</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="variable" href="#none_type">none_type</a>
            </li>
            <li>
                    <a class="variable" href="#file_type">file_type</a>
            </li>
            <li>
                    <a class="function" href="#convert_js_args_to_python_args">convert_js_args_to_python_args</a>
            </li>
            <li>
                    <a class="class" href="#cached_property">cached_property</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#cached_property.__init__">cached_property</a>
                        </li>
                        <li>
                                <a class="variable" href="#cached_property.result_key">result_key</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#PRIMITIVE_TYPES">PRIMITIVE_TYPES</a>
            </li>
            <li>
                    <a class="function" href="#allows_single_value_input">allows_single_value_input</a>
            </li>
            <li>
                    <a class="function" href="#composed_model_input_classes">composed_model_input_classes</a>
            </li>
            <li>
                    <a class="class" href="#OpenApiModel">OpenApiModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#OpenApiModel.set_attribute">set_attribute</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ModelSimple">ModelSimple</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ModelSimple.get">get</a>
                        </li>
                        <li>
                                <a class="function" href="#ModelSimple.to_str">to_str</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ModelNormal">ModelNormal</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ModelNormal.get">get</a>
                        </li>
                        <li>
                                <a class="function" href="#ModelNormal.to_dict">to_dict</a>
                        </li>
                        <li>
                                <a class="function" href="#ModelNormal.to_str">to_str</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ModelComposed">ModelComposed</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ModelComposed.get">get</a>
                        </li>
                        <li>
                                <a class="function" href="#ModelComposed.to_dict">to_dict</a>
                        </li>
                        <li>
                                <a class="function" href="#ModelComposed.to_str">to_str</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#COERCION_INDEX_BY_TYPE">COERCION_INDEX_BY_TYPE</a>
            </li>
            <li>
                    <a class="variable" href="#UPCONVERSION_TYPE_PAIRS">UPCONVERSION_TYPE_PAIRS</a>
            </li>
            <li>
                    <a class="variable" href="#COERCIBLE_TYPE_PAIRS">COERCIBLE_TYPE_PAIRS</a>
            </li>
            <li>
                    <a class="function" href="#get_simple_class">get_simple_class</a>
            </li>
            <li>
                    <a class="function" href="#check_allowed_values">check_allowed_values</a>
            </li>
            <li>
                    <a class="function" href="#is_json_validation_enabled">is_json_validation_enabled</a>
            </li>
            <li>
                    <a class="function" href="#check_validations">check_validations</a>
            </li>
            <li>
                    <a class="function" href="#order_response_types">order_response_types</a>
            </li>
            <li>
                    <a class="function" href="#remove_uncoercible">remove_uncoercible</a>
            </li>
            <li>
                    <a class="function" href="#get_discriminated_classes">get_discriminated_classes</a>
            </li>
            <li>
                    <a class="function" href="#get_possible_classes">get_possible_classes</a>
            </li>
            <li>
                    <a class="function" href="#get_required_type_classes">get_required_type_classes</a>
            </li>
            <li>
                    <a class="function" href="#change_keys_js_to_python">change_keys_js_to_python</a>
            </li>
            <li>
                    <a class="function" href="#get_type_error">get_type_error</a>
            </li>
            <li>
                    <a class="function" href="#deserialize_primitive">deserialize_primitive</a>
            </li>
            <li>
                    <a class="function" href="#get_discriminator_class">get_discriminator_class</a>
            </li>
            <li>
                    <a class="function" href="#deserialize_model">deserialize_model</a>
            </li>
            <li>
                    <a class="function" href="#deserialize_file">deserialize_file</a>
            </li>
            <li>
                    <a class="function" href="#attempt_convert_item">attempt_convert_item</a>
            </li>
            <li>
                    <a class="function" href="#is_type_nullable">is_type_nullable</a>
            </li>
            <li>
                    <a class="function" href="#is_valid_type">is_valid_type</a>
            </li>
            <li>
                    <a class="function" href="#validate_and_convert_types">validate_and_convert_types</a>
            </li>
            <li>
                    <a class="function" href="#model_to_dict">model_to_dict</a>
            </li>
            <li>
                    <a class="function" href="#type_error_message">type_error_message</a>
            </li>
            <li>
                    <a class="function" href="#get_valid_classes_phrase">get_valid_classes_phrase</a>
            </li>
            <li>
                    <a class="function" href="#get_allof_instances">get_allof_instances</a>
            </li>
            <li>
                    <a class="function" href="#get_oneof_instance">get_oneof_instance</a>
            </li>
            <li>
                    <a class="function" href="#get_anyof_instances">get_anyof_instances</a>
            </li>
            <li>
                    <a class="function" href="#get_discarded_args">get_discarded_args</a>
            </li>
            <li>
                    <a class="function" href="#validate_get_composed_info">validate_get_composed_info</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../../../pinecone.html">pinecone</a><wbr>.<a href="./../../core.html">core</a><wbr>.<a href="./../client.html">client</a><wbr>.model_utils    </h1>

                        <div class="docstring"><p>Pinecone API</p>

<p>No description provided (generated by Openapi Generator <a href="https://github.com/openapitools/openapi-generator">https://github.com/openapitools/openapi-generator</a>)  # noqa: E501</p>

<p>The version of the OpenAPI document: version not set
Contact: support@pinecone.io
Generated by: <a href="https://openapi-generator.tech">https://openapi-generator.tech</a></p>
</div>

                        <input id="mod-model_utils-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-model_utils-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">   1</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">   2</span></a><span class="sd">    Pinecone API</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">   3</span></a>
</span><span id="L-4"><a href="#L-4"><span class="linenos">   4</span></a><span class="sd">    No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)  # noqa: E501</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">   5</span></a>
</span><span id="L-6"><a href="#L-6"><span class="linenos">   6</span></a><span class="sd">    The version of the OpenAPI document: version not set</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">   7</span></a><span class="sd">    Contact: support@pinecone.io</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">   8</span></a><span class="sd">    Generated by: https://openapi-generator.tech</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">   9</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">  10</span></a>
</span><span id="L-11"><a href="#L-11"><span class="linenos">  11</span></a>
</span><span id="L-12"><a href="#L-12"><span class="linenos">  12</span></a><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">datetime</span>  <span class="c1"># noqa: F401</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">  13</span></a><span class="kn">import</span> <span class="nn">inspect</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">  14</span></a><span class="kn">import</span> <span class="nn">io</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">  15</span></a><span class="kn">import</span> <span class="nn">os</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">  16</span></a><span class="kn">import</span> <span class="nn">pprint</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">  17</span></a><span class="kn">import</span> <span class="nn">re</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">  18</span></a><span class="kn">import</span> <span class="nn">tempfile</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">  19</span></a>
</span><span id="L-20"><a href="#L-20"><span class="linenos">  20</span></a><span class="kn">from</span> <span class="nn">dateutil.parser</span> <span class="kn">import</span> <span class="n">parse</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">  21</span></a>
</span><span id="L-22"><a href="#L-22"><span class="linenos">  22</span></a><span class="kn">from</span> <span class="nn">pinecone.core.client.exceptions</span> <span class="kn">import</span> <span class="p">(</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">  23</span></a>    <span class="n">ApiKeyError</span><span class="p">,</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">  24</span></a>    <span class="n">ApiAttributeError</span><span class="p">,</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">  25</span></a>    <span class="n">ApiTypeError</span><span class="p">,</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">  26</span></a>    <span class="n">ApiValueError</span><span class="p">,</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">  27</span></a><span class="p">)</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos">  28</span></a>
</span><span id="L-29"><a href="#L-29"><span class="linenos">  29</span></a><span class="n">none_type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">  30</span></a><span class="n">file_type</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">IOBase</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">  31</span></a>
</span><span id="L-32"><a href="#L-32"><span class="linenos">  32</span></a>
</span><span id="L-33"><a href="#L-33"><span class="linenos">  33</span></a><span class="k">def</span> <span class="nf">convert_js_args_to_python_args</span><span class="p">(</span><span class="n">fn</span><span class="p">):</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">  34</span></a>    <span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">  35</span></a>
</span><span id="L-36"><a href="#L-36"><span class="linenos">  36</span></a>    <span class="nd">@wraps</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">  37</span></a>    <span class="k">def</span> <span class="nf">wrapped_init</span><span class="p">(</span><span class="n">_self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">  38</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">  39</span></a><span class="sd">        An attribute named `self` received from the api will conflicts with the reserved `self`</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">  40</span></a><span class="sd">        parameter of a class method. During generation, `self` attributes are mapped</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">  41</span></a><span class="sd">        to `_self` in models. Here, we name `_self` instead of `self` to avoid conflicts.</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">  42</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos">  43</span></a>        <span class="n">spec_property_naming</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_spec_property_naming&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">  44</span></a>        <span class="k">if</span> <span class="n">spec_property_naming</span><span class="p">:</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">  45</span></a>            <span class="n">kwargs</span> <span class="o">=</span> <span class="n">change_keys_js_to_python</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">_self</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_self</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="k">else</span> <span class="n">_self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos">  46</span></a>        <span class="k">return</span> <span class="n">fn</span><span class="p">(</span><span class="n">_self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos">  47</span></a>
</span><span id="L-48"><a href="#L-48"><span class="linenos">  48</span></a>    <span class="k">return</span> <span class="n">wrapped_init</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">  49</span></a>
</span><span id="L-50"><a href="#L-50"><span class="linenos">  50</span></a>
</span><span id="L-51"><a href="#L-51"><span class="linenos">  51</span></a><span class="k">class</span> <span class="nc">cached_property</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos">  52</span></a>    <span class="c1"># this caches the result of the function call for fn with no inputs</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos">  53</span></a>    <span class="c1"># use this as a decorator on function methods that you want converted</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos">  54</span></a>    <span class="c1"># into cached properties</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos">  55</span></a>    <span class="n">result_key</span> <span class="o">=</span> <span class="s2">&quot;_results&quot;</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos">  56</span></a>
</span><span id="L-57"><a href="#L-57"><span class="linenos">  57</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn</span><span class="p">):</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos">  58</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_fn</span> <span class="o">=</span> <span class="n">fn</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos">  59</span></a>
</span><span id="L-60"><a href="#L-60"><span class="linenos">  60</span></a>    <span class="k">def</span> <span class="fm">__get__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos">  61</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_key</span> <span class="ow">in</span> <span class="nb">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos">  62</span></a>            <span class="k">return</span> <span class="nb">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)[</span><span class="bp">self</span><span class="o">.</span><span class="n">result_key</span><span class="p">]</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos">  63</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos">  64</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fn</span><span class="p">()</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos">  65</span></a>            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_key</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos">  66</span></a>            <span class="k">return</span> <span class="n">result</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos">  67</span></a>
</span><span id="L-68"><a href="#L-68"><span class="linenos">  68</span></a>
</span><span id="L-69"><a href="#L-69"><span class="linenos">  69</span></a><span class="n">PRIMITIVE_TYPES</span> <span class="o">=</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file_type</span><span class="p">)</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos">  70</span></a>
</span><span id="L-71"><a href="#L-71"><span class="linenos">  71</span></a>
</span><span id="L-72"><a href="#L-72"><span class="linenos">  72</span></a><span class="k">def</span> <span class="nf">allows_single_value_input</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos">  73</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos">  74</span></a><span class="sd">    This function returns True if the input composed schema model or any</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos">  75</span></a><span class="sd">    descendant model allows a value only input</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos">  76</span></a><span class="sd">    This is true for cases where oneOf contains items like:</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos">  77</span></a><span class="sd">    oneOf:</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos">  78</span></a><span class="sd">      - float</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos">  79</span></a><span class="sd">      - NumberWithValidation</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos">  80</span></a><span class="sd">      - StringEnum</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos">  81</span></a><span class="sd">      - ArrayModel</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos">  82</span></a><span class="sd">      - null</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos">  83</span></a><span class="sd">    TODO: lru_cache this</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos">  84</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos">  85</span></a>    <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">PRIMITIVE_TYPES</span><span class="p">:</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos">  86</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos">  87</span></a>    <span class="k">elif</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">):</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos">  88</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;oneOf&quot;</span><span class="p">]:</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos">  89</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos">  90</span></a>        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">allows_single_value_input</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;oneOf&quot;</span><span class="p">])</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos">  91</span></a>    <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos">  92</span></a>
</span><span id="L-93"><a href="#L-93"><span class="linenos">  93</span></a>
</span><span id="L-94"><a href="#L-94"><span class="linenos">  94</span></a><span class="k">def</span> <span class="nf">composed_model_input_classes</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos">  95</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos">  96</span></a><span class="sd">    This function returns a list of the possible models that can be accepted as</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos">  97</span></a><span class="sd">    inputs.</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos">  98</span></a><span class="sd">    TODO: lru_cache this</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos">  99</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos"> 100</span></a>    <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">PRIMITIVE_TYPES</span><span class="p">:</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos"> 101</span></a>        <span class="k">return</span> <span class="p">[</span><span class="bp">cls</span><span class="p">]</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos"> 102</span></a>    <span class="k">elif</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ModelNormal</span><span class="p">):</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos"> 103</span></a>        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos"> 104</span></a>            <span class="k">return</span> <span class="p">[</span><span class="bp">cls</span><span class="p">]</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos"> 105</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos"> 106</span></a>            <span class="k">return</span> <span class="n">get_discriminated_classes</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos"> 107</span></a>    <span class="k">elif</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">):</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos"> 108</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;oneOf&quot;</span><span class="p">]:</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos"> 109</span></a>            <span class="k">return</span> <span class="p">[]</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos"> 110</span></a>        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos"> 111</span></a>            <span class="n">input_classes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos"> 112</span></a>            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;oneOf&quot;</span><span class="p">]:</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos"> 113</span></a>                <span class="n">input_classes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">composed_model_input_classes</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos"> 114</span></a>            <span class="k">return</span> <span class="n">input_classes</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos"> 115</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos"> 116</span></a>            <span class="k">return</span> <span class="n">get_discriminated_classes</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos"> 117</span></a>    <span class="k">return</span> <span class="p">[]</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos"> 118</span></a>
</span><span id="L-119"><a href="#L-119"><span class="linenos"> 119</span></a>
</span><span id="L-120"><a href="#L-120"><span class="linenos"> 120</span></a><span class="k">class</span> <span class="nc">OpenApiModel</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos"> 121</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The base class for all OpenAPIModels&quot;&quot;&quot;</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos"> 122</span></a>
</span><span id="L-123"><a href="#L-123"><span class="linenos"> 123</span></a>    <span class="k">def</span> <span class="nf">set_attribute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos"> 124</span></a>        <span class="c1"># this is only used to set properties on self</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos"> 125</span></a>
</span><span id="L-126"><a href="#L-126"><span class="linenos"> 126</span></a>        <span class="n">path_to_item</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos"> 127</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_path_to_item</span><span class="p">:</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos"> 128</span></a>            <span class="n">path_to_item</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_path_to_item</span><span class="p">)</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos"> 129</span></a>        <span class="n">path_to_item</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos"> 130</span></a>
</span><span id="L-131"><a href="#L-131"><span class="linenos"> 131</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">openapi_types</span><span class="p">:</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos"> 132</span></a>            <span class="n">required_types_mixed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">openapi_types</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos"> 133</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos"> 134</span></a>            <span class="k">raise</span> <span class="n">ApiAttributeError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> has no attribute &#39;</span><span class="si">{1}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span> <span class="n">path_to_item</span><span class="p">)</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos"> 135</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos"> 136</span></a>            <span class="n">required_types_mixed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties_type</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos"> 137</span></a>
</span><span id="L-138"><a href="#L-138"><span class="linenos"> 138</span></a>        <span class="k">if</span> <span class="n">get_simple_class</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos"> 139</span></a>            <span class="n">error_msg</span> <span class="o">=</span> <span class="n">type_error_message</span><span class="p">(</span><span class="n">var_name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">var_value</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">valid_classes</span><span class="o">=</span><span class="p">(</span><span class="nb">str</span><span class="p">,),</span> <span class="n">key_type</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos"> 140</span></a>            <span class="k">raise</span> <span class="n">ApiTypeError</span><span class="p">(</span><span class="n">error_msg</span><span class="p">,</span> <span class="n">path_to_item</span><span class="o">=</span><span class="n">path_to_item</span><span class="p">,</span> <span class="n">valid_classes</span><span class="o">=</span><span class="p">(</span><span class="nb">str</span><span class="p">,),</span> <span class="n">key_type</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos"> 141</span></a>
</span><span id="L-142"><a href="#L-142"><span class="linenos"> 142</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_type</span><span class="p">:</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos"> 143</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="n">validate_and_convert_types</span><span class="p">(</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos"> 144</span></a>                <span class="n">value</span><span class="p">,</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos"> 145</span></a>                <span class="n">required_types_mixed</span><span class="p">,</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos"> 146</span></a>                <span class="n">path_to_item</span><span class="p">,</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos"> 147</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_spec_property_naming</span><span class="p">,</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos"> 148</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_check_type</span><span class="p">,</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos"> 149</span></a>                <span class="n">configuration</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span><span class="p">,</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos"> 150</span></a>            <span class="p">)</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos"> 151</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">name</span><span class="p">,)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">allowed_values</span><span class="p">:</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos"> 152</span></a>            <span class="n">check_allowed_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">allowed_values</span><span class="p">,</span> <span class="p">(</span><span class="n">name</span><span class="p">,),</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos"> 153</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">name</span><span class="p">,)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">validations</span><span class="p">:</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos"> 154</span></a>            <span class="n">check_validations</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">validations</span><span class="p">,</span> <span class="p">(</span><span class="n">name</span><span class="p">,),</span> <span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span><span class="p">)</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos"> 155</span></a>        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;_data_store&quot;</span><span class="p">][</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos"> 156</span></a>
</span><span id="L-157"><a href="#L-157"><span class="linenos"> 157</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos"> 158</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;For `print` and `pprint`&quot;&quot;&quot;</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos"> 159</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_str</span><span class="p">()</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos"> 160</span></a>
</span><span id="L-161"><a href="#L-161"><span class="linenos"> 161</span></a>    <span class="k">def</span> <span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos"> 162</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns true if both objects are not equal&quot;&quot;&quot;</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos"> 163</span></a>        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">other</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos"> 164</span></a>
</span><span id="L-165"><a href="#L-165"><span class="linenos"> 165</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos"> 166</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;set the value of an attribute using dot notation: `instance.attr = val`&quot;&quot;&quot;</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos"> 167</span></a>        <span class="bp">self</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos"> 168</span></a>
</span><span id="L-169"><a href="#L-169"><span class="linenos"> 169</span></a>    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos"> 170</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;get the value of an attribute using dot notation: `instance.attr`&quot;&quot;&quot;</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos"> 171</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos"> 172</span></a>
</span><span id="L-173"><a href="#L-173"><span class="linenos"> 173</span></a>    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos"> 174</span></a>        <span class="c1"># this function uses the discriminator to</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos"> 175</span></a>        <span class="c1"># pick a new schema/class to instantiate because a discriminator</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos"> 176</span></a>        <span class="c1"># propertyName value was passed in</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos"> 177</span></a>
</span><span id="L-178"><a href="#L-178"><span class="linenos"> 178</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos"> 179</span></a>            <span class="n">arg</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos"> 180</span></a>            <span class="k">if</span> <span class="n">arg</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">is_type_nullable</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos"> 181</span></a>                <span class="c1"># The input data is the &#39;null&#39; value and the type is nullable.</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos"> 182</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos"> 183</span></a>
</span><span id="L-184"><a href="#L-184"><span class="linenos"> 184</span></a>            <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">)</span> <span class="ow">and</span> <span class="n">allows_single_value_input</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos"> 185</span></a>                <span class="n">model_kwargs</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos"> 186</span></a>                <span class="n">oneof_instance</span> <span class="o">=</span> <span class="n">get_oneof_instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">model_kwargs</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">model_arg</span><span class="o">=</span><span class="n">arg</span><span class="p">)</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos"> 187</span></a>                <span class="k">return</span> <span class="n">oneof_instance</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos"> 188</span></a>
</span><span id="L-189"><a href="#L-189"><span class="linenos"> 189</span></a>        <span class="n">visited_composed_classes</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_visited_composed_classes&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos"> 190</span></a>        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">visited_composed_classes</span><span class="p">:</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos"> 191</span></a>            <span class="c1"># Use case 1: this openapi schema (cls) does not have a discriminator</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos"> 192</span></a>            <span class="c1"># Use case 2: we have already visited this class before and are sure that we</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos"> 193</span></a>            <span class="c1"># want to instantiate it this time. We have visited this class deserializing</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos"> 194</span></a>            <span class="c1"># a payload with a discriminator. During that process we traveled through</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos"> 195</span></a>            <span class="c1"># this class but did not make an instance of it. Now we are making an</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos"> 196</span></a>            <span class="c1"># instance of a composed class which contains cls in it, so this time make an instance of cls.</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos"> 197</span></a>            <span class="c1">#</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos"> 198</span></a>            <span class="c1"># Here&#39;s an example of use case 2: If Animal has a discriminator</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos"> 199</span></a>            <span class="c1"># petType and we pass in &quot;Dog&quot;, and the class Dog</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos"> 200</span></a>            <span class="c1"># allOf includes Animal, we move through Animal</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos"> 201</span></a>            <span class="c1"># once using the discriminator, and pick Dog.</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos"> 202</span></a>            <span class="c1"># Then in the composed schema dog Dog, we will make an instance of the</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos"> 203</span></a>            <span class="c1"># Animal class (because Dal has allOf: Animal) but this time we won&#39;t travel</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos"> 204</span></a>            <span class="c1"># through Animal&#39;s discriminator because we passed in</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos"> 205</span></a>            <span class="c1"># _visited_composed_classes = (Animal,)</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos"> 206</span></a>
</span><span id="L-207"><a href="#L-207"><span class="linenos"> 207</span></a>            <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">OpenApiModel</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos"> 208</span></a>
</span><span id="L-209"><a href="#L-209"><span class="linenos"> 209</span></a>        <span class="c1"># Get the name and value of the discriminator property.</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos"> 210</span></a>        <span class="c1"># The discriminator name is obtained from the discriminator meta-data</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos"> 211</span></a>        <span class="c1"># and the discriminator value is obtained from the input data.</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos"> 212</span></a>        <span class="n">discr_propertyname_py</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos"> 213</span></a>        <span class="n">discr_propertyname_js</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">attribute_map</span><span class="p">[</span><span class="n">discr_propertyname_py</span><span class="p">]</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos"> 214</span></a>        <span class="k">if</span> <span class="n">discr_propertyname_js</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos"> 215</span></a>            <span class="n">discr_value</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">discr_propertyname_js</span><span class="p">]</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos"> 216</span></a>        <span class="k">elif</span> <span class="n">discr_propertyname_py</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos"> 217</span></a>            <span class="n">discr_value</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">discr_propertyname_py</span><span class="p">]</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos"> 218</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos"> 219</span></a>            <span class="c1"># The input data does not contain the discriminator property.</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos"> 220</span></a>            <span class="n">path_to_item</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_path_to_item&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos"> 221</span></a>            <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos"> 222</span></a>                <span class="s2">&quot;Cannot deserialize input data due to missing discriminator. &quot;</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos"> 223</span></a>                <span class="s2">&quot;The discriminator property &#39;</span><span class="si">%s</span><span class="s2">&#39; is missing at path: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">discr_propertyname_js</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">)</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos"> 224</span></a>            <span class="p">)</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos"> 225</span></a>
</span><span id="L-226"><a href="#L-226"><span class="linenos"> 226</span></a>        <span class="c1"># Implementation note: the last argument to get_discriminator_class</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos"> 227</span></a>        <span class="c1"># is a list of visited classes. get_discriminator_class may recursively</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos"> 228</span></a>        <span class="c1"># call itself and update the list of visited classes, and the initial</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos"> 229</span></a>        <span class="c1"># value must be an empty list. Hence not using &#39;visited_composed_classes&#39;</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos"> 230</span></a>        <span class="n">new_cls</span> <span class="o">=</span> <span class="n">get_discriminator_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">discr_propertyname_py</span><span class="p">,</span> <span class="n">discr_value</span><span class="p">,</span> <span class="p">[])</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos"> 231</span></a>        <span class="k">if</span> <span class="n">new_cls</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos"> 232</span></a>            <span class="n">path_to_item</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_path_to_item&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos"> 233</span></a>            <span class="n">disc_prop_value</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">discr_propertyname_js</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">discr_propertyname_py</span><span class="p">))</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos"> 234</span></a>            <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos"> 235</span></a>                <span class="s2">&quot;Cannot deserialize input data due to invalid discriminator &quot;</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos"> 236</span></a>                <span class="s2">&quot;value. The OpenAPI document has no mapping for discriminator &quot;</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos"> 237</span></a>                <span class="s2">&quot;property &#39;</span><span class="si">%s</span><span class="s2">&#39;=&#39;</span><span class="si">%s</span><span class="s2">&#39; at path: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">discr_propertyname_js</span><span class="p">,</span> <span class="n">disc_prop_value</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">)</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos"> 238</span></a>            <span class="p">)</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos"> 239</span></a>
</span><span id="L-240"><a href="#L-240"><span class="linenos"> 240</span></a>        <span class="k">if</span> <span class="n">new_cls</span> <span class="ow">in</span> <span class="n">visited_composed_classes</span><span class="p">:</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos"> 241</span></a>            <span class="c1"># if we are making an instance of a composed schema Descendent</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos"> 242</span></a>            <span class="c1"># which allOf includes Ancestor, then Ancestor contains</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos"> 243</span></a>            <span class="c1"># a discriminator that includes Descendent.</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos"> 244</span></a>            <span class="c1"># So if we make an instance of Descendent, we have to make an</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos"> 245</span></a>            <span class="c1"># instance of Ancestor to hold the allOf properties.</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos"> 246</span></a>            <span class="c1"># This code detects that use case and makes the instance of Ancestor</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos"> 247</span></a>            <span class="c1"># For example:</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos"> 248</span></a>            <span class="c1"># When making an instance of Dog, _visited_composed_classes = (Dog,)</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos"> 249</span></a>            <span class="c1"># then we make an instance of Animal to include in dog._composed_instances</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos"> 250</span></a>            <span class="c1"># so when we are here, cls is Animal</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos"> 251</span></a>            <span class="c1"># cls.discriminator != None</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos"> 252</span></a>            <span class="c1"># cls not in _visited_composed_classes</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos"> 253</span></a>            <span class="c1"># new_cls = Dog</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos"> 254</span></a>            <span class="c1"># but we know we know that we already have Dog</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos"> 255</span></a>            <span class="c1"># because it is in visited_composed_classes</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos"> 256</span></a>            <span class="c1"># so make Animal here</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos"> 257</span></a>            <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">OpenApiModel</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos"> 258</span></a>
</span><span id="L-259"><a href="#L-259"><span class="linenos"> 259</span></a>        <span class="c1"># Build a list containing all oneOf and anyOf descendants.</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos"> 260</span></a>        <span class="n">oneof_anyof_classes</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos"> 261</span></a>        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos"> 262</span></a>            <span class="n">oneof_anyof_classes</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oneOf&quot;</span><span class="p">,</span> <span class="p">())</span> <span class="o">+</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;anyOf&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos"> 263</span></a>        <span class="n">oneof_anyof_child</span> <span class="o">=</span> <span class="n">new_cls</span> <span class="ow">in</span> <span class="n">oneof_anyof_classes</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos"> 264</span></a>        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;_visited_composed_classes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">visited_composed_classes</span> <span class="o">+</span> <span class="p">(</span><span class="bp">cls</span><span class="p">,)</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos"> 265</span></a>
</span><span id="L-266"><a href="#L-266"><span class="linenos"> 266</span></a>        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;allOf&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">oneof_anyof_child</span><span class="p">:</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos"> 267</span></a>            <span class="c1"># Validate that we can make self because when we make the</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos"> 268</span></a>            <span class="c1"># new_cls it will not include the allOf validations in self</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos"> 269</span></a>            <span class="n">self_inst</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">OpenApiModel</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos"> 270</span></a>            <span class="n">self_inst</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos"> 271</span></a>
</span><span id="L-272"><a href="#L-272"><span class="linenos"> 272</span></a>        <span class="n">new_inst</span> <span class="o">=</span> <span class="n">new_cls</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="n">new_cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos"> 273</span></a>        <span class="n">new_inst</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos"> 274</span></a>        <span class="k">return</span> <span class="n">new_inst</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos"> 275</span></a>
</span><span id="L-276"><a href="#L-276"><span class="linenos"> 276</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos"> 277</span></a>    <span class="nd">@convert_js_args_to_python_args</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos"> 278</span></a>    <span class="k">def</span> <span class="nf">_new_from_openapi_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos"> 279</span></a>        <span class="c1"># this function uses the discriminator to</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos"> 280</span></a>        <span class="c1"># pick a new schema/class to instantiate because a discriminator</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos"> 281</span></a>        <span class="c1"># propertyName value was passed in</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos"> 282</span></a>
</span><span id="L-283"><a href="#L-283"><span class="linenos"> 283</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos"> 284</span></a>            <span class="n">arg</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos"> 285</span></a>            <span class="k">if</span> <span class="n">arg</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">is_type_nullable</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos"> 286</span></a>                <span class="c1"># The input data is the &#39;null&#39; value and the type is nullable.</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos"> 287</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos"> 288</span></a>
</span><span id="L-289"><a href="#L-289"><span class="linenos"> 289</span></a>            <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">)</span> <span class="ow">and</span> <span class="n">allows_single_value_input</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos"> 290</span></a>                <span class="n">model_kwargs</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos"> 291</span></a>                <span class="n">oneof_instance</span> <span class="o">=</span> <span class="n">get_oneof_instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">model_kwargs</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">model_arg</span><span class="o">=</span><span class="n">arg</span><span class="p">)</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos"> 292</span></a>                <span class="k">return</span> <span class="n">oneof_instance</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos"> 293</span></a>
</span><span id="L-294"><a href="#L-294"><span class="linenos"> 294</span></a>        <span class="n">visited_composed_classes</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_visited_composed_classes&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos"> 295</span></a>        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">visited_composed_classes</span><span class="p">:</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos"> 296</span></a>            <span class="c1"># Use case 1: this openapi schema (cls) does not have a discriminator</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos"> 297</span></a>            <span class="c1"># Use case 2: we have already visited this class before and are sure that we</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos"> 298</span></a>            <span class="c1"># want to instantiate it this time. We have visited this class deserializing</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos"> 299</span></a>            <span class="c1"># a payload with a discriminator. During that process we traveled through</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos"> 300</span></a>            <span class="c1"># this class but did not make an instance of it. Now we are making an</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos"> 301</span></a>            <span class="c1"># instance of a composed class which contains cls in it, so this time make an instance of cls.</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos"> 302</span></a>            <span class="c1">#</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos"> 303</span></a>            <span class="c1"># Here&#39;s an example of use case 2: If Animal has a discriminator</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos"> 304</span></a>            <span class="c1"># petType and we pass in &quot;Dog&quot;, and the class Dog</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos"> 305</span></a>            <span class="c1"># allOf includes Animal, we move through Animal</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos"> 306</span></a>            <span class="c1"># once using the discriminator, and pick Dog.</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos"> 307</span></a>            <span class="c1"># Then in the composed schema dog Dog, we will make an instance of the</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos"> 308</span></a>            <span class="c1"># Animal class (because Dal has allOf: Animal) but this time we won&#39;t travel</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos"> 309</span></a>            <span class="c1"># through Animal&#39;s discriminator because we passed in</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos"> 310</span></a>            <span class="c1"># _visited_composed_classes = (Animal,)</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos"> 311</span></a>
</span><span id="L-312"><a href="#L-312"><span class="linenos"> 312</span></a>            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_from_openapi_data</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos"> 313</span></a>
</span><span id="L-314"><a href="#L-314"><span class="linenos"> 314</span></a>        <span class="c1"># Get the name and value of the discriminator property.</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos"> 315</span></a>        <span class="c1"># The discriminator name is obtained from the discriminator meta-data</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos"> 316</span></a>        <span class="c1"># and the discriminator value is obtained from the input data.</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos"> 317</span></a>        <span class="n">discr_propertyname_py</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos"> 318</span></a>        <span class="n">discr_propertyname_js</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">attribute_map</span><span class="p">[</span><span class="n">discr_propertyname_py</span><span class="p">]</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos"> 319</span></a>        <span class="k">if</span> <span class="n">discr_propertyname_js</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos"> 320</span></a>            <span class="n">discr_value</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">discr_propertyname_js</span><span class="p">]</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos"> 321</span></a>        <span class="k">elif</span> <span class="n">discr_propertyname_py</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos"> 322</span></a>            <span class="n">discr_value</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">discr_propertyname_py</span><span class="p">]</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos"> 323</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos"> 324</span></a>            <span class="c1"># The input data does not contain the discriminator property.</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos"> 325</span></a>            <span class="n">path_to_item</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_path_to_item&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos"> 326</span></a>            <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos"> 327</span></a>                <span class="s2">&quot;Cannot deserialize input data due to missing discriminator. &quot;</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos"> 328</span></a>                <span class="s2">&quot;The discriminator property &#39;</span><span class="si">%s</span><span class="s2">&#39; is missing at path: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">discr_propertyname_js</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">)</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos"> 329</span></a>            <span class="p">)</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos"> 330</span></a>
</span><span id="L-331"><a href="#L-331"><span class="linenos"> 331</span></a>        <span class="c1"># Implementation note: the last argument to get_discriminator_class</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos"> 332</span></a>        <span class="c1"># is a list of visited classes. get_discriminator_class may recursively</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos"> 333</span></a>        <span class="c1"># call itself and update the list of visited classes, and the initial</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos"> 334</span></a>        <span class="c1"># value must be an empty list. Hence not using &#39;visited_composed_classes&#39;</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos"> 335</span></a>        <span class="n">new_cls</span> <span class="o">=</span> <span class="n">get_discriminator_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">discr_propertyname_py</span><span class="p">,</span> <span class="n">discr_value</span><span class="p">,</span> <span class="p">[])</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos"> 336</span></a>        <span class="k">if</span> <span class="n">new_cls</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos"> 337</span></a>            <span class="n">path_to_item</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_path_to_item&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos"> 338</span></a>            <span class="n">disc_prop_value</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">discr_propertyname_js</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">discr_propertyname_py</span><span class="p">))</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos"> 339</span></a>            <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos"> 340</span></a>                <span class="s2">&quot;Cannot deserialize input data due to invalid discriminator &quot;</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos"> 341</span></a>                <span class="s2">&quot;value. The OpenAPI document has no mapping for discriminator &quot;</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos"> 342</span></a>                <span class="s2">&quot;property &#39;</span><span class="si">%s</span><span class="s2">&#39;=&#39;</span><span class="si">%s</span><span class="s2">&#39; at path: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">discr_propertyname_js</span><span class="p">,</span> <span class="n">disc_prop_value</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">)</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos"> 343</span></a>            <span class="p">)</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos"> 344</span></a>
</span><span id="L-345"><a href="#L-345"><span class="linenos"> 345</span></a>        <span class="k">if</span> <span class="n">new_cls</span> <span class="ow">in</span> <span class="n">visited_composed_classes</span><span class="p">:</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos"> 346</span></a>            <span class="c1"># if we are making an instance of a composed schema Descendent</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos"> 347</span></a>            <span class="c1"># which allOf includes Ancestor, then Ancestor contains</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos"> 348</span></a>            <span class="c1"># a discriminator that includes Descendent.</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos"> 349</span></a>            <span class="c1"># So if we make an instance of Descendent, we have to make an</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos"> 350</span></a>            <span class="c1"># instance of Ancestor to hold the allOf properties.</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos"> 351</span></a>            <span class="c1"># This code detects that use case and makes the instance of Ancestor</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos"> 352</span></a>            <span class="c1"># For example:</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos"> 353</span></a>            <span class="c1"># When making an instance of Dog, _visited_composed_classes = (Dog,)</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos"> 354</span></a>            <span class="c1"># then we make an instance of Animal to include in dog._composed_instances</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos"> 355</span></a>            <span class="c1"># so when we are here, cls is Animal</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos"> 356</span></a>            <span class="c1"># cls.discriminator != None</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos"> 357</span></a>            <span class="c1"># cls not in _visited_composed_classes</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos"> 358</span></a>            <span class="c1"># new_cls = Dog</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos"> 359</span></a>            <span class="c1"># but we know we know that we already have Dog</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos"> 360</span></a>            <span class="c1"># because it is in visited_composed_classes</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos"> 361</span></a>            <span class="c1"># so make Animal here</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos"> 362</span></a>            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_from_openapi_data</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos"> 363</span></a>
</span><span id="L-364"><a href="#L-364"><span class="linenos"> 364</span></a>        <span class="c1"># Build a list containing all oneOf and anyOf descendants.</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos"> 365</span></a>        <span class="n">oneof_anyof_classes</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos"> 366</span></a>        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos"> 367</span></a>            <span class="n">oneof_anyof_classes</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oneOf&quot;</span><span class="p">,</span> <span class="p">())</span> <span class="o">+</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;anyOf&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos"> 368</span></a>        <span class="n">oneof_anyof_child</span> <span class="o">=</span> <span class="n">new_cls</span> <span class="ow">in</span> <span class="n">oneof_anyof_classes</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos"> 369</span></a>        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;_visited_composed_classes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">visited_composed_classes</span> <span class="o">+</span> <span class="p">(</span><span class="bp">cls</span><span class="p">,)</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos"> 370</span></a>
</span><span id="L-371"><a href="#L-371"><span class="linenos"> 371</span></a>        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;allOf&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">oneof_anyof_child</span><span class="p">:</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos"> 372</span></a>            <span class="c1"># Validate that we can make self because when we make the</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos"> 373</span></a>            <span class="c1"># new_cls it will not include the allOf validations in self</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos"> 374</span></a>            <span class="n">self_inst</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_from_openapi_data</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos"> 375</span></a>
</span><span id="L-376"><a href="#L-376"><span class="linenos"> 376</span></a>        <span class="n">new_inst</span> <span class="o">=</span> <span class="n">new_cls</span><span class="o">.</span><span class="n">_new_from_openapi_data</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos"> 377</span></a>        <span class="k">return</span> <span class="n">new_inst</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos"> 378</span></a>
</span><span id="L-379"><a href="#L-379"><span class="linenos"> 379</span></a>
</span><span id="L-380"><a href="#L-380"><span class="linenos"> 380</span></a><span class="k">class</span> <span class="nc">ModelSimple</span><span class="p">(</span><span class="n">OpenApiModel</span><span class="p">):</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos"> 381</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;the parent class of models whose type != object in their</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos"> 382</span></a><span class="sd">    swagger/openapi&quot;&quot;&quot;</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos"> 383</span></a>
</span><span id="L-384"><a href="#L-384"><span class="linenos"> 384</span></a>    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos"> 385</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;set the value of an attribute using square-bracket notation: `instance[attr] = val`&quot;&quot;&quot;</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos"> 386</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos"> 387</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos"> 388</span></a>            <span class="k">return</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos"> 389</span></a>
</span><span id="L-390"><a href="#L-390"><span class="linenos"> 390</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos"> 391</span></a>
</span><span id="L-392"><a href="#L-392"><span class="linenos"> 392</span></a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos"> 393</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;returns the value of an attribute or some default value if the attribute was not set&quot;&quot;&quot;</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos"> 394</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos"> 395</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos"> 396</span></a>
</span><span id="L-397"><a href="#L-397"><span class="linenos"> 397</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;_data_store&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos"> 398</span></a>
</span><span id="L-399"><a href="#L-399"><span class="linenos"> 399</span></a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos"> 400</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;get the value of an attribute using square-bracket notation: `instance[attr]`&quot;&quot;&quot;</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos"> 401</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos"> 402</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos"> 403</span></a>
</span><span id="L-404"><a href="#L-404"><span class="linenos"> 404</span></a>        <span class="k">raise</span> <span class="n">ApiAttributeError</span><span class="p">(</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos"> 405</span></a>            <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> has no attribute &#39;</span><span class="si">{1}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_path_to_item</span><span class="p">,</span> <span class="n">name</span><span class="p">]</span> <span class="k">if</span> <span class="n">e</span><span class="p">]</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos"> 406</span></a>        <span class="p">)</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos"> 407</span></a>
</span><span id="L-408"><a href="#L-408"><span class="linenos"> 408</span></a>    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos"> 409</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;used by `in` operator to check if an attrbute value was set in an instance: `&#39;attr&#39; in instance`&quot;&quot;&quot;</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos"> 410</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos"> 411</span></a>            <span class="k">return</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos"> 412</span></a>
</span><span id="L-413"><a href="#L-413"><span class="linenos"> 413</span></a>        <span class="k">return</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;_data_store&quot;</span><span class="p">]</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos"> 414</span></a>
</span><span id="L-415"><a href="#L-415"><span class="linenos"> 415</span></a>    <span class="k">def</span> <span class="nf">to_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos"> 416</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the string representation of the model&quot;&quot;&quot;</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos"> 417</span></a>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos"> 418</span></a>
</span><span id="L-419"><a href="#L-419"><span class="linenos"> 419</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos"> 420</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns true if both objects are equal&quot;&quot;&quot;</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos"> 421</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos"> 422</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos"> 423</span></a>
</span><span id="L-424"><a href="#L-424"><span class="linenos"> 424</span></a>        <span class="n">this_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_store</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos"> 425</span></a>        <span class="n">that_val</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">_data_store</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos"> 426</span></a>        <span class="n">types</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos"> 427</span></a>        <span class="n">types</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">this_val</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos"> 428</span></a>        <span class="n">types</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">that_val</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos"> 429</span></a>        <span class="n">vals_equal</span> <span class="o">=</span> <span class="n">this_val</span> <span class="o">==</span> <span class="n">that_val</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos"> 430</span></a>        <span class="k">return</span> <span class="n">vals_equal</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos"> 431</span></a>
</span><span id="L-432"><a href="#L-432"><span class="linenos"> 432</span></a>
</span><span id="L-433"><a href="#L-433"><span class="linenos"> 433</span></a><span class="k">class</span> <span class="nc">ModelNormal</span><span class="p">(</span><span class="n">OpenApiModel</span><span class="p">):</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos"> 434</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;the parent class of models whose type == object in their</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos"> 435</span></a><span class="sd">    swagger/openapi&quot;&quot;&quot;</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos"> 436</span></a>
</span><span id="L-437"><a href="#L-437"><span class="linenos"> 437</span></a>    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos"> 438</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;set the value of an attribute using square-bracket notation: `instance[attr] = val`&quot;&quot;&quot;</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos"> 439</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos"> 440</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos"> 441</span></a>            <span class="k">return</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos"> 442</span></a>
</span><span id="L-443"><a href="#L-443"><span class="linenos"> 443</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos"> 444</span></a>
</span><span id="L-445"><a href="#L-445"><span class="linenos"> 445</span></a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos"> 446</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;returns the value of an attribute or some default value if the attribute was not set&quot;&quot;&quot;</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos"> 447</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos"> 448</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos"> 449</span></a>
</span><span id="L-450"><a href="#L-450"><span class="linenos"> 450</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;_data_store&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos"> 451</span></a>
</span><span id="L-452"><a href="#L-452"><span class="linenos"> 452</span></a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos"> 453</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;get the value of an attribute using square-bracket notation: `instance[attr]`&quot;&quot;&quot;</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos"> 454</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos"> 455</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos"> 456</span></a>
</span><span id="L-457"><a href="#L-457"><span class="linenos"> 457</span></a>        <span class="k">raise</span> <span class="n">ApiAttributeError</span><span class="p">(</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos"> 458</span></a>            <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> has no attribute &#39;</span><span class="si">{1}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_path_to_item</span><span class="p">,</span> <span class="n">name</span><span class="p">]</span> <span class="k">if</span> <span class="n">e</span><span class="p">]</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos"> 459</span></a>        <span class="p">)</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos"> 460</span></a>
</span><span id="L-461"><a href="#L-461"><span class="linenos"> 461</span></a>    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos"> 462</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;used by `in` operator to check if an attrbute value was set in an instance: `&#39;attr&#39; in instance`&quot;&quot;&quot;</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos"> 463</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos"> 464</span></a>            <span class="k">return</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos"> 465</span></a>
</span><span id="L-466"><a href="#L-466"><span class="linenos"> 466</span></a>        <span class="k">return</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;_data_store&quot;</span><span class="p">]</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos"> 467</span></a>
</span><span id="L-468"><a href="#L-468"><span class="linenos"> 468</span></a>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos"> 469</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the model properties as a dict&quot;&quot;&quot;</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos"> 470</span></a>        <span class="k">return</span> <span class="n">model_to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos"> 471</span></a>
</span><span id="L-472"><a href="#L-472"><span class="linenos"> 472</span></a>    <span class="k">def</span> <span class="nf">to_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos"> 473</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the string representation of the model&quot;&quot;&quot;</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos"> 474</span></a>        <span class="k">return</span> <span class="n">pprint</span><span class="o">.</span><span class="n">pformat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos"> 475</span></a>
</span><span id="L-476"><a href="#L-476"><span class="linenos"> 476</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos"> 477</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns true if both objects are equal&quot;&quot;&quot;</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos"> 478</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos"> 479</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos"> 480</span></a>
</span><span id="L-481"><a href="#L-481"><span class="linenos"> 481</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_store</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">_data_store</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos"> 482</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos"> 483</span></a>        <span class="k">for</span> <span class="n">_var_name</span><span class="p">,</span> <span class="n">this_val</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_store</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos"> 484</span></a>            <span class="n">that_val</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">_data_store</span><span class="p">[</span><span class="n">_var_name</span><span class="p">]</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos"> 485</span></a>            <span class="n">types</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos"> 486</span></a>            <span class="n">types</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">this_val</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos"> 487</span></a>            <span class="n">types</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">that_val</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos"> 488</span></a>            <span class="n">vals_equal</span> <span class="o">=</span> <span class="n">this_val</span> <span class="o">==</span> <span class="n">that_val</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos"> 489</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">vals_equal</span><span class="p">:</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos"> 490</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos"> 491</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos"> 492</span></a>
</span><span id="L-493"><a href="#L-493"><span class="linenos"> 493</span></a>
</span><span id="L-494"><a href="#L-494"><span class="linenos"> 494</span></a><span class="k">class</span> <span class="nc">ModelComposed</span><span class="p">(</span><span class="n">OpenApiModel</span><span class="p">):</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos"> 495</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;the parent class of models whose type == object in their</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos"> 496</span></a><span class="sd">    swagger/openapi and have oneOf/allOf/anyOf</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos"> 497</span></a>
</span><span id="L-498"><a href="#L-498"><span class="linenos"> 498</span></a><span class="sd">    When one sets a property we use var_name_to_model_instances to store the value in</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos"> 499</span></a><span class="sd">    the correct class instances + run any type checking + validation code.</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos"> 500</span></a><span class="sd">    When one gets a property we use var_name_to_model_instances to get the value</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos"> 501</span></a><span class="sd">    from the correct class instances.</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos"> 502</span></a><span class="sd">    This allows multiple composed schemas to contain the same property with additive</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos"> 503</span></a><span class="sd">    constraints on the value.</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos"> 504</span></a>
</span><span id="L-505"><a href="#L-505"><span class="linenos"> 505</span></a><span class="sd">    _composed_schemas (dict) stores the anyOf/allOf/oneOf classes</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos"> 506</span></a><span class="sd">    key (str): allOf/oneOf/anyOf</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos"> 507</span></a><span class="sd">    value (list): the classes in the XOf definition.</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos"> 508</span></a><span class="sd">        Note: none_type can be included when the openapi document version &gt;= 3.1.0</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos"> 509</span></a><span class="sd">    _composed_instances (list): stores a list of instances of the composed schemas</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos"> 510</span></a><span class="sd">    defined in _composed_schemas. When properties are accessed in the self instance,</span>
</span><span id="L-511"><a href="#L-511"><span class="linenos"> 511</span></a><span class="sd">    they are returned from the self._data_store or the data stores in the instances</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos"> 512</span></a><span class="sd">    in self._composed_schemas</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos"> 513</span></a><span class="sd">    _var_name_to_model_instances (dict): maps between a variable name on self and</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos"> 514</span></a><span class="sd">    the composed instances (self included) which contain that data</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos"> 515</span></a><span class="sd">    key (str): property name</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos"> 516</span></a><span class="sd">    value (list): list of class instances, self or instances in _composed_instances</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos"> 517</span></a><span class="sd">    which contain the value that the key is referring to.</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos"> 518</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos"> 519</span></a>
</span><span id="L-520"><a href="#L-520"><span class="linenos"> 520</span></a>    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos"> 521</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;set the value of an attribute using square-bracket notation: `instance[attr] = val`&quot;&quot;&quot;</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos"> 522</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos"> 523</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos"> 524</span></a>            <span class="k">return</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos"> 525</span></a>
</span><span id="L-526"><a href="#L-526"><span class="linenos"> 526</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos"> 527</span></a><span class="sd">        Use cases:</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos"> 528</span></a><span class="sd">        1. additional_properties_type is None (additionalProperties == False in spec)</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos"> 529</span></a><span class="sd">            Check for property presence in self.openapi_types</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos"> 530</span></a><span class="sd">            if not present then throw an error</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos"> 531</span></a><span class="sd">            if present set in self, set attribute</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos"> 532</span></a><span class="sd">            always set on composed schemas</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos"> 533</span></a><span class="sd">        2.  additional_properties_type exists</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos"> 534</span></a><span class="sd">            set attribute on self</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos"> 535</span></a><span class="sd">            always set on composed schemas</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos"> 536</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos"> 537</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos"> 538</span></a><span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos"> 539</span></a><span class="sd">            For an attribute to exist on a composed schema it must:</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos"> 540</span></a><span class="sd">            - fulfill schema_requirements in the self composed schema not considering oneOf/anyOf/allOf schemas AND</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos"> 541</span></a><span class="sd">            - fulfill schema_requirements in each oneOf/anyOf/allOf schemas</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos"> 542</span></a>
</span><span id="L-543"><a href="#L-543"><span class="linenos"> 543</span></a><span class="sd">            schema_requirements:</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos"> 544</span></a><span class="sd">            For an attribute to exist on a schema it must:</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos"> 545</span></a><span class="sd">            - be present in properties at the schema OR</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos"> 546</span></a><span class="sd">            - have additionalProperties unset (defaults additionalProperties = any type) OR</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos"> 547</span></a><span class="sd">            - have additionalProperties set</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos"> 548</span></a><span class="sd">            &quot;&quot;&quot;</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos"> 549</span></a>            <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">openapi_types</span><span class="p">:</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos"> 550</span></a>                <span class="k">raise</span> <span class="n">ApiAttributeError</span><span class="p">(</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos"> 551</span></a>                    <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> has no attribute &#39;</span><span class="si">{1}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos"> 552</span></a>                    <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_path_to_item</span><span class="p">,</span> <span class="n">name</span><span class="p">]</span> <span class="k">if</span> <span class="n">e</span><span class="p">],</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos"> 553</span></a>                <span class="p">)</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos"> 554</span></a>        <span class="c1"># attribute must be set on self and composed instances</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos"> 555</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos"> 556</span></a>        <span class="k">for</span> <span class="n">model_instance</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_composed_instances</span><span class="p">:</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos"> 557</span></a>            <span class="nb">setattr</span><span class="p">(</span><span class="n">model_instance</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos"> 558</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_var_name_to_model_instances</span><span class="p">:</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos"> 559</span></a>            <span class="c1"># we assigned an additional property</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos"> 560</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;_var_name_to_model_instances&quot;</span><span class="p">][</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_composed_instances</span> <span class="o">+</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos"> 561</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos"> 562</span></a>
</span><span id="L-563"><a href="#L-563"><span class="linenos"> 563</span></a>    <span class="n">__unset_attribute_value__</span> <span class="o">=</span> <span class="nb">object</span><span class="p">()</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos"> 564</span></a>
</span><span id="L-565"><a href="#L-565"><span class="linenos"> 565</span></a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos"> 566</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;returns the value of an attribute or some default value if the attribute was not set&quot;&quot;&quot;</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos"> 567</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos"> 568</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos"> 569</span></a>
</span><span id="L-570"><a href="#L-570"><span class="linenos"> 570</span></a>        <span class="c1"># get the attribute from the correct instance</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos"> 571</span></a>        <span class="n">model_instances</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_var_name_to_model_instances</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos"> 572</span></a>        <span class="n">values</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos"> 573</span></a>        <span class="c1"># A composed model stores self and child (oneof/anyOf/allOf) models under</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos"> 574</span></a>        <span class="c1"># self._var_name_to_model_instances.</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos"> 575</span></a>        <span class="c1"># Any property must exist in self and all model instances</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos"> 576</span></a>        <span class="c1"># The value stored in all model instances must be the same</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos"> 577</span></a>        <span class="k">if</span> <span class="n">model_instances</span><span class="p">:</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos"> 578</span></a>            <span class="k">for</span> <span class="n">model_instance</span> <span class="ow">in</span> <span class="n">model_instances</span><span class="p">:</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos"> 579</span></a>                <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">model_instance</span><span class="o">.</span><span class="n">_data_store</span><span class="p">:</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos"> 580</span></a>                    <span class="n">v</span> <span class="o">=</span> <span class="n">model_instance</span><span class="o">.</span><span class="n">_data_store</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos"> 581</span></a>                    <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos"> 582</span></a>                        <span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos"> 583</span></a>        <span class="n">len_values</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos"> 584</span></a>        <span class="k">if</span> <span class="n">len_values</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos"> 585</span></a>            <span class="k">return</span> <span class="n">default</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos"> 586</span></a>        <span class="k">elif</span> <span class="n">len_values</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos"> 587</span></a>            <span class="k">return</span> <span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos"> 588</span></a>        <span class="k">elif</span> <span class="n">len_values</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos"> 589</span></a>            <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos"> 590</span></a>                <span class="s2">&quot;Values stored for property </span><span class="si">{0}</span><span class="s2"> in </span><span class="si">{1}</span><span class="s2"> differ when looking &quot;</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos"> 591</span></a>                <span class="s2">&quot;at self and self&#39;s composed instances. All values must be &quot;</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos"> 592</span></a>                <span class="s2">&quot;the same&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">),</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos"> 593</span></a>                <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_path_to_item</span><span class="p">,</span> <span class="n">name</span><span class="p">]</span> <span class="k">if</span> <span class="n">e</span><span class="p">],</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos"> 594</span></a>            <span class="p">)</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos"> 595</span></a>
</span><span id="L-596"><a href="#L-596"><span class="linenos"> 596</span></a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos"> 597</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;get the value of an attribute using square-bracket notation: `instance[attr]`&quot;&quot;&quot;</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos"> 598</span></a>        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__unset_attribute_value__</span><span class="p">)</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos"> 599</span></a>        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">__unset_attribute_value__</span><span class="p">:</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos"> 600</span></a>            <span class="k">raise</span> <span class="n">ApiAttributeError</span><span class="p">(</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos"> 601</span></a>                <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> has no attribute &#39;</span><span class="si">{1}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos"> 602</span></a>                <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_path_to_item</span><span class="p">,</span> <span class="n">name</span><span class="p">]</span> <span class="k">if</span> <span class="n">e</span><span class="p">],</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos"> 603</span></a>            <span class="p">)</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos"> 604</span></a>        <span class="k">return</span> <span class="n">value</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos"> 605</span></a>
</span><span id="L-606"><a href="#L-606"><span class="linenos"> 606</span></a>    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos"> 607</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;used by `in` operator to check if an attrbute value was set in an instance: `&#39;attr&#39; in instance`&quot;&quot;&quot;</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos"> 608</span></a>
</span><span id="L-609"><a href="#L-609"><span class="linenos"> 609</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos"> 610</span></a>            <span class="k">return</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos"> 611</span></a>
</span><span id="L-612"><a href="#L-612"><span class="linenos"> 612</span></a>        <span class="n">model_instances</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_var_name_to_model_instances</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_additional_properties_model_instances</span><span class="p">)</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos"> 613</span></a>
</span><span id="L-614"><a href="#L-614"><span class="linenos"> 614</span></a>        <span class="k">if</span> <span class="n">model_instances</span><span class="p">:</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos"> 615</span></a>            <span class="k">for</span> <span class="n">model_instance</span> <span class="ow">in</span> <span class="n">model_instances</span><span class="p">:</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos"> 616</span></a>                <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">model_instance</span><span class="o">.</span><span class="n">_data_store</span><span class="p">:</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos"> 617</span></a>                    <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos"> 618</span></a>
</span><span id="L-619"><a href="#L-619"><span class="linenos"> 619</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos"> 620</span></a>
</span><span id="L-621"><a href="#L-621"><span class="linenos"> 621</span></a>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos"> 622</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the model properties as a dict&quot;&quot;&quot;</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos"> 623</span></a>        <span class="k">return</span> <span class="n">model_to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos"> 624</span></a>
</span><span id="L-625"><a href="#L-625"><span class="linenos"> 625</span></a>    <span class="k">def</span> <span class="nf">to_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos"> 626</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the string representation of the model&quot;&quot;&quot;</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos"> 627</span></a>        <span class="k">return</span> <span class="n">pprint</span><span class="o">.</span><span class="n">pformat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos"> 628</span></a>
</span><span id="L-629"><a href="#L-629"><span class="linenos"> 629</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos"> 630</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns true if both objects are equal&quot;&quot;&quot;</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos"> 631</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos"> 632</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos"> 633</span></a>
</span><span id="L-634"><a href="#L-634"><span class="linenos"> 634</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_store</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">_data_store</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos"> 635</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos"> 636</span></a>        <span class="k">for</span> <span class="n">_var_name</span><span class="p">,</span> <span class="n">this_val</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_store</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos"> 637</span></a>            <span class="n">that_val</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">_data_store</span><span class="p">[</span><span class="n">_var_name</span><span class="p">]</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos"> 638</span></a>            <span class="n">types</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos"> 639</span></a>            <span class="n">types</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">this_val</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos"> 640</span></a>            <span class="n">types</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">that_val</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos"> 641</span></a>            <span class="n">vals_equal</span> <span class="o">=</span> <span class="n">this_val</span> <span class="o">==</span> <span class="n">that_val</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos"> 642</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">vals_equal</span><span class="p">:</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos"> 643</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos"> 644</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos"> 645</span></a>
</span><span id="L-646"><a href="#L-646"><span class="linenos"> 646</span></a>
</span><span id="L-647"><a href="#L-647"><span class="linenos"> 647</span></a><span class="n">COERCION_INDEX_BY_TYPE</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos"> 648</span></a>    <span class="n">ModelComposed</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos"> 649</span></a>    <span class="n">ModelNormal</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos"> 650</span></a>    <span class="n">ModelSimple</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos"> 651</span></a>    <span class="n">none_type</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>  <span class="c1"># The type of &#39;None&#39;.</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos"> 652</span></a>    <span class="nb">list</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos"> 653</span></a>    <span class="nb">dict</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos"> 654</span></a>    <span class="nb">float</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos"> 655</span></a>    <span class="nb">int</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos"> 656</span></a>    <span class="nb">bool</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos"> 657</span></a>    <span class="n">datetime</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos"> 658</span></a>    <span class="n">date</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos"> 659</span></a>    <span class="nb">str</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos"> 660</span></a>    <span class="n">file_type</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>  <span class="c1"># &#39;file_type&#39; is an alias for the built-in &#39;file&#39; or &#39;io.IOBase&#39; type.</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos"> 661</span></a><span class="p">}</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos"> 662</span></a>
</span><span id="L-663"><a href="#L-663"><span class="linenos"> 663</span></a><span class="c1"># these are used to limit what type conversions we try to do</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos"> 664</span></a><span class="c1"># when we have a valid type already and we want to try converting</span>
</span><span id="L-665"><a href="#L-665"><span class="linenos"> 665</span></a><span class="c1"># to another type</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos"> 666</span></a><span class="n">UPCONVERSION_TYPE_PAIRS</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos"> 667</span></a>    <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">datetime</span><span class="p">),</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos"> 668</span></a>    <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">date</span><span class="p">),</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos"> 669</span></a>    <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span>  <span class="c1"># A float may be serialized as an integer, e.g. &#39;3&#39; is a valid serialized float.</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos"> 670</span></a>    <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">),</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos"> 671</span></a>    <span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">),</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos"> 672</span></a>    <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">),</span>
</span><span id="L-673"><a href="#L-673"><span class="linenos"> 673</span></a>    <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">),</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos"> 674</span></a>    <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">),</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos"> 675</span></a>    <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">),</span>
</span><span id="L-676"><a href="#L-676"><span class="linenos"> 676</span></a>    <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">ModelNormal</span><span class="p">),</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos"> 677</span></a>    <span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="n">ModelNormal</span><span class="p">),</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos"> 678</span></a>    <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">),</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos"> 679</span></a>    <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">),</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos"> 680</span></a>    <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">),</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos"> 681</span></a>    <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">),</span>
</span><span id="L-682"><a href="#L-682"><span class="linenos"> 682</span></a><span class="p">)</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos"> 683</span></a>
</span><span id="L-684"><a href="#L-684"><span class="linenos"> 684</span></a><span class="n">COERCIBLE_TYPE_PAIRS</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos"> 685</span></a>    <span class="kc">False</span><span class="p">:</span> <span class="p">(</span>  <span class="c1"># client instantiation of a model with client data</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos"> 686</span></a>        <span class="c1"># (dict, ModelComposed),</span>
</span><span id="L-687"><a href="#L-687"><span class="linenos"> 687</span></a>        <span class="c1"># (list, ModelComposed),</span>
</span><span id="L-688"><a href="#L-688"><span class="linenos"> 688</span></a>        <span class="c1"># (dict, ModelNormal),</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos"> 689</span></a>        <span class="c1"># (list, ModelNormal),</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos"> 690</span></a>        <span class="c1"># (str, ModelSimple),</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos"> 691</span></a>        <span class="c1"># (int, ModelSimple),</span>
</span><span id="L-692"><a href="#L-692"><span class="linenos"> 692</span></a>        <span class="c1"># (float, ModelSimple),</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos"> 693</span></a>        <span class="c1"># (list, ModelSimple),</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos"> 694</span></a>        <span class="c1"># (str, int),</span>
</span><span id="L-695"><a href="#L-695"><span class="linenos"> 695</span></a>        <span class="c1"># (str, float),</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos"> 696</span></a>        <span class="c1"># (str, datetime),</span>
</span><span id="L-697"><a href="#L-697"><span class="linenos"> 697</span></a>        <span class="c1"># (str, date),</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos"> 698</span></a>        <span class="c1"># (int, str),</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos"> 699</span></a>        <span class="c1"># (float, str),</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos"> 700</span></a>    <span class="p">),</span>
</span><span id="L-701"><a href="#L-701"><span class="linenos"> 701</span></a>    <span class="kc">True</span><span class="p">:</span> <span class="p">(</span>  <span class="c1"># server -&gt; client data</span>
</span><span id="L-702"><a href="#L-702"><span class="linenos"> 702</span></a>        <span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">),</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos"> 703</span></a>        <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">),</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos"> 704</span></a>        <span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="n">ModelNormal</span><span class="p">),</span>
</span><span id="L-705"><a href="#L-705"><span class="linenos"> 705</span></a>        <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">ModelNormal</span><span class="p">),</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos"> 706</span></a>        <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">),</span>
</span><span id="L-707"><a href="#L-707"><span class="linenos"> 707</span></a>        <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">),</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos"> 708</span></a>        <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">),</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos"> 709</span></a>        <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">),</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos"> 710</span></a>        <span class="c1"># (str, int),</span>
</span><span id="L-711"><a href="#L-711"><span class="linenos"> 711</span></a>        <span class="c1"># (str, float),</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos"> 712</span></a>        <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">datetime</span><span class="p">),</span>
</span><span id="L-713"><a href="#L-713"><span class="linenos"> 713</span></a>        <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">date</span><span class="p">),</span>
</span><span id="L-714"><a href="#L-714"><span class="linenos"> 714</span></a>        <span class="c1"># (int, str),</span>
</span><span id="L-715"><a href="#L-715"><span class="linenos"> 715</span></a>        <span class="c1"># (float, str),</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos"> 716</span></a>        <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">file_type</span><span class="p">),</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos"> 717</span></a>    <span class="p">),</span>
</span><span id="L-718"><a href="#L-718"><span class="linenos"> 718</span></a><span class="p">}</span>
</span><span id="L-719"><a href="#L-719"><span class="linenos"> 719</span></a>
</span><span id="L-720"><a href="#L-720"><span class="linenos"> 720</span></a>
</span><span id="L-721"><a href="#L-721"><span class="linenos"> 721</span></a><span class="k">def</span> <span class="nf">get_simple_class</span><span class="p">(</span><span class="n">input_value</span><span class="p">):</span>
</span><span id="L-722"><a href="#L-722"><span class="linenos"> 722</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns an input_value&#39;s simple class that we will use for type checking</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos"> 723</span></a><span class="sd">    Python2:</span>
</span><span id="L-724"><a href="#L-724"><span class="linenos"> 724</span></a><span class="sd">    float and int will return int, where int is the python3 int backport</span>
</span><span id="L-725"><a href="#L-725"><span class="linenos"> 725</span></a><span class="sd">    str and unicode will return str, where str is the python3 str backport</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos"> 726</span></a><span class="sd">    Note: float and int ARE both instances of int backport</span>
</span><span id="L-727"><a href="#L-727"><span class="linenos"> 727</span></a><span class="sd">    Note: str_py2 and unicode_py2 are NOT both instances of str backport</span>
</span><span id="L-728"><a href="#L-728"><span class="linenos"> 728</span></a>
</span><span id="L-729"><a href="#L-729"><span class="linenos"> 729</span></a><span class="sd">    Args:</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos"> 730</span></a><span class="sd">        input_value (class/class_instance): the item for which we will return</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos"> 731</span></a><span class="sd">                                            the simple class</span>
</span><span id="L-732"><a href="#L-732"><span class="linenos"> 732</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos"> 733</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">type</span><span class="p">):</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos"> 734</span></a>        <span class="c1"># input_value is a class</span>
</span><span id="L-735"><a href="#L-735"><span class="linenos"> 735</span></a>        <span class="k">return</span> <span class="n">input_value</span>
</span><span id="L-736"><a href="#L-736"><span class="linenos"> 736</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
</span><span id="L-737"><a href="#L-737"><span class="linenos"> 737</span></a>        <span class="k">return</span> <span class="nb">tuple</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos"> 738</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="L-739"><a href="#L-739"><span class="linenos"> 739</span></a>        <span class="k">return</span> <span class="nb">list</span>
</span><span id="L-740"><a href="#L-740"><span class="linenos"> 740</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos"> 741</span></a>        <span class="k">return</span> <span class="nb">dict</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos"> 742</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="n">none_type</span><span class="p">):</span>
</span><span id="L-743"><a href="#L-743"><span class="linenos"> 743</span></a>        <span class="k">return</span> <span class="n">none_type</span>
</span><span id="L-744"><a href="#L-744"><span class="linenos"> 744</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="n">file_type</span><span class="p">):</span>
</span><span id="L-745"><a href="#L-745"><span class="linenos"> 745</span></a>        <span class="k">return</span> <span class="n">file_type</span>
</span><span id="L-746"><a href="#L-746"><span class="linenos"> 746</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
</span><span id="L-747"><a href="#L-747"><span class="linenos"> 747</span></a>        <span class="c1"># this must be higher than the int check because</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos"> 748</span></a>        <span class="c1"># isinstance(True, int) == True</span>
</span><span id="L-749"><a href="#L-749"><span class="linenos"> 749</span></a>        <span class="k">return</span> <span class="nb">bool</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos"> 750</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos"> 751</span></a>        <span class="k">return</span> <span class="nb">int</span>
</span><span id="L-752"><a href="#L-752"><span class="linenos"> 752</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="n">datetime</span><span class="p">):</span>
</span><span id="L-753"><a href="#L-753"><span class="linenos"> 753</span></a>        <span class="c1"># this must be higher than the date check because</span>
</span><span id="L-754"><a href="#L-754"><span class="linenos"> 754</span></a>        <span class="c1"># isinstance(datetime_instance, date) == True</span>
</span><span id="L-755"><a href="#L-755"><span class="linenos"> 755</span></a>        <span class="k">return</span> <span class="n">datetime</span>
</span><span id="L-756"><a href="#L-756"><span class="linenos"> 756</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="n">date</span><span class="p">):</span>
</span><span id="L-757"><a href="#L-757"><span class="linenos"> 757</span></a>        <span class="k">return</span> <span class="n">date</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos"> 758</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-759"><a href="#L-759"><span class="linenos"> 759</span></a>        <span class="k">return</span> <span class="nb">str</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos"> 760</span></a>    <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">input_value</span><span class="p">)</span>
</span><span id="L-761"><a href="#L-761"><span class="linenos"> 761</span></a>
</span><span id="L-762"><a href="#L-762"><span class="linenos"> 762</span></a>
</span><span id="L-763"><a href="#L-763"><span class="linenos"> 763</span></a><span class="k">def</span> <span class="nf">check_allowed_values</span><span class="p">(</span><span class="n">allowed_values</span><span class="p">,</span> <span class="n">input_variable_path</span><span class="p">,</span> <span class="n">input_values</span><span class="p">):</span>
</span><span id="L-764"><a href="#L-764"><span class="linenos"> 764</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Raises an exception if the input_values are not allowed</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos"> 765</span></a>
</span><span id="L-766"><a href="#L-766"><span class="linenos"> 766</span></a><span class="sd">    Args:</span>
</span><span id="L-767"><a href="#L-767"><span class="linenos"> 767</span></a><span class="sd">        allowed_values (dict): the allowed_values dict</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos"> 768</span></a><span class="sd">        input_variable_path (tuple): the path to the input variable</span>
</span><span id="L-769"><a href="#L-769"><span class="linenos"> 769</span></a><span class="sd">        input_values (list/str/int/float/date/datetime): the values that we</span>
</span><span id="L-770"><a href="#L-770"><span class="linenos"> 770</span></a><span class="sd">            are checking to see if they are in allowed_values</span>
</span><span id="L-771"><a href="#L-771"><span class="linenos"> 771</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos"> 772</span></a>    <span class="n">these_allowed_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">allowed_values</span><span class="p">[</span><span class="n">input_variable_path</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos"> 773</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_values</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">these_allowed_values</span><span class="p">)):</span>
</span><span id="L-774"><a href="#L-774"><span class="linenos"> 774</span></a>        <span class="n">invalid_values</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">set</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">these_allowed_values</span><span class="p">))),)</span>
</span><span id="L-775"><a href="#L-775"><span class="linenos"> 775</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-776"><a href="#L-776"><span class="linenos"> 776</span></a>            <span class="s2">&quot;Invalid values for `</span><span class="si">%s</span><span class="s2">` [</span><span class="si">%s</span><span class="s2">], must be a subset of [</span><span class="si">%s</span><span class="s2">]&quot;</span>
</span><span id="L-777"><a href="#L-777"><span class="linenos"> 777</span></a>            <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">invalid_values</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">these_allowed_values</span><span class="p">)))</span>
</span><span id="L-778"><a href="#L-778"><span class="linenos"> 778</span></a>        <span class="p">)</span>
</span><span id="L-779"><a href="#L-779"><span class="linenos"> 779</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_values</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">(</span><span class="n">input_values</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">these_allowed_values</span><span class="p">)):</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos"> 780</span></a>        <span class="n">invalid_values</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">set</span><span class="p">(</span><span class="n">input_values</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">these_allowed_values</span><span class="p">)))</span>
</span><span id="L-781"><a href="#L-781"><span class="linenos"> 781</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-782"><a href="#L-782"><span class="linenos"> 782</span></a>            <span class="s2">&quot;Invalid keys in `</span><span class="si">%s</span><span class="s2">` [</span><span class="si">%s</span><span class="s2">], must be a subset of [</span><span class="si">%s</span><span class="s2">]&quot;</span>
</span><span id="L-783"><a href="#L-783"><span class="linenos"> 783</span></a>            <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">invalid_values</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">these_allowed_values</span><span class="p">)))</span>
</span><span id="L-784"><a href="#L-784"><span class="linenos"> 784</span></a>        <span class="p">)</span>
</span><span id="L-785"><a href="#L-785"><span class="linenos"> 785</span></a>    <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_values</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">dict</span><span class="p">))</span> <span class="ow">and</span> <span class="n">input_values</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">these_allowed_values</span><span class="p">:</span>
</span><span id="L-786"><a href="#L-786"><span class="linenos"> 786</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-787"><a href="#L-787"><span class="linenos"> 787</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">` (</span><span class="si">%s</span><span class="s2">), must be one of </span><span class="si">%s</span><span class="s2">&quot;</span>
</span><span id="L-788"><a href="#L-788"><span class="linenos"> 788</span></a>            <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">input_values</span><span class="p">,</span> <span class="n">these_allowed_values</span><span class="p">)</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos"> 789</span></a>        <span class="p">)</span>
</span><span id="L-790"><a href="#L-790"><span class="linenos"> 790</span></a>
</span><span id="L-791"><a href="#L-791"><span class="linenos"> 791</span></a>
</span><span id="L-792"><a href="#L-792"><span class="linenos"> 792</span></a><span class="k">def</span> <span class="nf">is_json_validation_enabled</span><span class="p">(</span><span class="n">schema_keyword</span><span class="p">,</span> <span class="n">configuration</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-793"><a href="#L-793"><span class="linenos"> 793</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns true if JSON schema validation is enabled for the specified</span>
</span><span id="L-794"><a href="#L-794"><span class="linenos"> 794</span></a><span class="sd">    validation keyword. This can be used to skip JSON schema structural validation</span>
</span><span id="L-795"><a href="#L-795"><span class="linenos"> 795</span></a><span class="sd">    as requested in the configuration.</span>
</span><span id="L-796"><a href="#L-796"><span class="linenos"> 796</span></a>
</span><span id="L-797"><a href="#L-797"><span class="linenos"> 797</span></a><span class="sd">    Args:</span>
</span><span id="L-798"><a href="#L-798"><span class="linenos"> 798</span></a><span class="sd">        schema_keyword (string): the name of a JSON schema validation keyword.</span>
</span><span id="L-799"><a href="#L-799"><span class="linenos"> 799</span></a><span class="sd">        configuration (Configuration): the configuration class.</span>
</span><span id="L-800"><a href="#L-800"><span class="linenos"> 800</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-801"><a href="#L-801"><span class="linenos"> 801</span></a>
</span><span id="L-802"><a href="#L-802"><span class="linenos"> 802</span></a>    <span class="k">return</span> <span class="p">(</span>
</span><span id="L-803"><a href="#L-803"><span class="linenos"> 803</span></a>        <span class="n">configuration</span> <span class="ow">is</span> <span class="kc">None</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos"> 804</span></a>        <span class="ow">or</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">configuration</span><span class="p">,</span> <span class="s2">&quot;_disabled_client_side_validations&quot;</span><span class="p">)</span>
</span><span id="L-805"><a href="#L-805"><span class="linenos"> 805</span></a>        <span class="ow">or</span> <span class="n">schema_keyword</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">configuration</span><span class="o">.</span><span class="n">_disabled_client_side_validations</span>
</span><span id="L-806"><a href="#L-806"><span class="linenos"> 806</span></a>    <span class="p">)</span>
</span><span id="L-807"><a href="#L-807"><span class="linenos"> 807</span></a>
</span><span id="L-808"><a href="#L-808"><span class="linenos"> 808</span></a>
</span><span id="L-809"><a href="#L-809"><span class="linenos"> 809</span></a><span class="k">def</span> <span class="nf">check_validations</span><span class="p">(</span><span class="n">validations</span><span class="p">,</span> <span class="n">input_variable_path</span><span class="p">,</span> <span class="n">input_values</span><span class="p">,</span> <span class="n">configuration</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-810"><a href="#L-810"><span class="linenos"> 810</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Raises an exception if the input_values are invalid</span>
</span><span id="L-811"><a href="#L-811"><span class="linenos"> 811</span></a>
</span><span id="L-812"><a href="#L-812"><span class="linenos"> 812</span></a><span class="sd">    Args:</span>
</span><span id="L-813"><a href="#L-813"><span class="linenos"> 813</span></a><span class="sd">        validations (dict): the validation dictionary.</span>
</span><span id="L-814"><a href="#L-814"><span class="linenos"> 814</span></a><span class="sd">        input_variable_path (tuple): the path to the input variable.</span>
</span><span id="L-815"><a href="#L-815"><span class="linenos"> 815</span></a><span class="sd">        input_values (list/str/int/float/date/datetime): the values that we</span>
</span><span id="L-816"><a href="#L-816"><span class="linenos"> 816</span></a><span class="sd">            are checking.</span>
</span><span id="L-817"><a href="#L-817"><span class="linenos"> 817</span></a><span class="sd">        configuration (Configuration): the configuration class.</span>
</span><span id="L-818"><a href="#L-818"><span class="linenos"> 818</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-819"><a href="#L-819"><span class="linenos"> 819</span></a>
</span><span id="L-820"><a href="#L-820"><span class="linenos"> 820</span></a>    <span class="k">if</span> <span class="n">input_values</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-821"><a href="#L-821"><span class="linenos"> 821</span></a>        <span class="k">return</span>
</span><span id="L-822"><a href="#L-822"><span class="linenos"> 822</span></a>
</span><span id="L-823"><a href="#L-823"><span class="linenos"> 823</span></a>    <span class="n">current_validations</span> <span class="o">=</span> <span class="n">validations</span><span class="p">[</span><span class="n">input_variable_path</span><span class="p">]</span>
</span><span id="L-824"><a href="#L-824"><span class="linenos"> 824</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="L-825"><a href="#L-825"><span class="linenos"> 825</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;multipleOf&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="L-826"><a href="#L-826"><span class="linenos"> 826</span></a>        <span class="ow">and</span> <span class="s2">&quot;multiple_of&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="L-827"><a href="#L-827"><span class="linenos"> 827</span></a>        <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_values</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">))</span>
</span><span id="L-828"><a href="#L-828"><span class="linenos"> 828</span></a>        <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span> <span class="o">/</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;multiple_of&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">is_integer</span><span class="p">()</span>
</span><span id="L-829"><a href="#L-829"><span class="linenos"> 829</span></a>    <span class="p">):</span>
</span><span id="L-830"><a href="#L-830"><span class="linenos"> 830</span></a>        <span class="c1"># Note &#39;multipleOf&#39; will be as good as the floating point arithmetic.</span>
</span><span id="L-831"><a href="#L-831"><span class="linenos"> 831</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-832"><a href="#L-832"><span class="linenos"> 832</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, value must be a multiple of &quot;</span>
</span><span id="L-833"><a href="#L-833"><span class="linenos"> 833</span></a>            <span class="s2">&quot;`</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;multiple_of&quot;</span><span class="p">])</span>
</span><span id="L-834"><a href="#L-834"><span class="linenos"> 834</span></a>        <span class="p">)</span>
</span><span id="L-835"><a href="#L-835"><span class="linenos"> 835</span></a>
</span><span id="L-836"><a href="#L-836"><span class="linenos"> 836</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="L-837"><a href="#L-837"><span class="linenos"> 837</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;maxLength&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="L-838"><a href="#L-838"><span class="linenos"> 838</span></a>        <span class="ow">and</span> <span class="s2">&quot;max_length&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="L-839"><a href="#L-839"><span class="linenos"> 839</span></a>        <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;max_length&quot;</span><span class="p">]</span>
</span><span id="L-840"><a href="#L-840"><span class="linenos"> 840</span></a>    <span class="p">):</span>
</span><span id="L-841"><a href="#L-841"><span class="linenos"> 841</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-842"><a href="#L-842"><span class="linenos"> 842</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, length must be less than or equal to &quot;</span>
</span><span id="L-843"><a href="#L-843"><span class="linenos"> 843</span></a>            <span class="s2">&quot;`</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;max_length&quot;</span><span class="p">])</span>
</span><span id="L-844"><a href="#L-844"><span class="linenos"> 844</span></a>        <span class="p">)</span>
</span><span id="L-845"><a href="#L-845"><span class="linenos"> 845</span></a>
</span><span id="L-846"><a href="#L-846"><span class="linenos"> 846</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="L-847"><a href="#L-847"><span class="linenos"> 847</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;minLength&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="L-848"><a href="#L-848"><span class="linenos"> 848</span></a>        <span class="ow">and</span> <span class="s2">&quot;min_length&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="L-849"><a href="#L-849"><span class="linenos"> 849</span></a>        <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;min_length&quot;</span><span class="p">]</span>
</span><span id="L-850"><a href="#L-850"><span class="linenos"> 850</span></a>    <span class="p">):</span>
</span><span id="L-851"><a href="#L-851"><span class="linenos"> 851</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-852"><a href="#L-852"><span class="linenos"> 852</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, length must be greater than or equal to &quot;</span>
</span><span id="L-853"><a href="#L-853"><span class="linenos"> 853</span></a>            <span class="s2">&quot;`</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;min_length&quot;</span><span class="p">])</span>
</span><span id="L-854"><a href="#L-854"><span class="linenos"> 854</span></a>        <span class="p">)</span>
</span><span id="L-855"><a href="#L-855"><span class="linenos"> 855</span></a>
</span><span id="L-856"><a href="#L-856"><span class="linenos"> 856</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="L-857"><a href="#L-857"><span class="linenos"> 857</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;maxItems&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="L-858"><a href="#L-858"><span class="linenos"> 858</span></a>        <span class="ow">and</span> <span class="s2">&quot;max_items&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="L-859"><a href="#L-859"><span class="linenos"> 859</span></a>        <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;max_items&quot;</span><span class="p">]</span>
</span><span id="L-860"><a href="#L-860"><span class="linenos"> 860</span></a>    <span class="p">):</span>
</span><span id="L-861"><a href="#L-861"><span class="linenos"> 861</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-862"><a href="#L-862"><span class="linenos"> 862</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, number of items must be less than or &quot;</span>
</span><span id="L-863"><a href="#L-863"><span class="linenos"> 863</span></a>            <span class="s2">&quot;equal to `</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;max_items&quot;</span><span class="p">])</span>
</span><span id="L-864"><a href="#L-864"><span class="linenos"> 864</span></a>        <span class="p">)</span>
</span><span id="L-865"><a href="#L-865"><span class="linenos"> 865</span></a>
</span><span id="L-866"><a href="#L-866"><span class="linenos"> 866</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="L-867"><a href="#L-867"><span class="linenos"> 867</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;minItems&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="L-868"><a href="#L-868"><span class="linenos"> 868</span></a>        <span class="ow">and</span> <span class="s2">&quot;min_items&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="L-869"><a href="#L-869"><span class="linenos"> 869</span></a>        <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;min_items&quot;</span><span class="p">]</span>
</span><span id="L-870"><a href="#L-870"><span class="linenos"> 870</span></a>    <span class="p">):</span>
</span><span id="L-871"><a href="#L-871"><span class="linenos"> 871</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="L-872"><a href="#L-872"><span class="linenos"> 872</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, number of items must be greater than or &quot;</span>
</span><span id="L-873"><a href="#L-873"><span class="linenos"> 873</span></a>            <span class="s2">&quot;equal to `</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;min_items&quot;</span><span class="p">])</span>
</span><span id="L-874"><a href="#L-874"><span class="linenos"> 874</span></a>        <span class="p">)</span>
</span><span id="L-875"><a href="#L-875"><span class="linenos"> 875</span></a>
</span><span id="L-876"><a href="#L-876"><span class="linenos"> 876</span></a>    <span class="n">items</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;exclusive_maximum&quot;</span><span class="p">,</span> <span class="s2">&quot;inclusive_maximum&quot;</span><span class="p">,</span> <span class="s2">&quot;exclusive_minimum&quot;</span><span class="p">,</span> <span class="s2">&quot;inclusive_minimum&quot;</span><span class="p">)</span>
</span><span id="L-877"><a href="#L-877"><span class="linenos"> 877</span></a>    <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">item</span> <span class="ow">in</span> <span class="n">current_validations</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">):</span>
</span><span id="L-878"><a href="#L-878"><span class="linenos"> 878</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_values</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="L-879"><a href="#L-879"><span class="linenos"> 879</span></a>            <span class="n">max_val</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span>
</span><span id="L-880"><a href="#L-880"><span class="linenos"> 880</span></a>            <span class="n">min_val</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span>
</span><span id="L-881"><a href="#L-881"><span class="linenos"> 881</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_values</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="L-882"><a href="#L-882"><span class="linenos"> 882</span></a>            <span class="n">max_val</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">input_values</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</span><span id="L-883"><a href="#L-883"><span class="linenos"> 883</span></a>            <span class="n">min_val</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">input_values</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</span><span id="L-884"><a href="#L-884"><span class="linenos"> 884</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-885"><a href="#L-885"><span class="linenos"> 885</span></a>            <span class="n">max_val</span> <span class="o">=</span> <span class="n">input_values</span>
</span><span id="L-886"><a href="#L-886"><span class="linenos"> 886</span></a>            <span class="n">min_val</span> <span class="o">=</span> <span class="n">input_values</span>
</span><span id="L-887"><a href="#L-887"><span class="linenos"> 887</span></a>
</span><span id="L-888"><a href="#L-888"><span class="linenos"> 888</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="L-889"><a href="#L-889"><span class="linenos"> 889</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;exclusiveMaximum&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="L-890"><a href="#L-890"><span class="linenos"> 890</span></a>        <span class="ow">and</span> <span class="s2">&quot;exclusive_maximum&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="L-891"><a href="#L-891"><span class="linenos"> 891</span></a>        <span class="ow">and</span> <span class="n">max_val</span> <span class="o">&gt;=</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;exclusive_maximum&quot;</span><span class="p">]</span>
</span><span id="L-892"><a href="#L-892"><span class="linenos"> 892</span></a>    <span class="p">):</span>
</span><span id="L-893"><a href="#L-893"><span class="linenos"> 893</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-894"><a href="#L-894"><span class="linenos"> 894</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, must be a value less than `</span><span class="si">%s</span><span class="s2">`&quot;</span>
</span><span id="L-895"><a href="#L-895"><span class="linenos"> 895</span></a>            <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;exclusive_maximum&quot;</span><span class="p">])</span>
</span><span id="L-896"><a href="#L-896"><span class="linenos"> 896</span></a>        <span class="p">)</span>
</span><span id="L-897"><a href="#L-897"><span class="linenos"> 897</span></a>
</span><span id="L-898"><a href="#L-898"><span class="linenos"> 898</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="L-899"><a href="#L-899"><span class="linenos"> 899</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;maximum&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="L-900"><a href="#L-900"><span class="linenos"> 900</span></a>        <span class="ow">and</span> <span class="s2">&quot;inclusive_maximum&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="L-901"><a href="#L-901"><span class="linenos"> 901</span></a>        <span class="ow">and</span> <span class="n">max_val</span> <span class="o">&gt;</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;inclusive_maximum&quot;</span><span class="p">]</span>
</span><span id="L-902"><a href="#L-902"><span class="linenos"> 902</span></a>    <span class="p">):</span>
</span><span id="L-903"><a href="#L-903"><span class="linenos"> 903</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-904"><a href="#L-904"><span class="linenos"> 904</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, must be a value less than or equal to &quot;</span>
</span><span id="L-905"><a href="#L-905"><span class="linenos"> 905</span></a>            <span class="s2">&quot;`</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;inclusive_maximum&quot;</span><span class="p">])</span>
</span><span id="L-906"><a href="#L-906"><span class="linenos"> 906</span></a>        <span class="p">)</span>
</span><span id="L-907"><a href="#L-907"><span class="linenos"> 907</span></a>
</span><span id="L-908"><a href="#L-908"><span class="linenos"> 908</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="L-909"><a href="#L-909"><span class="linenos"> 909</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;exclusiveMinimum&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="L-910"><a href="#L-910"><span class="linenos"> 910</span></a>        <span class="ow">and</span> <span class="s2">&quot;exclusive_minimum&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="L-911"><a href="#L-911"><span class="linenos"> 911</span></a>        <span class="ow">and</span> <span class="n">min_val</span> <span class="o">&lt;=</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;exclusive_minimum&quot;</span><span class="p">]</span>
</span><span id="L-912"><a href="#L-912"><span class="linenos"> 912</span></a>    <span class="p">):</span>
</span><span id="L-913"><a href="#L-913"><span class="linenos"> 913</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-914"><a href="#L-914"><span class="linenos"> 914</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, must be a value greater than `</span><span class="si">%s</span><span class="s2">`&quot;</span>
</span><span id="L-915"><a href="#L-915"><span class="linenos"> 915</span></a>            <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;exclusive_maximum&quot;</span><span class="p">])</span>
</span><span id="L-916"><a href="#L-916"><span class="linenos"> 916</span></a>        <span class="p">)</span>
</span><span id="L-917"><a href="#L-917"><span class="linenos"> 917</span></a>
</span><span id="L-918"><a href="#L-918"><span class="linenos"> 918</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="L-919"><a href="#L-919"><span class="linenos"> 919</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;minimum&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="L-920"><a href="#L-920"><span class="linenos"> 920</span></a>        <span class="ow">and</span> <span class="s2">&quot;inclusive_minimum&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="L-921"><a href="#L-921"><span class="linenos"> 921</span></a>        <span class="ow">and</span> <span class="n">min_val</span> <span class="o">&lt;</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;inclusive_minimum&quot;</span><span class="p">]</span>
</span><span id="L-922"><a href="#L-922"><span class="linenos"> 922</span></a>    <span class="p">):</span>
</span><span id="L-923"><a href="#L-923"><span class="linenos"> 923</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-924"><a href="#L-924"><span class="linenos"> 924</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, must be a value greater than or equal &quot;</span>
</span><span id="L-925"><a href="#L-925"><span class="linenos"> 925</span></a>            <span class="s2">&quot;to `</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;inclusive_minimum&quot;</span><span class="p">])</span>
</span><span id="L-926"><a href="#L-926"><span class="linenos"> 926</span></a>        <span class="p">)</span>
</span><span id="L-927"><a href="#L-927"><span class="linenos"> 927</span></a>    <span class="n">flags</span> <span class="o">=</span> <span class="n">current_validations</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;regex&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;flags&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="L-928"><a href="#L-928"><span class="linenos"> 928</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="L-929"><a href="#L-929"><span class="linenos"> 929</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;pattern&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="L-930"><a href="#L-930"><span class="linenos"> 930</span></a>        <span class="ow">and</span> <span class="s2">&quot;regex&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="L-931"><a href="#L-931"><span class="linenos"> 931</span></a>        <span class="ow">and</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;regex&quot;</span><span class="p">][</span><span class="s2">&quot;pattern&quot;</span><span class="p">],</span> <span class="n">input_values</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="p">)</span>
</span><span id="L-932"><a href="#L-932"><span class="linenos"> 932</span></a>    <span class="p">):</span>
</span><span id="L-933"><a href="#L-933"><span class="linenos"> 933</span></a>        <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, must match regular expression `</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span>
</span><span id="L-934"><a href="#L-934"><span class="linenos"> 934</span></a>            <span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
</span><span id="L-935"><a href="#L-935"><span class="linenos"> 935</span></a>            <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;regex&quot;</span><span class="p">][</span><span class="s2">&quot;pattern&quot;</span><span class="p">],</span>
</span><span id="L-936"><a href="#L-936"><span class="linenos"> 936</span></a>        <span class="p">)</span>
</span><span id="L-937"><a href="#L-937"><span class="linenos"> 937</span></a>        <span class="k">if</span> <span class="n">flags</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-938"><a href="#L-938"><span class="linenos"> 938</span></a>            <span class="c1"># Don&#39;t print the regex flags if the flags are not</span>
</span><span id="L-939"><a href="#L-939"><span class="linenos"> 939</span></a>            <span class="c1"># specified in the OAS document.</span>
</span><span id="L-940"><a href="#L-940"><span class="linenos"> 940</span></a>            <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> with flags=`</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">err_msg</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
</span><span id="L-941"><a href="#L-941"><span class="linenos"> 941</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span><span class="n">err_msg</span><span class="p">)</span>
</span><span id="L-942"><a href="#L-942"><span class="linenos"> 942</span></a>
</span><span id="L-943"><a href="#L-943"><span class="linenos"> 943</span></a>
</span><span id="L-944"><a href="#L-944"><span class="linenos"> 944</span></a><span class="k">def</span> <span class="nf">order_response_types</span><span class="p">(</span><span class="n">required_types</span><span class="p">):</span>
</span><span id="L-945"><a href="#L-945"><span class="linenos"> 945</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the required types sorted in coercion order</span>
</span><span id="L-946"><a href="#L-946"><span class="linenos"> 946</span></a>
</span><span id="L-947"><a href="#L-947"><span class="linenos"> 947</span></a><span class="sd">    Args:</span>
</span><span id="L-948"><a href="#L-948"><span class="linenos"> 948</span></a><span class="sd">        required_types (list/tuple): collection of classes or instance of</span>
</span><span id="L-949"><a href="#L-949"><span class="linenos"> 949</span></a><span class="sd">            list or dict with class information inside it.</span>
</span><span id="L-950"><a href="#L-950"><span class="linenos"> 950</span></a>
</span><span id="L-951"><a href="#L-951"><span class="linenos"> 951</span></a><span class="sd">    Returns:</span>
</span><span id="L-952"><a href="#L-952"><span class="linenos"> 952</span></a><span class="sd">        (list): coercion order sorted collection of classes or instance</span>
</span><span id="L-953"><a href="#L-953"><span class="linenos"> 953</span></a><span class="sd">            of list or dict with class information inside it.</span>
</span><span id="L-954"><a href="#L-954"><span class="linenos"> 954</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-955"><a href="#L-955"><span class="linenos"> 955</span></a>
</span><span id="L-956"><a href="#L-956"><span class="linenos"> 956</span></a>    <span class="k">def</span> <span class="nf">index_getter</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">):</span>
</span><span id="L-957"><a href="#L-957"><span class="linenos"> 957</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="L-958"><a href="#L-958"><span class="linenos"> 958</span></a>            <span class="k">return</span> <span class="n">COERCION_INDEX_BY_TYPE</span><span class="p">[</span><span class="nb">list</span><span class="p">]</span>
</span><span id="L-959"><a href="#L-959"><span class="linenos"> 959</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="L-960"><a href="#L-960"><span class="linenos"> 960</span></a>            <span class="k">return</span> <span class="n">COERCION_INDEX_BY_TYPE</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span>
</span><span id="L-961"><a href="#L-961"><span class="linenos"> 961</span></a>        <span class="k">elif</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">):</span>
</span><span id="L-962"><a href="#L-962"><span class="linenos"> 962</span></a>            <span class="k">return</span> <span class="n">COERCION_INDEX_BY_TYPE</span><span class="p">[</span><span class="n">ModelComposed</span><span class="p">]</span>
</span><span id="L-963"><a href="#L-963"><span class="linenos"> 963</span></a>        <span class="k">elif</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">,</span> <span class="n">ModelNormal</span><span class="p">):</span>
</span><span id="L-964"><a href="#L-964"><span class="linenos"> 964</span></a>            <span class="k">return</span> <span class="n">COERCION_INDEX_BY_TYPE</span><span class="p">[</span><span class="n">ModelNormal</span><span class="p">]</span>
</span><span id="L-965"><a href="#L-965"><span class="linenos"> 965</span></a>        <span class="k">elif</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">):</span>
</span><span id="L-966"><a href="#L-966"><span class="linenos"> 966</span></a>            <span class="k">return</span> <span class="n">COERCION_INDEX_BY_TYPE</span><span class="p">[</span><span class="n">ModelSimple</span><span class="p">]</span>
</span><span id="L-967"><a href="#L-967"><span class="linenos"> 967</span></a>        <span class="k">elif</span> <span class="n">class_or_instance</span> <span class="ow">in</span> <span class="n">COERCION_INDEX_BY_TYPE</span><span class="p">:</span>
</span><span id="L-968"><a href="#L-968"><span class="linenos"> 968</span></a>            <span class="k">return</span> <span class="n">COERCION_INDEX_BY_TYPE</span><span class="p">[</span><span class="n">class_or_instance</span><span class="p">]</span>
</span><span id="L-969"><a href="#L-969"><span class="linenos"> 969</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported type: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">class_or_instance</span><span class="p">)</span>
</span><span id="L-970"><a href="#L-970"><span class="linenos"> 970</span></a>
</span><span id="L-971"><a href="#L-971"><span class="linenos"> 971</span></a>    <span class="n">sorted_types</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">required_types</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">class_or_instance</span><span class="p">:</span> <span class="n">index_getter</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">))</span>
</span><span id="L-972"><a href="#L-972"><span class="linenos"> 972</span></a>    <span class="k">return</span> <span class="n">sorted_types</span>
</span><span id="L-973"><a href="#L-973"><span class="linenos"> 973</span></a>
</span><span id="L-974"><a href="#L-974"><span class="linenos"> 974</span></a>
</span><span id="L-975"><a href="#L-975"><span class="linenos"> 975</span></a><span class="k">def</span> <span class="nf">remove_uncoercible</span><span class="p">(</span><span class="n">required_types_classes</span><span class="p">,</span> <span class="n">current_item</span><span class="p">,</span> <span class="n">spec_property_naming</span><span class="p">,</span> <span class="n">must_convert</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="L-976"><a href="#L-976"><span class="linenos"> 976</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Only keeps the type conversions that are possible</span>
</span><span id="L-977"><a href="#L-977"><span class="linenos"> 977</span></a>
</span><span id="L-978"><a href="#L-978"><span class="linenos"> 978</span></a><span class="sd">    Args:</span>
</span><span id="L-979"><a href="#L-979"><span class="linenos"> 979</span></a><span class="sd">        required_types_classes (tuple): tuple of classes that are required</span>
</span><span id="L-980"><a href="#L-980"><span class="linenos"> 980</span></a><span class="sd">                          these should be ordered by COERCION_INDEX_BY_TYPE</span>
</span><span id="L-981"><a href="#L-981"><span class="linenos"> 981</span></a><span class="sd">        spec_property_naming (bool): True if the variable names in the input</span>
</span><span id="L-982"><a href="#L-982"><span class="linenos"> 982</span></a><span class="sd">            data are serialized names as specified in the OpenAPI document.</span>
</span><span id="L-983"><a href="#L-983"><span class="linenos"> 983</span></a><span class="sd">            False if the variables names in the input data are python</span>
</span><span id="L-984"><a href="#L-984"><span class="linenos"> 984</span></a><span class="sd">            variable names in PEP-8 snake case.</span>
</span><span id="L-985"><a href="#L-985"><span class="linenos"> 985</span></a><span class="sd">        current_item (any): the current item (input data) to be converted</span>
</span><span id="L-986"><a href="#L-986"><span class="linenos"> 986</span></a>
</span><span id="L-987"><a href="#L-987"><span class="linenos"> 987</span></a><span class="sd">    Keyword Args:</span>
</span><span id="L-988"><a href="#L-988"><span class="linenos"> 988</span></a><span class="sd">        must_convert (bool): if True the item to convert is of the wrong</span>
</span><span id="L-989"><a href="#L-989"><span class="linenos"> 989</span></a><span class="sd">                          type and we want a big list of coercibles</span>
</span><span id="L-990"><a href="#L-990"><span class="linenos"> 990</span></a><span class="sd">                          if False, we want a limited list of coercibles</span>
</span><span id="L-991"><a href="#L-991"><span class="linenos"> 991</span></a>
</span><span id="L-992"><a href="#L-992"><span class="linenos"> 992</span></a><span class="sd">    Returns:</span>
</span><span id="L-993"><a href="#L-993"><span class="linenos"> 993</span></a><span class="sd">        (list): the remaining coercible required types, classes only</span>
</span><span id="L-994"><a href="#L-994"><span class="linenos"> 994</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-995"><a href="#L-995"><span class="linenos"> 995</span></a>    <span class="n">current_type_simple</span> <span class="o">=</span> <span class="n">get_simple_class</span><span class="p">(</span><span class="n">current_item</span><span class="p">)</span>
</span><span id="L-996"><a href="#L-996"><span class="linenos"> 996</span></a>
</span><span id="L-997"><a href="#L-997"><span class="linenos"> 997</span></a>    <span class="n">results_classes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-998"><a href="#L-998"><span class="linenos"> 998</span></a>    <span class="k">for</span> <span class="n">required_type_class</span> <span class="ow">in</span> <span class="n">required_types_classes</span><span class="p">:</span>
</span><span id="L-999"><a href="#L-999"><span class="linenos"> 999</span></a>        <span class="c1"># convert our models to OpenApiModel</span>
</span><span id="L-1000"><a href="#L-1000"><span class="linenos">1000</span></a>        <span class="n">required_type_class_simplified</span> <span class="o">=</span> <span class="n">required_type_class</span>
</span><span id="L-1001"><a href="#L-1001"><span class="linenos">1001</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">required_type_class_simplified</span><span class="p">,</span> <span class="nb">type</span><span class="p">):</span>
</span><span id="L-1002"><a href="#L-1002"><span class="linenos">1002</span></a>            <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">required_type_class_simplified</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">):</span>
</span><span id="L-1003"><a href="#L-1003"><span class="linenos">1003</span></a>                <span class="n">required_type_class_simplified</span> <span class="o">=</span> <span class="n">ModelComposed</span>
</span><span id="L-1004"><a href="#L-1004"><span class="linenos">1004</span></a>            <span class="k">elif</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">required_type_class_simplified</span><span class="p">,</span> <span class="n">ModelNormal</span><span class="p">):</span>
</span><span id="L-1005"><a href="#L-1005"><span class="linenos">1005</span></a>                <span class="n">required_type_class_simplified</span> <span class="o">=</span> <span class="n">ModelNormal</span>
</span><span id="L-1006"><a href="#L-1006"><span class="linenos">1006</span></a>            <span class="k">elif</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">required_type_class_simplified</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">):</span>
</span><span id="L-1007"><a href="#L-1007"><span class="linenos">1007</span></a>                <span class="n">required_type_class_simplified</span> <span class="o">=</span> <span class="n">ModelSimple</span>
</span><span id="L-1008"><a href="#L-1008"><span class="linenos">1008</span></a>
</span><span id="L-1009"><a href="#L-1009"><span class="linenos">1009</span></a>        <span class="k">if</span> <span class="n">required_type_class_simplified</span> <span class="o">==</span> <span class="n">current_type_simple</span><span class="p">:</span>
</span><span id="L-1010"><a href="#L-1010"><span class="linenos">1010</span></a>            <span class="c1"># don&#39;t consider converting to one&#39;s own class</span>
</span><span id="L-1011"><a href="#L-1011"><span class="linenos">1011</span></a>            <span class="k">continue</span>
</span><span id="L-1012"><a href="#L-1012"><span class="linenos">1012</span></a>
</span><span id="L-1013"><a href="#L-1013"><span class="linenos">1013</span></a>        <span class="n">class_pair</span> <span class="o">=</span> <span class="p">(</span><span class="n">current_type_simple</span><span class="p">,</span> <span class="n">required_type_class_simplified</span><span class="p">)</span>
</span><span id="L-1014"><a href="#L-1014"><span class="linenos">1014</span></a>        <span class="k">if</span> <span class="n">must_convert</span> <span class="ow">and</span> <span class="n">class_pair</span> <span class="ow">in</span> <span class="n">COERCIBLE_TYPE_PAIRS</span><span class="p">[</span><span class="n">spec_property_naming</span><span class="p">]:</span>
</span><span id="L-1015"><a href="#L-1015"><span class="linenos">1015</span></a>            <span class="n">results_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">required_type_class</span><span class="p">)</span>
</span><span id="L-1016"><a href="#L-1016"><span class="linenos">1016</span></a>        <span class="k">elif</span> <span class="n">class_pair</span> <span class="ow">in</span> <span class="n">UPCONVERSION_TYPE_PAIRS</span><span class="p">:</span>
</span><span id="L-1017"><a href="#L-1017"><span class="linenos">1017</span></a>            <span class="n">results_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">required_type_class</span><span class="p">)</span>
</span><span id="L-1018"><a href="#L-1018"><span class="linenos">1018</span></a>    <span class="k">return</span> <span class="n">results_classes</span>
</span><span id="L-1019"><a href="#L-1019"><span class="linenos">1019</span></a>
</span><span id="L-1020"><a href="#L-1020"><span class="linenos">1020</span></a>
</span><span id="L-1021"><a href="#L-1021"><span class="linenos">1021</span></a><span class="k">def</span> <span class="nf">get_discriminated_classes</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="L-1022"><a href="#L-1022"><span class="linenos">1022</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1023"><a href="#L-1023"><span class="linenos">1023</span></a><span class="sd">    Returns all the classes that a discriminator converts to</span>
</span><span id="L-1024"><a href="#L-1024"><span class="linenos">1024</span></a><span class="sd">    TODO: lru_cache this</span>
</span><span id="L-1025"><a href="#L-1025"><span class="linenos">1025</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1026"><a href="#L-1026"><span class="linenos">1026</span></a>    <span class="n">possible_classes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1027"><a href="#L-1027"><span class="linenos">1027</span></a>    <span class="n">key</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-1028"><a href="#L-1028"><span class="linenos">1028</span></a>    <span class="k">if</span> <span class="n">is_type_nullable</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="L-1029"><a href="#L-1029"><span class="linenos">1029</span></a>        <span class="n">possible_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</span><span id="L-1030"><a href="#L-1030"><span class="linenos">1030</span></a>    <span class="k">for</span> <span class="n">discr_cls</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="L-1031"><a href="#L-1031"><span class="linenos">1031</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">discr_cls</span><span class="p">,</span> <span class="s2">&quot;discriminator&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">discr_cls</span><span class="o">.</span><span class="n">discriminator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1032"><a href="#L-1032"><span class="linenos">1032</span></a>            <span class="n">possible_classes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">get_discriminated_classes</span><span class="p">(</span><span class="n">discr_cls</span><span class="p">))</span>
</span><span id="L-1033"><a href="#L-1033"><span class="linenos">1033</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1034"><a href="#L-1034"><span class="linenos">1034</span></a>            <span class="n">possible_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">discr_cls</span><span class="p">)</span>
</span><span id="L-1035"><a href="#L-1035"><span class="linenos">1035</span></a>    <span class="k">return</span> <span class="n">possible_classes</span>
</span><span id="L-1036"><a href="#L-1036"><span class="linenos">1036</span></a>
</span><span id="L-1037"><a href="#L-1037"><span class="linenos">1037</span></a>
</span><span id="L-1038"><a href="#L-1038"><span class="linenos">1038</span></a><span class="k">def</span> <span class="nf">get_possible_classes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">from_server_context</span><span class="p">):</span>
</span><span id="L-1039"><a href="#L-1039"><span class="linenos">1039</span></a>    <span class="c1"># TODO: lru_cache this</span>
</span><span id="L-1040"><a href="#L-1040"><span class="linenos">1040</span></a>    <span class="n">possible_classes</span> <span class="o">=</span> <span class="p">[</span><span class="bp">cls</span><span class="p">]</span>
</span><span id="L-1041"><a href="#L-1041"><span class="linenos">1041</span></a>    <span class="k">if</span> <span class="n">from_server_context</span><span class="p">:</span>
</span><span id="L-1042"><a href="#L-1042"><span class="linenos">1042</span></a>        <span class="k">return</span> <span class="n">possible_classes</span>
</span><span id="L-1043"><a href="#L-1043"><span class="linenos">1043</span></a>    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s2">&quot;discriminator&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1044"><a href="#L-1044"><span class="linenos">1044</span></a>        <span class="n">possible_classes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1045"><a href="#L-1045"><span class="linenos">1045</span></a>        <span class="n">possible_classes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">get_discriminated_classes</span><span class="p">(</span><span class="bp">cls</span><span class="p">))</span>
</span><span id="L-1046"><a href="#L-1046"><span class="linenos">1046</span></a>    <span class="k">elif</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">):</span>
</span><span id="L-1047"><a href="#L-1047"><span class="linenos">1047</span></a>        <span class="n">possible_classes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">composed_model_input_classes</span><span class="p">(</span><span class="bp">cls</span><span class="p">))</span>
</span><span id="L-1048"><a href="#L-1048"><span class="linenos">1048</span></a>    <span class="k">return</span> <span class="n">possible_classes</span>
</span><span id="L-1049"><a href="#L-1049"><span class="linenos">1049</span></a>
</span><span id="L-1050"><a href="#L-1050"><span class="linenos">1050</span></a>
</span><span id="L-1051"><a href="#L-1051"><span class="linenos">1051</span></a><span class="k">def</span> <span class="nf">get_required_type_classes</span><span class="p">(</span><span class="n">required_types_mixed</span><span class="p">,</span> <span class="n">spec_property_naming</span><span class="p">):</span>
</span><span id="L-1052"><a href="#L-1052"><span class="linenos">1052</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts the tuple required_types into a tuple and a dict described</span>
</span><span id="L-1053"><a href="#L-1053"><span class="linenos">1053</span></a><span class="sd">    below</span>
</span><span id="L-1054"><a href="#L-1054"><span class="linenos">1054</span></a>
</span><span id="L-1055"><a href="#L-1055"><span class="linenos">1055</span></a><span class="sd">    Args:</span>
</span><span id="L-1056"><a href="#L-1056"><span class="linenos">1056</span></a><span class="sd">        required_types_mixed (tuple/list): will contain either classes or</span>
</span><span id="L-1057"><a href="#L-1057"><span class="linenos">1057</span></a><span class="sd">            instance of list or dict</span>
</span><span id="L-1058"><a href="#L-1058"><span class="linenos">1058</span></a><span class="sd">        spec_property_naming (bool): if True these values came from the</span>
</span><span id="L-1059"><a href="#L-1059"><span class="linenos">1059</span></a><span class="sd">            server, and we use the data types in our endpoints.</span>
</span><span id="L-1060"><a href="#L-1060"><span class="linenos">1060</span></a><span class="sd">            If False, we are client side and we need to include</span>
</span><span id="L-1061"><a href="#L-1061"><span class="linenos">1061</span></a><span class="sd">            oneOf and discriminator classes inside the data types in our endpoints</span>
</span><span id="L-1062"><a href="#L-1062"><span class="linenos">1062</span></a>
</span><span id="L-1063"><a href="#L-1063"><span class="linenos">1063</span></a><span class="sd">    Returns:</span>
</span><span id="L-1064"><a href="#L-1064"><span class="linenos">1064</span></a><span class="sd">        (valid_classes, dict_valid_class_to_child_types_mixed):</span>
</span><span id="L-1065"><a href="#L-1065"><span class="linenos">1065</span></a><span class="sd">            valid_classes (tuple): the valid classes that the current item</span>
</span><span id="L-1066"><a href="#L-1066"><span class="linenos">1066</span></a><span class="sd">                                   should be</span>
</span><span id="L-1067"><a href="#L-1067"><span class="linenos">1067</span></a><span class="sd">            dict_valid_class_to_child_types_mixed (dict):</span>
</span><span id="L-1068"><a href="#L-1068"><span class="linenos">1068</span></a><span class="sd">                valid_class (class): this is the key</span>
</span><span id="L-1069"><a href="#L-1069"><span class="linenos">1069</span></a><span class="sd">                child_types_mixed (list/dict/tuple): describes the valid child</span>
</span><span id="L-1070"><a href="#L-1070"><span class="linenos">1070</span></a><span class="sd">                    types</span>
</span><span id="L-1071"><a href="#L-1071"><span class="linenos">1071</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1072"><a href="#L-1072"><span class="linenos">1072</span></a>    <span class="n">valid_classes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1073"><a href="#L-1073"><span class="linenos">1073</span></a>    <span class="n">child_req_types_by_current_type</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-1074"><a href="#L-1074"><span class="linenos">1074</span></a>    <span class="k">for</span> <span class="n">required_type</span> <span class="ow">in</span> <span class="n">required_types_mixed</span><span class="p">:</span>
</span><span id="L-1075"><a href="#L-1075"><span class="linenos">1075</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">required_type</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="L-1076"><a href="#L-1076"><span class="linenos">1076</span></a>            <span class="n">valid_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
</span><span id="L-1077"><a href="#L-1077"><span class="linenos">1077</span></a>            <span class="n">child_req_types_by_current_type</span><span class="p">[</span><span class="nb">list</span><span class="p">]</span> <span class="o">=</span> <span class="n">required_type</span>
</span><span id="L-1078"><a href="#L-1078"><span class="linenos">1078</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">required_type</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
</span><span id="L-1079"><a href="#L-1079"><span class="linenos">1079</span></a>            <span class="n">valid_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">tuple</span><span class="p">)</span>
</span><span id="L-1080"><a href="#L-1080"><span class="linenos">1080</span></a>            <span class="n">child_req_types_by_current_type</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">=</span> <span class="n">required_type</span>
</span><span id="L-1081"><a href="#L-1081"><span class="linenos">1081</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">required_type</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="L-1082"><a href="#L-1082"><span class="linenos">1082</span></a>            <span class="n">valid_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>
</span><span id="L-1083"><a href="#L-1083"><span class="linenos">1083</span></a>            <span class="n">child_req_types_by_current_type</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="n">required_type</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="L-1084"><a href="#L-1084"><span class="linenos">1084</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1085"><a href="#L-1085"><span class="linenos">1085</span></a>            <span class="n">valid_classes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">get_possible_classes</span><span class="p">(</span><span class="n">required_type</span><span class="p">,</span> <span class="n">spec_property_naming</span><span class="p">))</span>
</span><span id="L-1086"><a href="#L-1086"><span class="linenos">1086</span></a>    <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">valid_classes</span><span class="p">),</span> <span class="n">child_req_types_by_current_type</span>
</span><span id="L-1087"><a href="#L-1087"><span class="linenos">1087</span></a>
</span><span id="L-1088"><a href="#L-1088"><span class="linenos">1088</span></a>
</span><span id="L-1089"><a href="#L-1089"><span class="linenos">1089</span></a><span class="k">def</span> <span class="nf">change_keys_js_to_python</span><span class="p">(</span><span class="n">input_dict</span><span class="p">,</span> <span class="n">model_class</span><span class="p">):</span>
</span><span id="L-1090"><a href="#L-1090"><span class="linenos">1090</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1091"><a href="#L-1091"><span class="linenos">1091</span></a><span class="sd">    Converts from javascript_key keys in the input_dict to python_keys in</span>
</span><span id="L-1092"><a href="#L-1092"><span class="linenos">1092</span></a><span class="sd">    the output dict using the mapping in model_class.</span>
</span><span id="L-1093"><a href="#L-1093"><span class="linenos">1093</span></a><span class="sd">    If the input_dict contains a key which does not declared in the model_class,</span>
</span><span id="L-1094"><a href="#L-1094"><span class="linenos">1094</span></a><span class="sd">    the key is added to the output dict as is. The assumption is the model_class</span>
</span><span id="L-1095"><a href="#L-1095"><span class="linenos">1095</span></a><span class="sd">    may have undeclared properties (additionalProperties attribute in the OAS</span>
</span><span id="L-1096"><a href="#L-1096"><span class="linenos">1096</span></a><span class="sd">    document).</span>
</span><span id="L-1097"><a href="#L-1097"><span class="linenos">1097</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1098"><a href="#L-1098"><span class="linenos">1098</span></a>
</span><span id="L-1099"><a href="#L-1099"><span class="linenos">1099</span></a>    <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">model_class</span><span class="p">,</span> <span class="s2">&quot;attribute_map&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1100"><a href="#L-1100"><span class="linenos">1100</span></a>        <span class="k">return</span> <span class="n">input_dict</span>
</span><span id="L-1101"><a href="#L-1101"><span class="linenos">1101</span></a>    <span class="n">output_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-1102"><a href="#L-1102"><span class="linenos">1102</span></a>    <span class="n">reversed_attr_map</span> <span class="o">=</span> <span class="p">{</span><span class="n">value</span><span class="p">:</span> <span class="n">key</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">model_class</span><span class="o">.</span><span class="n">attribute_map</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</span><span id="L-1103"><a href="#L-1103"><span class="linenos">1103</span></a>    <span class="k">for</span> <span class="n">javascript_key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">input_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-1104"><a href="#L-1104"><span class="linenos">1104</span></a>        <span class="n">python_key</span> <span class="o">=</span> <span class="n">reversed_attr_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">javascript_key</span><span class="p">)</span>
</span><span id="L-1105"><a href="#L-1105"><span class="linenos">1105</span></a>        <span class="k">if</span> <span class="n">python_key</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1106"><a href="#L-1106"><span class="linenos">1106</span></a>            <span class="c1"># if the key is unknown, it is in error or it is an</span>
</span><span id="L-1107"><a href="#L-1107"><span class="linenos">1107</span></a>            <span class="c1"># additionalProperties variable</span>
</span><span id="L-1108"><a href="#L-1108"><span class="linenos">1108</span></a>            <span class="n">python_key</span> <span class="o">=</span> <span class="n">javascript_key</span>
</span><span id="L-1109"><a href="#L-1109"><span class="linenos">1109</span></a>        <span class="n">output_dict</span><span class="p">[</span><span class="n">python_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-1110"><a href="#L-1110"><span class="linenos">1110</span></a>    <span class="k">return</span> <span class="n">output_dict</span>
</span><span id="L-1111"><a href="#L-1111"><span class="linenos">1111</span></a>
</span><span id="L-1112"><a href="#L-1112"><span class="linenos">1112</span></a>
</span><span id="L-1113"><a href="#L-1113"><span class="linenos">1113</span></a><span class="k">def</span> <span class="nf">get_type_error</span><span class="p">(</span><span class="n">var_value</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">,</span> <span class="n">valid_classes</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="L-1114"><a href="#L-1114"><span class="linenos">1114</span></a>    <span class="n">error_msg</span> <span class="o">=</span> <span class="n">type_error_message</span><span class="p">(</span>
</span><span id="L-1115"><a href="#L-1115"><span class="linenos">1115</span></a>        <span class="n">var_name</span><span class="o">=</span><span class="n">path_to_item</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">var_value</span><span class="o">=</span><span class="n">var_value</span><span class="p">,</span> <span class="n">valid_classes</span><span class="o">=</span><span class="n">valid_classes</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="n">key_type</span>
</span><span id="L-1116"><a href="#L-1116"><span class="linenos">1116</span></a>    <span class="p">)</span>
</span><span id="L-1117"><a href="#L-1117"><span class="linenos">1117</span></a>    <span class="k">return</span> <span class="n">ApiTypeError</span><span class="p">(</span><span class="n">error_msg</span><span class="p">,</span> <span class="n">path_to_item</span><span class="o">=</span><span class="n">path_to_item</span><span class="p">,</span> <span class="n">valid_classes</span><span class="o">=</span><span class="n">valid_classes</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="n">key_type</span><span class="p">)</span>
</span><span id="L-1118"><a href="#L-1118"><span class="linenos">1118</span></a>
</span><span id="L-1119"><a href="#L-1119"><span class="linenos">1119</span></a>
</span><span id="L-1120"><a href="#L-1120"><span class="linenos">1120</span></a><span class="k">def</span> <span class="nf">deserialize_primitive</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">klass</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">):</span>
</span><span id="L-1121"><a href="#L-1121"><span class="linenos">1121</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Deserializes string to primitive type.</span>
</span><span id="L-1122"><a href="#L-1122"><span class="linenos">1122</span></a>
</span><span id="L-1123"><a href="#L-1123"><span class="linenos">1123</span></a><span class="sd">    :param data: str/int/float</span>
</span><span id="L-1124"><a href="#L-1124"><span class="linenos">1124</span></a><span class="sd">    :param klass: str/class the class to convert to</span>
</span><span id="L-1125"><a href="#L-1125"><span class="linenos">1125</span></a>
</span><span id="L-1126"><a href="#L-1126"><span class="linenos">1126</span></a><span class="sd">    :return: int, float, str, bool, date, datetime</span>
</span><span id="L-1127"><a href="#L-1127"><span class="linenos">1127</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1128"><a href="#L-1128"><span class="linenos">1128</span></a>    <span class="n">additional_message</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-1129"><a href="#L-1129"><span class="linenos">1129</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="L-1130"><a href="#L-1130"><span class="linenos">1130</span></a>        <span class="k">if</span> <span class="n">klass</span> <span class="ow">in</span> <span class="p">{</span><span class="n">datetime</span><span class="p">,</span> <span class="n">date</span><span class="p">}:</span>
</span><span id="L-1131"><a href="#L-1131"><span class="linenos">1131</span></a>            <span class="n">additional_message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="L-1132"><a href="#L-1132"><span class="linenos">1132</span></a>                <span class="s2">&quot;If you need your parameter to have a fallback &quot;</span>
</span><span id="L-1133"><a href="#L-1133"><span class="linenos">1133</span></a>                <span class="s2">&quot;string value, please set its type as `type: </span><span class="si">{}</span><span class="s2">` in your &quot;</span>
</span><span id="L-1134"><a href="#L-1134"><span class="linenos">1134</span></a>                <span class="s2">&quot;spec. That allows the value to be any type. &quot;</span>
</span><span id="L-1135"><a href="#L-1135"><span class="linenos">1135</span></a>            <span class="p">)</span>
</span><span id="L-1136"><a href="#L-1136"><span class="linenos">1136</span></a>            <span class="k">if</span> <span class="n">klass</span> <span class="o">==</span> <span class="n">datetime</span><span class="p">:</span>
</span><span id="L-1137"><a href="#L-1137"><span class="linenos">1137</span></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">:</span>
</span><span id="L-1138"><a href="#L-1138"><span class="linenos">1138</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;This is not a datetime&quot;</span><span class="p">)</span>
</span><span id="L-1139"><a href="#L-1139"><span class="linenos">1139</span></a>                <span class="c1"># The string should be in iso8601 datetime format.</span>
</span><span id="L-1140"><a href="#L-1140"><span class="linenos">1140</span></a>                <span class="n">parsed_datetime</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="L-1141"><a href="#L-1141"><span class="linenos">1141</span></a>                <span class="n">date_only</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="L-1142"><a href="#L-1142"><span class="linenos">1142</span></a>                    <span class="n">parsed_datetime</span><span class="o">.</span><span class="n">hour</span> <span class="o">==</span> <span class="mi">0</span>
</span><span id="L-1143"><a href="#L-1143"><span class="linenos">1143</span></a>                    <span class="ow">and</span> <span class="n">parsed_datetime</span><span class="o">.</span><span class="n">minute</span> <span class="o">==</span> <span class="mi">0</span>
</span><span id="L-1144"><a href="#L-1144"><span class="linenos">1144</span></a>                    <span class="ow">and</span> <span class="n">parsed_datetime</span><span class="o">.</span><span class="n">second</span> <span class="o">==</span> <span class="mi">0</span>
</span><span id="L-1145"><a href="#L-1145"><span class="linenos">1145</span></a>                    <span class="ow">and</span> <span class="n">parsed_datetime</span><span class="o">.</span><span class="n">tzinfo</span> <span class="ow">is</span> <span class="kc">None</span>
</span><span id="L-1146"><a href="#L-1146"><span class="linenos">1146</span></a>                    <span class="ow">and</span> <span class="mi">8</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">10</span>
</span><span id="L-1147"><a href="#L-1147"><span class="linenos">1147</span></a>                <span class="p">)</span>
</span><span id="L-1148"><a href="#L-1148"><span class="linenos">1148</span></a>                <span class="k">if</span> <span class="n">date_only</span><span class="p">:</span>
</span><span id="L-1149"><a href="#L-1149"><span class="linenos">1149</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;This is a date, not a datetime&quot;</span><span class="p">)</span>
</span><span id="L-1150"><a href="#L-1150"><span class="linenos">1150</span></a>                <span class="k">return</span> <span class="n">parsed_datetime</span>
</span><span id="L-1151"><a href="#L-1151"><span class="linenos">1151</span></a>            <span class="k">elif</span> <span class="n">klass</span> <span class="o">==</span> <span class="n">date</span><span class="p">:</span>
</span><span id="L-1152"><a href="#L-1152"><span class="linenos">1152</span></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">:</span>
</span><span id="L-1153"><a href="#L-1153"><span class="linenos">1153</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;This is not a date&quot;</span><span class="p">)</span>
</span><span id="L-1154"><a href="#L-1154"><span class="linenos">1154</span></a>                <span class="k">return</span> <span class="n">parse</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
</span><span id="L-1155"><a href="#L-1155"><span class="linenos">1155</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1156"><a href="#L-1156"><span class="linenos">1156</span></a>            <span class="n">converted_value</span> <span class="o">=</span> <span class="n">klass</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="L-1157"><a href="#L-1157"><span class="linenos">1157</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">klass</span> <span class="o">==</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-1158"><a href="#L-1158"><span class="linenos">1158</span></a>                <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">converted_value</span><span class="p">)</span> <span class="o">!=</span> <span class="n">data</span><span class="p">:</span>
</span><span id="L-1159"><a href="#L-1159"><span class="linenos">1159</span></a>                    <span class="c1"># &#39;7&#39; -&gt; 7.0 -&gt; &#39;7.0&#39; != &#39;7&#39;</span>
</span><span id="L-1160"><a href="#L-1160"><span class="linenos">1160</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;This is not a float&quot;</span><span class="p">)</span>
</span><span id="L-1161"><a href="#L-1161"><span class="linenos">1161</span></a>            <span class="k">return</span> <span class="n">converted_value</span>
</span><span id="L-1162"><a href="#L-1162"><span class="linenos">1162</span></a>    <span class="k">except</span> <span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="L-1163"><a href="#L-1163"><span class="linenos">1163</span></a>        <span class="c1"># parse can raise OverflowError</span>
</span><span id="L-1164"><a href="#L-1164"><span class="linenos">1164</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-1165"><a href="#L-1165"><span class="linenos">1165</span></a>            <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">Failed to parse </span><span class="si">{1}</span><span class="s2"> as </span><span class="si">{2}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">additional_message</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">klass</span><span class="o">.</span><span class="vm">__name__</span><span class="p">),</span>
</span><span id="L-1166"><a href="#L-1166"><span class="linenos">1166</span></a>            <span class="n">path_to_item</span><span class="o">=</span><span class="n">path_to_item</span><span class="p">,</span>
</span><span id="L-1167"><a href="#L-1167"><span class="linenos">1167</span></a>        <span class="p">)</span> <span class="kn">from</span> <span class="nn">ex</span>
</span><span id="L-1168"><a href="#L-1168"><span class="linenos">1168</span></a>
</span><span id="L-1169"><a href="#L-1169"><span class="linenos">1169</span></a>
</span><span id="L-1170"><a href="#L-1170"><span class="linenos">1170</span></a><span class="k">def</span> <span class="nf">get_discriminator_class</span><span class="p">(</span><span class="n">model_class</span><span class="p">,</span> <span class="n">discr_name</span><span class="p">,</span> <span class="n">discr_value</span><span class="p">,</span> <span class="n">cls_visited</span><span class="p">):</span>
</span><span id="L-1171"><a href="#L-1171"><span class="linenos">1171</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the child class specified by the discriminator.</span>
</span><span id="L-1172"><a href="#L-1172"><span class="linenos">1172</span></a>
</span><span id="L-1173"><a href="#L-1173"><span class="linenos">1173</span></a><span class="sd">    Args:</span>
</span><span id="L-1174"><a href="#L-1174"><span class="linenos">1174</span></a><span class="sd">        model_class (OpenApiModel): the model class.</span>
</span><span id="L-1175"><a href="#L-1175"><span class="linenos">1175</span></a><span class="sd">        discr_name (string): the name of the discriminator property.</span>
</span><span id="L-1176"><a href="#L-1176"><span class="linenos">1176</span></a><span class="sd">        discr_value (any): the discriminator value.</span>
</span><span id="L-1177"><a href="#L-1177"><span class="linenos">1177</span></a><span class="sd">        cls_visited (list): list of model classes that have been visited.</span>
</span><span id="L-1178"><a href="#L-1178"><span class="linenos">1178</span></a><span class="sd">            Used to determine the discriminator class without</span>
</span><span id="L-1179"><a href="#L-1179"><span class="linenos">1179</span></a><span class="sd">            visiting circular references indefinitely.</span>
</span><span id="L-1180"><a href="#L-1180"><span class="linenos">1180</span></a>
</span><span id="L-1181"><a href="#L-1181"><span class="linenos">1181</span></a><span class="sd">    Returns:</span>
</span><span id="L-1182"><a href="#L-1182"><span class="linenos">1182</span></a><span class="sd">        used_model_class (class/None): the chosen child class that will be used</span>
</span><span id="L-1183"><a href="#L-1183"><span class="linenos">1183</span></a><span class="sd">            to deserialize the data, for example dog.Dog.</span>
</span><span id="L-1184"><a href="#L-1184"><span class="linenos">1184</span></a><span class="sd">            If a class is not found, None is returned.</span>
</span><span id="L-1185"><a href="#L-1185"><span class="linenos">1185</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1186"><a href="#L-1186"><span class="linenos">1186</span></a>
</span><span id="L-1187"><a href="#L-1187"><span class="linenos">1187</span></a>    <span class="k">if</span> <span class="n">model_class</span> <span class="ow">in</span> <span class="n">cls_visited</span><span class="p">:</span>
</span><span id="L-1188"><a href="#L-1188"><span class="linenos">1188</span></a>        <span class="c1"># The class has already been visited and no suitable class was found.</span>
</span><span id="L-1189"><a href="#L-1189"><span class="linenos">1189</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-1190"><a href="#L-1190"><span class="linenos">1190</span></a>    <span class="n">cls_visited</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">model_class</span><span class="p">)</span>
</span><span id="L-1191"><a href="#L-1191"><span class="linenos">1191</span></a>    <span class="n">used_model_class</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-1192"><a href="#L-1192"><span class="linenos">1192</span></a>    <span class="k">if</span> <span class="n">discr_name</span> <span class="ow">in</span> <span class="n">model_class</span><span class="o">.</span><span class="n">discriminator</span><span class="p">:</span>
</span><span id="L-1193"><a href="#L-1193"><span class="linenos">1193</span></a>        <span class="n">class_name_to_discr_class</span> <span class="o">=</span> <span class="n">model_class</span><span class="o">.</span><span class="n">discriminator</span><span class="p">[</span><span class="n">discr_name</span><span class="p">]</span>
</span><span id="L-1194"><a href="#L-1194"><span class="linenos">1194</span></a>        <span class="n">used_model_class</span> <span class="o">=</span> <span class="n">class_name_to_discr_class</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">discr_value</span><span class="p">)</span>
</span><span id="L-1195"><a href="#L-1195"><span class="linenos">1195</span></a>    <span class="k">if</span> <span class="n">used_model_class</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1196"><a href="#L-1196"><span class="linenos">1196</span></a>        <span class="c1"># We didn&#39;t find a discriminated class in class_name_to_discr_class.</span>
</span><span id="L-1197"><a href="#L-1197"><span class="linenos">1197</span></a>        <span class="c1"># So look in the ancestor or descendant discriminators</span>
</span><span id="L-1198"><a href="#L-1198"><span class="linenos">1198</span></a>        <span class="c1"># The discriminator mapping may exist in a descendant (anyOf, oneOf)</span>
</span><span id="L-1199"><a href="#L-1199"><span class="linenos">1199</span></a>        <span class="c1"># or ancestor (allOf).</span>
</span><span id="L-1200"><a href="#L-1200"><span class="linenos">1200</span></a>        <span class="c1"># Ancestor example: in the GrandparentAnimal -&gt; ParentPet -&gt; ChildCat</span>
</span><span id="L-1201"><a href="#L-1201"><span class="linenos">1201</span></a>        <span class="c1">#   hierarchy, the discriminator mappings may be defined at any level</span>
</span><span id="L-1202"><a href="#L-1202"><span class="linenos">1202</span></a>        <span class="c1">#   in the hierarchy.</span>
</span><span id="L-1203"><a href="#L-1203"><span class="linenos">1203</span></a>        <span class="c1"># Descendant example:  mammal -&gt; whale/zebra/Pig -&gt; BasquePig/DanishPig</span>
</span><span id="L-1204"><a href="#L-1204"><span class="linenos">1204</span></a>        <span class="c1">#   if we try to make BasquePig from mammal, we need to travel through</span>
</span><span id="L-1205"><a href="#L-1205"><span class="linenos">1205</span></a>        <span class="c1">#   the oneOf descendant discriminators to find BasquePig</span>
</span><span id="L-1206"><a href="#L-1206"><span class="linenos">1206</span></a>        <span class="n">descendant_classes</span> <span class="o">=</span> <span class="n">model_class</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oneOf&quot;</span><span class="p">,</span> <span class="p">())</span> <span class="o">+</span> <span class="n">model_class</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="L-1207"><a href="#L-1207"><span class="linenos">1207</span></a>            <span class="s2">&quot;anyOf&quot;</span><span class="p">,</span> <span class="p">()</span>
</span><span id="L-1208"><a href="#L-1208"><span class="linenos">1208</span></a>        <span class="p">)</span>
</span><span id="L-1209"><a href="#L-1209"><span class="linenos">1209</span></a>        <span class="n">ancestor_classes</span> <span class="o">=</span> <span class="n">model_class</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;allOf&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="L-1210"><a href="#L-1210"><span class="linenos">1210</span></a>        <span class="n">possible_classes</span> <span class="o">=</span> <span class="n">descendant_classes</span> <span class="o">+</span> <span class="n">ancestor_classes</span>
</span><span id="L-1211"><a href="#L-1211"><span class="linenos">1211</span></a>        <span class="k">for</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">possible_classes</span><span class="p">:</span>
</span><span id="L-1212"><a href="#L-1212"><span class="linenos">1212</span></a>            <span class="c1"># Check if the schema has inherited discriminators.</span>
</span><span id="L-1213"><a href="#L-1213"><span class="linenos">1213</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s2">&quot;discriminator&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1214"><a href="#L-1214"><span class="linenos">1214</span></a>                <span class="n">used_model_class</span> <span class="o">=</span> <span class="n">get_discriminator_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">discr_name</span><span class="p">,</span> <span class="n">discr_value</span><span class="p">,</span> <span class="n">cls_visited</span><span class="p">)</span>
</span><span id="L-1215"><a href="#L-1215"><span class="linenos">1215</span></a>                <span class="k">if</span> <span class="n">used_model_class</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1216"><a href="#L-1216"><span class="linenos">1216</span></a>                    <span class="k">return</span> <span class="n">used_model_class</span>
</span><span id="L-1217"><a href="#L-1217"><span class="linenos">1217</span></a>    <span class="k">return</span> <span class="n">used_model_class</span>
</span><span id="L-1218"><a href="#L-1218"><span class="linenos">1218</span></a>
</span><span id="L-1219"><a href="#L-1219"><span class="linenos">1219</span></a>
</span><span id="L-1220"><a href="#L-1220"><span class="linenos">1220</span></a><span class="k">def</span> <span class="nf">deserialize_model</span><span class="p">(</span><span class="n">model_data</span><span class="p">,</span> <span class="n">model_class</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">,</span> <span class="n">check_type</span><span class="p">,</span> <span class="n">configuration</span><span class="p">,</span> <span class="n">spec_property_naming</span><span class="p">):</span>
</span><span id="L-1221"><a href="#L-1221"><span class="linenos">1221</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Deserializes model_data to model instance.</span>
</span><span id="L-1222"><a href="#L-1222"><span class="linenos">1222</span></a>
</span><span id="L-1223"><a href="#L-1223"><span class="linenos">1223</span></a><span class="sd">    Args:</span>
</span><span id="L-1224"><a href="#L-1224"><span class="linenos">1224</span></a><span class="sd">        model_data (int/str/float/bool/none_type/list/dict): data to instantiate the model</span>
</span><span id="L-1225"><a href="#L-1225"><span class="linenos">1225</span></a><span class="sd">        model_class (OpenApiModel): the model class</span>
</span><span id="L-1226"><a href="#L-1226"><span class="linenos">1226</span></a><span class="sd">        path_to_item (list): path to the model in the received data</span>
</span><span id="L-1227"><a href="#L-1227"><span class="linenos">1227</span></a><span class="sd">        check_type (bool): whether to check the data tupe for the values in</span>
</span><span id="L-1228"><a href="#L-1228"><span class="linenos">1228</span></a><span class="sd">            the model</span>
</span><span id="L-1229"><a href="#L-1229"><span class="linenos">1229</span></a><span class="sd">        configuration (Configuration): the instance to use to convert files</span>
</span><span id="L-1230"><a href="#L-1230"><span class="linenos">1230</span></a><span class="sd">        spec_property_naming (bool): True if the variable names in the input</span>
</span><span id="L-1231"><a href="#L-1231"><span class="linenos">1231</span></a><span class="sd">            data are serialized names as specified in the OpenAPI document.</span>
</span><span id="L-1232"><a href="#L-1232"><span class="linenos">1232</span></a><span class="sd">            False if the variables names in the input data are python</span>
</span><span id="L-1233"><a href="#L-1233"><span class="linenos">1233</span></a><span class="sd">            variable names in PEP-8 snake case.</span>
</span><span id="L-1234"><a href="#L-1234"><span class="linenos">1234</span></a>
</span><span id="L-1235"><a href="#L-1235"><span class="linenos">1235</span></a><span class="sd">    Returns:</span>
</span><span id="L-1236"><a href="#L-1236"><span class="linenos">1236</span></a><span class="sd">        model instance</span>
</span><span id="L-1237"><a href="#L-1237"><span class="linenos">1237</span></a>
</span><span id="L-1238"><a href="#L-1238"><span class="linenos">1238</span></a><span class="sd">    Raise:</span>
</span><span id="L-1239"><a href="#L-1239"><span class="linenos">1239</span></a><span class="sd">        ApiTypeError</span>
</span><span id="L-1240"><a href="#L-1240"><span class="linenos">1240</span></a><span class="sd">        ApiValueError</span>
</span><span id="L-1241"><a href="#L-1241"><span class="linenos">1241</span></a><span class="sd">        ApiKeyError</span>
</span><span id="L-1242"><a href="#L-1242"><span class="linenos">1242</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1243"><a href="#L-1243"><span class="linenos">1243</span></a>
</span><span id="L-1244"><a href="#L-1244"><span class="linenos">1244</span></a>    <span class="n">kw_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
</span><span id="L-1245"><a href="#L-1245"><span class="linenos">1245</span></a>        <span class="n">_check_type</span><span class="o">=</span><span class="n">check_type</span><span class="p">,</span>
</span><span id="L-1246"><a href="#L-1246"><span class="linenos">1246</span></a>        <span class="n">_path_to_item</span><span class="o">=</span><span class="n">path_to_item</span><span class="p">,</span>
</span><span id="L-1247"><a href="#L-1247"><span class="linenos">1247</span></a>        <span class="n">_configuration</span><span class="o">=</span><span class="n">configuration</span><span class="p">,</span>
</span><span id="L-1248"><a href="#L-1248"><span class="linenos">1248</span></a>        <span class="n">_spec_property_naming</span><span class="o">=</span><span class="n">spec_property_naming</span><span class="p">,</span>
</span><span id="L-1249"><a href="#L-1249"><span class="linenos">1249</span></a>    <span class="p">)</span>
</span><span id="L-1250"><a href="#L-1250"><span class="linenos">1250</span></a>
</span><span id="L-1251"><a href="#L-1251"><span class="linenos">1251</span></a>    <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">model_class</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">):</span>
</span><span id="L-1252"><a href="#L-1252"><span class="linenos">1252</span></a>        <span class="k">return</span> <span class="n">model_class</span><span class="o">.</span><span class="n">_new_from_openapi_data</span><span class="p">(</span><span class="n">model_data</span><span class="p">,</span> <span class="o">**</span><span class="n">kw_args</span><span class="p">)</span>
</span><span id="L-1253"><a href="#L-1253"><span class="linenos">1253</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model_data</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="L-1254"><a href="#L-1254"><span class="linenos">1254</span></a>        <span class="k">return</span> <span class="n">model_class</span><span class="o">.</span><span class="n">_new_from_openapi_data</span><span class="p">(</span><span class="o">*</span><span class="n">model_data</span><span class="p">,</span> <span class="o">**</span><span class="n">kw_args</span><span class="p">)</span>
</span><span id="L-1255"><a href="#L-1255"><span class="linenos">1255</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model_data</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="L-1256"><a href="#L-1256"><span class="linenos">1256</span></a>        <span class="n">kw_args</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">model_data</span><span class="p">)</span>
</span><span id="L-1257"><a href="#L-1257"><span class="linenos">1257</span></a>        <span class="k">return</span> <span class="n">model_class</span><span class="o">.</span><span class="n">_new_from_openapi_data</span><span class="p">(</span><span class="o">**</span><span class="n">kw_args</span><span class="p">)</span>
</span><span id="L-1258"><a href="#L-1258"><span class="linenos">1258</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model_data</span><span class="p">,</span> <span class="n">PRIMITIVE_TYPES</span><span class="p">):</span>
</span><span id="L-1259"><a href="#L-1259"><span class="linenos">1259</span></a>        <span class="k">return</span> <span class="n">model_class</span><span class="o">.</span><span class="n">_new_from_openapi_data</span><span class="p">(</span><span class="n">model_data</span><span class="p">,</span> <span class="o">**</span><span class="n">kw_args</span><span class="p">)</span>
</span><span id="L-1260"><a href="#L-1260"><span class="linenos">1260</span></a>
</span><span id="L-1261"><a href="#L-1261"><span class="linenos">1261</span></a>
</span><span id="L-1262"><a href="#L-1262"><span class="linenos">1262</span></a><span class="k">def</span> <span class="nf">deserialize_file</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">configuration</span><span class="p">,</span> <span class="n">content_disposition</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-1263"><a href="#L-1263"><span class="linenos">1263</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Deserializes body to file</span>
</span><span id="L-1264"><a href="#L-1264"><span class="linenos">1264</span></a>
</span><span id="L-1265"><a href="#L-1265"><span class="linenos">1265</span></a><span class="sd">    Saves response body into a file in a temporary folder,</span>
</span><span id="L-1266"><a href="#L-1266"><span class="linenos">1266</span></a><span class="sd">    using the filename from the `Content-Disposition` header if provided.</span>
</span><span id="L-1267"><a href="#L-1267"><span class="linenos">1267</span></a>
</span><span id="L-1268"><a href="#L-1268"><span class="linenos">1268</span></a><span class="sd">    Args:</span>
</span><span id="L-1269"><a href="#L-1269"><span class="linenos">1269</span></a><span class="sd">        param response_data (str):  the file data to write</span>
</span><span id="L-1270"><a href="#L-1270"><span class="linenos">1270</span></a><span class="sd">        configuration (Configuration): the instance to use to convert files</span>
</span><span id="L-1271"><a href="#L-1271"><span class="linenos">1271</span></a>
</span><span id="L-1272"><a href="#L-1272"><span class="linenos">1272</span></a><span class="sd">    Keyword Args:</span>
</span><span id="L-1273"><a href="#L-1273"><span class="linenos">1273</span></a><span class="sd">        content_disposition (str):  the value of the Content-Disposition</span>
</span><span id="L-1274"><a href="#L-1274"><span class="linenos">1274</span></a><span class="sd">            header</span>
</span><span id="L-1275"><a href="#L-1275"><span class="linenos">1275</span></a>
</span><span id="L-1276"><a href="#L-1276"><span class="linenos">1276</span></a><span class="sd">    Returns:</span>
</span><span id="L-1277"><a href="#L-1277"><span class="linenos">1277</span></a><span class="sd">        (file_type): the deserialized file which is open</span>
</span><span id="L-1278"><a href="#L-1278"><span class="linenos">1278</span></a><span class="sd">            The user is responsible for closing and reading the file</span>
</span><span id="L-1279"><a href="#L-1279"><span class="linenos">1279</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1280"><a href="#L-1280"><span class="linenos">1280</span></a>    <span class="n">fd</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkstemp</span><span class="p">(</span><span class="nb">dir</span><span class="o">=</span><span class="n">configuration</span><span class="o">.</span><span class="n">temp_folder_path</span><span class="p">)</span>
</span><span id="L-1281"><a href="#L-1281"><span class="linenos">1281</span></a>    <span class="n">os</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">fd</span><span class="p">)</span>
</span><span id="L-1282"><a href="#L-1282"><span class="linenos">1282</span></a>    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</span><span id="L-1283"><a href="#L-1283"><span class="linenos">1283</span></a>
</span><span id="L-1284"><a href="#L-1284"><span class="linenos">1284</span></a>    <span class="k">if</span> <span class="n">content_disposition</span><span class="p">:</span>
</span><span id="L-1285"><a href="#L-1285"><span class="linenos">1285</span></a>        <span class="n">filename</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;filename=[</span><span class="se">\&#39;</span><span class="s1">&quot;]?([^</span><span class="se">\&#39;</span><span class="s1">&quot;\s]+)[</span><span class="se">\&#39;</span><span class="s1">&quot;]?&#39;</span><span class="p">,</span> <span class="n">content_disposition</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-1286"><a href="#L-1286"><span class="linenos">1286</span></a>        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">),</span> <span class="n">filename</span><span class="p">)</span>
</span><span id="L-1287"><a href="#L-1287"><span class="linenos">1287</span></a>
</span><span id="L-1288"><a href="#L-1288"><span class="linenos">1288</span></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><span id="L-1289"><a href="#L-1289"><span class="linenos">1289</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-1290"><a href="#L-1290"><span class="linenos">1290</span></a>            <span class="c1"># change str to bytes so we can write it</span>
</span><span id="L-1291"><a href="#L-1291"><span class="linenos">1291</span></a>            <span class="n">response_data</span> <span class="o">=</span> <span class="n">response_data</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</span><span id="L-1292"><a href="#L-1292"><span class="linenos">1292</span></a>        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">response_data</span><span class="p">)</span>
</span><span id="L-1293"><a href="#L-1293"><span class="linenos">1293</span></a>
</span><span id="L-1294"><a href="#L-1294"><span class="linenos">1294</span></a>    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
</span><span id="L-1295"><a href="#L-1295"><span class="linenos">1295</span></a>    <span class="k">return</span> <span class="n">f</span>
</span><span id="L-1296"><a href="#L-1296"><span class="linenos">1296</span></a>
</span><span id="L-1297"><a href="#L-1297"><span class="linenos">1297</span></a>
</span><span id="L-1298"><a href="#L-1298"><span class="linenos">1298</span></a><span class="k">def</span> <span class="nf">attempt_convert_item</span><span class="p">(</span>
</span><span id="L-1299"><a href="#L-1299"><span class="linenos">1299</span></a>    <span class="n">input_value</span><span class="p">,</span>
</span><span id="L-1300"><a href="#L-1300"><span class="linenos">1300</span></a>    <span class="n">valid_classes</span><span class="p">,</span>
</span><span id="L-1301"><a href="#L-1301"><span class="linenos">1301</span></a>    <span class="n">path_to_item</span><span class="p">,</span>
</span><span id="L-1302"><a href="#L-1302"><span class="linenos">1302</span></a>    <span class="n">configuration</span><span class="p">,</span>
</span><span id="L-1303"><a href="#L-1303"><span class="linenos">1303</span></a>    <span class="n">spec_property_naming</span><span class="p">,</span>
</span><span id="L-1304"><a href="#L-1304"><span class="linenos">1304</span></a>    <span class="n">key_type</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-1305"><a href="#L-1305"><span class="linenos">1305</span></a>    <span class="n">must_convert</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-1306"><a href="#L-1306"><span class="linenos">1306</span></a>    <span class="n">check_type</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="L-1307"><a href="#L-1307"><span class="linenos">1307</span></a><span class="p">):</span>
</span><span id="L-1308"><a href="#L-1308"><span class="linenos">1308</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1309"><a href="#L-1309"><span class="linenos">1309</span></a><span class="sd">    Args:</span>
</span><span id="L-1310"><a href="#L-1310"><span class="linenos">1310</span></a><span class="sd">        input_value (any): the data to convert</span>
</span><span id="L-1311"><a href="#L-1311"><span class="linenos">1311</span></a><span class="sd">        valid_classes (any): the classes that are valid</span>
</span><span id="L-1312"><a href="#L-1312"><span class="linenos">1312</span></a><span class="sd">        path_to_item (list): the path to the item to convert</span>
</span><span id="L-1313"><a href="#L-1313"><span class="linenos">1313</span></a><span class="sd">        configuration (Configuration): the instance to use to convert files</span>
</span><span id="L-1314"><a href="#L-1314"><span class="linenos">1314</span></a><span class="sd">        spec_property_naming (bool): True if the variable names in the input</span>
</span><span id="L-1315"><a href="#L-1315"><span class="linenos">1315</span></a><span class="sd">            data are serialized names as specified in the OpenAPI document.</span>
</span><span id="L-1316"><a href="#L-1316"><span class="linenos">1316</span></a><span class="sd">            False if the variables names in the input data are python</span>
</span><span id="L-1317"><a href="#L-1317"><span class="linenos">1317</span></a><span class="sd">            variable names in PEP-8 snake case.</span>
</span><span id="L-1318"><a href="#L-1318"><span class="linenos">1318</span></a><span class="sd">        key_type (bool): if True we need to convert a key type (not supported)</span>
</span><span id="L-1319"><a href="#L-1319"><span class="linenos">1319</span></a><span class="sd">        must_convert (bool): if True we must convert</span>
</span><span id="L-1320"><a href="#L-1320"><span class="linenos">1320</span></a><span class="sd">        check_type (bool): if True we check the type or the returned data in</span>
</span><span id="L-1321"><a href="#L-1321"><span class="linenos">1321</span></a><span class="sd">            ModelComposed/ModelNormal/ModelSimple instances</span>
</span><span id="L-1322"><a href="#L-1322"><span class="linenos">1322</span></a>
</span><span id="L-1323"><a href="#L-1323"><span class="linenos">1323</span></a><span class="sd">    Returns:</span>
</span><span id="L-1324"><a href="#L-1324"><span class="linenos">1324</span></a><span class="sd">        instance (any) the fixed item</span>
</span><span id="L-1325"><a href="#L-1325"><span class="linenos">1325</span></a>
</span><span id="L-1326"><a href="#L-1326"><span class="linenos">1326</span></a><span class="sd">    Raises:</span>
</span><span id="L-1327"><a href="#L-1327"><span class="linenos">1327</span></a><span class="sd">        ApiTypeError</span>
</span><span id="L-1328"><a href="#L-1328"><span class="linenos">1328</span></a><span class="sd">        ApiValueError</span>
</span><span id="L-1329"><a href="#L-1329"><span class="linenos">1329</span></a><span class="sd">        ApiKeyError</span>
</span><span id="L-1330"><a href="#L-1330"><span class="linenos">1330</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1331"><a href="#L-1331"><span class="linenos">1331</span></a>    <span class="n">valid_classes_ordered</span> <span class="o">=</span> <span class="n">order_response_types</span><span class="p">(</span><span class="n">valid_classes</span><span class="p">)</span>
</span><span id="L-1332"><a href="#L-1332"><span class="linenos">1332</span></a>    <span class="n">valid_classes_coercible</span> <span class="o">=</span> <span class="n">remove_uncoercible</span><span class="p">(</span><span class="n">valid_classes_ordered</span><span class="p">,</span> <span class="n">input_value</span><span class="p">,</span> <span class="n">spec_property_naming</span><span class="p">)</span>
</span><span id="L-1333"><a href="#L-1333"><span class="linenos">1333</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">valid_classes_coercible</span> <span class="ow">or</span> <span class="n">key_type</span><span class="p">:</span>
</span><span id="L-1334"><a href="#L-1334"><span class="linenos">1334</span></a>        <span class="c1"># we do not handle keytype errors, json will take care</span>
</span><span id="L-1335"><a href="#L-1335"><span class="linenos">1335</span></a>        <span class="c1"># of this for us</span>
</span><span id="L-1336"><a href="#L-1336"><span class="linenos">1336</span></a>        <span class="k">if</span> <span class="n">configuration</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">configuration</span><span class="o">.</span><span class="n">discard_unknown_keys</span><span class="p">:</span>
</span><span id="L-1337"><a href="#L-1337"><span class="linenos">1337</span></a>            <span class="k">raise</span> <span class="n">get_type_error</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">,</span> <span class="n">valid_classes</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="n">key_type</span><span class="p">)</span>
</span><span id="L-1338"><a href="#L-1338"><span class="linenos">1338</span></a>    <span class="k">for</span> <span class="n">valid_class</span> <span class="ow">in</span> <span class="n">valid_classes_coercible</span><span class="p">:</span>
</span><span id="L-1339"><a href="#L-1339"><span class="linenos">1339</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1340"><a href="#L-1340"><span class="linenos">1340</span></a>            <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">valid_class</span><span class="p">,</span> <span class="n">OpenApiModel</span><span class="p">):</span>
</span><span id="L-1341"><a href="#L-1341"><span class="linenos">1341</span></a>                <span class="k">return</span> <span class="n">deserialize_model</span><span class="p">(</span>
</span><span id="L-1342"><a href="#L-1342"><span class="linenos">1342</span></a>                    <span class="n">input_value</span><span class="p">,</span> <span class="n">valid_class</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">,</span> <span class="n">check_type</span><span class="p">,</span> <span class="n">configuration</span><span class="p">,</span> <span class="n">spec_property_naming</span>
</span><span id="L-1343"><a href="#L-1343"><span class="linenos">1343</span></a>                <span class="p">)</span>
</span><span id="L-1344"><a href="#L-1344"><span class="linenos">1344</span></a>            <span class="k">elif</span> <span class="n">valid_class</span> <span class="o">==</span> <span class="n">file_type</span><span class="p">:</span>
</span><span id="L-1345"><a href="#L-1345"><span class="linenos">1345</span></a>                <span class="k">return</span> <span class="n">deserialize_file</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="L-1346"><a href="#L-1346"><span class="linenos">1346</span></a>            <span class="k">return</span> <span class="n">deserialize_primitive</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="n">valid_class</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">)</span>
</span><span id="L-1347"><a href="#L-1347"><span class="linenos">1347</span></a>        <span class="k">except</span> <span class="p">(</span><span class="n">ApiTypeError</span><span class="p">,</span> <span class="n">ApiValueError</span><span class="p">,</span> <span class="n">ApiKeyError</span><span class="p">)</span> <span class="k">as</span> <span class="n">conversion_exc</span><span class="p">:</span>
</span><span id="L-1348"><a href="#L-1348"><span class="linenos">1348</span></a>            <span class="k">if</span> <span class="n">must_convert</span><span class="p">:</span>
</span><span id="L-1349"><a href="#L-1349"><span class="linenos">1349</span></a>                <span class="k">raise</span> <span class="n">conversion_exc</span>
</span><span id="L-1350"><a href="#L-1350"><span class="linenos">1350</span></a>            <span class="c1"># if we have conversion errors when must_convert == False</span>
</span><span id="L-1351"><a href="#L-1351"><span class="linenos">1351</span></a>            <span class="c1"># we ignore the exception and move on to the next class</span>
</span><span id="L-1352"><a href="#L-1352"><span class="linenos">1352</span></a>            <span class="k">continue</span>
</span><span id="L-1353"><a href="#L-1353"><span class="linenos">1353</span></a>    <span class="c1"># we were unable to convert, must_convert == False</span>
</span><span id="L-1354"><a href="#L-1354"><span class="linenos">1354</span></a>    <span class="k">return</span> <span class="n">input_value</span>
</span><span id="L-1355"><a href="#L-1355"><span class="linenos">1355</span></a>
</span><span id="L-1356"><a href="#L-1356"><span class="linenos">1356</span></a>
</span><span id="L-1357"><a href="#L-1357"><span class="linenos">1357</span></a><span class="k">def</span> <span class="nf">is_type_nullable</span><span class="p">(</span><span class="n">input_type</span><span class="p">):</span>
</span><span id="L-1358"><a href="#L-1358"><span class="linenos">1358</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1359"><a href="#L-1359"><span class="linenos">1359</span></a><span class="sd">    Returns true if None is an allowed value for the specified input_type.</span>
</span><span id="L-1360"><a href="#L-1360"><span class="linenos">1360</span></a>
</span><span id="L-1361"><a href="#L-1361"><span class="linenos">1361</span></a><span class="sd">    A type is nullable if at least one of the following conditions is true:</span>
</span><span id="L-1362"><a href="#L-1362"><span class="linenos">1362</span></a><span class="sd">    1. The OAS &#39;nullable&#39; attribute has been specified,</span>
</span><span id="L-1363"><a href="#L-1363"><span class="linenos">1363</span></a><span class="sd">    1. The type is the &#39;null&#39; type,</span>
</span><span id="L-1364"><a href="#L-1364"><span class="linenos">1364</span></a><span class="sd">    1. The type is a anyOf/oneOf composed schema, and a child schema is</span>
</span><span id="L-1365"><a href="#L-1365"><span class="linenos">1365</span></a><span class="sd">       the &#39;null&#39; type.</span>
</span><span id="L-1366"><a href="#L-1366"><span class="linenos">1366</span></a><span class="sd">    Args:</span>
</span><span id="L-1367"><a href="#L-1367"><span class="linenos">1367</span></a><span class="sd">        input_type (type): the class of the input_value that we are</span>
</span><span id="L-1368"><a href="#L-1368"><span class="linenos">1368</span></a><span class="sd">            checking</span>
</span><span id="L-1369"><a href="#L-1369"><span class="linenos">1369</span></a><span class="sd">    Returns:</span>
</span><span id="L-1370"><a href="#L-1370"><span class="linenos">1370</span></a><span class="sd">        bool</span>
</span><span id="L-1371"><a href="#L-1371"><span class="linenos">1371</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1372"><a href="#L-1372"><span class="linenos">1372</span></a>    <span class="k">if</span> <span class="n">input_type</span> <span class="ow">is</span> <span class="n">none_type</span><span class="p">:</span>
</span><span id="L-1373"><a href="#L-1373"><span class="linenos">1373</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-1374"><a href="#L-1374"><span class="linenos">1374</span></a>    <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">input_type</span><span class="p">,</span> <span class="n">OpenApiModel</span><span class="p">)</span> <span class="ow">and</span> <span class="n">input_type</span><span class="o">.</span><span class="n">_nullable</span><span class="p">:</span>
</span><span id="L-1375"><a href="#L-1375"><span class="linenos">1375</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-1376"><a href="#L-1376"><span class="linenos">1376</span></a>    <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">input_type</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">):</span>
</span><span id="L-1377"><a href="#L-1377"><span class="linenos">1377</span></a>        <span class="c1"># If oneOf/anyOf, check if the &#39;null&#39; type is one of the allowed types.</span>
</span><span id="L-1378"><a href="#L-1378"><span class="linenos">1378</span></a>        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">input_type</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oneOf&quot;</span><span class="p">,</span> <span class="p">()):</span>
</span><span id="L-1379"><a href="#L-1379"><span class="linenos">1379</span></a>            <span class="k">if</span> <span class="n">is_type_nullable</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
</span><span id="L-1380"><a href="#L-1380"><span class="linenos">1380</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-1381"><a href="#L-1381"><span class="linenos">1381</span></a>        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">input_type</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;anyOf&quot;</span><span class="p">,</span> <span class="p">()):</span>
</span><span id="L-1382"><a href="#L-1382"><span class="linenos">1382</span></a>            <span class="k">if</span> <span class="n">is_type_nullable</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
</span><span id="L-1383"><a href="#L-1383"><span class="linenos">1383</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-1384"><a href="#L-1384"><span class="linenos">1384</span></a>    <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-1385"><a href="#L-1385"><span class="linenos">1385</span></a>
</span><span id="L-1386"><a href="#L-1386"><span class="linenos">1386</span></a>
</span><span id="L-1387"><a href="#L-1387"><span class="linenos">1387</span></a><span class="k">def</span> <span class="nf">is_valid_type</span><span class="p">(</span><span class="n">input_class_simple</span><span class="p">,</span> <span class="n">valid_classes</span><span class="p">):</span>
</span><span id="L-1388"><a href="#L-1388"><span class="linenos">1388</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1389"><a href="#L-1389"><span class="linenos">1389</span></a><span class="sd">    Args:</span>
</span><span id="L-1390"><a href="#L-1390"><span class="linenos">1390</span></a><span class="sd">        input_class_simple (class): the class of the input_value that we are</span>
</span><span id="L-1391"><a href="#L-1391"><span class="linenos">1391</span></a><span class="sd">            checking</span>
</span><span id="L-1392"><a href="#L-1392"><span class="linenos">1392</span></a><span class="sd">        valid_classes (tuple): the valid classes that the current item</span>
</span><span id="L-1393"><a href="#L-1393"><span class="linenos">1393</span></a><span class="sd">            should be</span>
</span><span id="L-1394"><a href="#L-1394"><span class="linenos">1394</span></a><span class="sd">    Returns:</span>
</span><span id="L-1395"><a href="#L-1395"><span class="linenos">1395</span></a><span class="sd">        bool</span>
</span><span id="L-1396"><a href="#L-1396"><span class="linenos">1396</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1397"><a href="#L-1397"><span class="linenos">1397</span></a>    <span class="n">valid_type</span> <span class="o">=</span> <span class="n">input_class_simple</span> <span class="ow">in</span> <span class="n">valid_classes</span>
</span><span id="L-1398"><a href="#L-1398"><span class="linenos">1398</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">valid_type</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">issubclass</span><span class="p">(</span><span class="n">input_class_simple</span><span class="p">,</span> <span class="n">OpenApiModel</span><span class="p">)</span> <span class="ow">or</span> <span class="n">input_class_simple</span> <span class="ow">is</span> <span class="n">none_type</span><span class="p">):</span>
</span><span id="L-1399"><a href="#L-1399"><span class="linenos">1399</span></a>        <span class="k">for</span> <span class="n">valid_class</span> <span class="ow">in</span> <span class="n">valid_classes</span><span class="p">:</span>
</span><span id="L-1400"><a href="#L-1400"><span class="linenos">1400</span></a>            <span class="k">if</span> <span class="n">input_class_simple</span> <span class="ow">is</span> <span class="n">none_type</span> <span class="ow">and</span> <span class="n">is_type_nullable</span><span class="p">(</span><span class="n">valid_class</span><span class="p">):</span>
</span><span id="L-1401"><a href="#L-1401"><span class="linenos">1401</span></a>                <span class="c1"># Schema is oneOf/anyOf and the &#39;null&#39; type is one of the allowed types.</span>
</span><span id="L-1402"><a href="#L-1402"><span class="linenos">1402</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-1403"><a href="#L-1403"><span class="linenos">1403</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">issubclass</span><span class="p">(</span><span class="n">valid_class</span><span class="p">,</span> <span class="n">OpenApiModel</span><span class="p">)</span> <span class="ow">and</span> <span class="n">valid_class</span><span class="o">.</span><span class="n">discriminator</span><span class="p">):</span>
</span><span id="L-1404"><a href="#L-1404"><span class="linenos">1404</span></a>                <span class="k">continue</span>
</span><span id="L-1405"><a href="#L-1405"><span class="linenos">1405</span></a>            <span class="n">discr_propertyname_py</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">valid_class</span><span class="o">.</span><span class="n">discriminator</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-1406"><a href="#L-1406"><span class="linenos">1406</span></a>            <span class="n">discriminator_classes</span> <span class="o">=</span> <span class="n">valid_class</span><span class="o">.</span><span class="n">discriminator</span><span class="p">[</span><span class="n">discr_propertyname_py</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</span><span id="L-1407"><a href="#L-1407"><span class="linenos">1407</span></a>            <span class="n">valid_type</span> <span class="o">=</span> <span class="n">is_valid_type</span><span class="p">(</span><span class="n">input_class_simple</span><span class="p">,</span> <span class="n">discriminator_classes</span><span class="p">)</span>
</span><span id="L-1408"><a href="#L-1408"><span class="linenos">1408</span></a>            <span class="k">if</span> <span class="n">valid_type</span><span class="p">:</span>
</span><span id="L-1409"><a href="#L-1409"><span class="linenos">1409</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-1410"><a href="#L-1410"><span class="linenos">1410</span></a>    <span class="k">return</span> <span class="n">valid_type</span>
</span><span id="L-1411"><a href="#L-1411"><span class="linenos">1411</span></a>
</span><span id="L-1412"><a href="#L-1412"><span class="linenos">1412</span></a>
</span><span id="L-1413"><a href="#L-1413"><span class="linenos">1413</span></a><span class="k">def</span> <span class="nf">validate_and_convert_types</span><span class="p">(</span>
</span><span id="L-1414"><a href="#L-1414"><span class="linenos">1414</span></a>    <span class="n">input_value</span><span class="p">,</span> <span class="n">required_types_mixed</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">,</span> <span class="n">spec_property_naming</span><span class="p">,</span> <span class="n">_check_type</span><span class="p">,</span> <span class="n">configuration</span><span class="o">=</span><span class="kc">None</span>
</span><span id="L-1415"><a href="#L-1415"><span class="linenos">1415</span></a><span class="p">):</span>
</span><span id="L-1416"><a href="#L-1416"><span class="linenos">1416</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Raises a TypeError is there is a problem, otherwise returns value</span>
</span><span id="L-1417"><a href="#L-1417"><span class="linenos">1417</span></a>
</span><span id="L-1418"><a href="#L-1418"><span class="linenos">1418</span></a><span class="sd">    Args:</span>
</span><span id="L-1419"><a href="#L-1419"><span class="linenos">1419</span></a><span class="sd">        input_value (any): the data to validate/convert</span>
</span><span id="L-1420"><a href="#L-1420"><span class="linenos">1420</span></a><span class="sd">        required_types_mixed (list/dict/tuple): A list of</span>
</span><span id="L-1421"><a href="#L-1421"><span class="linenos">1421</span></a><span class="sd">            valid classes, or a list tuples of valid classes, or a dict where</span>
</span><span id="L-1422"><a href="#L-1422"><span class="linenos">1422</span></a><span class="sd">            the value is a tuple of value classes</span>
</span><span id="L-1423"><a href="#L-1423"><span class="linenos">1423</span></a><span class="sd">        path_to_item: (list) the path to the data being validated</span>
</span><span id="L-1424"><a href="#L-1424"><span class="linenos">1424</span></a><span class="sd">            this stores a list of keys or indices to get to the data being</span>
</span><span id="L-1425"><a href="#L-1425"><span class="linenos">1425</span></a><span class="sd">            validated</span>
</span><span id="L-1426"><a href="#L-1426"><span class="linenos">1426</span></a><span class="sd">        spec_property_naming (bool): True if the variable names in the input</span>
</span><span id="L-1427"><a href="#L-1427"><span class="linenos">1427</span></a><span class="sd">            data are serialized names as specified in the OpenAPI document.</span>
</span><span id="L-1428"><a href="#L-1428"><span class="linenos">1428</span></a><span class="sd">            False if the variables names in the input data are python</span>
</span><span id="L-1429"><a href="#L-1429"><span class="linenos">1429</span></a><span class="sd">            variable names in PEP-8 snake case.</span>
</span><span id="L-1430"><a href="#L-1430"><span class="linenos">1430</span></a><span class="sd">        _check_type: (boolean) if true, type will be checked and conversion</span>
</span><span id="L-1431"><a href="#L-1431"><span class="linenos">1431</span></a><span class="sd">            will be attempted.</span>
</span><span id="L-1432"><a href="#L-1432"><span class="linenos">1432</span></a><span class="sd">        configuration: (Configuration): the configuration class to use</span>
</span><span id="L-1433"><a href="#L-1433"><span class="linenos">1433</span></a><span class="sd">            when converting file_type items.</span>
</span><span id="L-1434"><a href="#L-1434"><span class="linenos">1434</span></a><span class="sd">            If passed, conversion will be attempted when possible</span>
</span><span id="L-1435"><a href="#L-1435"><span class="linenos">1435</span></a><span class="sd">            If not passed, no conversions will be attempted and</span>
</span><span id="L-1436"><a href="#L-1436"><span class="linenos">1436</span></a><span class="sd">            exceptions will be raised</span>
</span><span id="L-1437"><a href="#L-1437"><span class="linenos">1437</span></a>
</span><span id="L-1438"><a href="#L-1438"><span class="linenos">1438</span></a><span class="sd">    Returns:</span>
</span><span id="L-1439"><a href="#L-1439"><span class="linenos">1439</span></a><span class="sd">        the correctly typed value</span>
</span><span id="L-1440"><a href="#L-1440"><span class="linenos">1440</span></a>
</span><span id="L-1441"><a href="#L-1441"><span class="linenos">1441</span></a><span class="sd">    Raises:</span>
</span><span id="L-1442"><a href="#L-1442"><span class="linenos">1442</span></a><span class="sd">        ApiTypeError</span>
</span><span id="L-1443"><a href="#L-1443"><span class="linenos">1443</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1444"><a href="#L-1444"><span class="linenos">1444</span></a>    <span class="n">results</span> <span class="o">=</span> <span class="n">get_required_type_classes</span><span class="p">(</span><span class="n">required_types_mixed</span><span class="p">,</span> <span class="n">spec_property_naming</span><span class="p">)</span>
</span><span id="L-1445"><a href="#L-1445"><span class="linenos">1445</span></a>    <span class="n">valid_classes</span><span class="p">,</span> <span class="n">child_req_types_by_current_type</span> <span class="o">=</span> <span class="n">results</span>
</span><span id="L-1446"><a href="#L-1446"><span class="linenos">1446</span></a>
</span><span id="L-1447"><a href="#L-1447"><span class="linenos">1447</span></a>    <span class="n">input_class_simple</span> <span class="o">=</span> <span class="n">get_simple_class</span><span class="p">(</span><span class="n">input_value</span><span class="p">)</span>
</span><span id="L-1448"><a href="#L-1448"><span class="linenos">1448</span></a>    <span class="n">valid_type</span> <span class="o">=</span> <span class="n">is_valid_type</span><span class="p">(</span><span class="n">input_class_simple</span><span class="p">,</span> <span class="n">valid_classes</span><span class="p">)</span>
</span><span id="L-1449"><a href="#L-1449"><span class="linenos">1449</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">valid_type</span><span class="p">:</span>
</span><span id="L-1450"><a href="#L-1450"><span class="linenos">1450</span></a>        <span class="k">if</span> <span class="n">configuration</span><span class="p">:</span>
</span><span id="L-1451"><a href="#L-1451"><span class="linenos">1451</span></a>            <span class="c1"># if input_value is not valid_type try to convert it</span>
</span><span id="L-1452"><a href="#L-1452"><span class="linenos">1452</span></a>            <span class="n">converted_instance</span> <span class="o">=</span> <span class="n">attempt_convert_item</span><span class="p">(</span>
</span><span id="L-1453"><a href="#L-1453"><span class="linenos">1453</span></a>                <span class="n">input_value</span><span class="p">,</span>
</span><span id="L-1454"><a href="#L-1454"><span class="linenos">1454</span></a>                <span class="n">valid_classes</span><span class="p">,</span>
</span><span id="L-1455"><a href="#L-1455"><span class="linenos">1455</span></a>                <span class="n">path_to_item</span><span class="p">,</span>
</span><span id="L-1456"><a href="#L-1456"><span class="linenos">1456</span></a>                <span class="n">configuration</span><span class="p">,</span>
</span><span id="L-1457"><a href="#L-1457"><span class="linenos">1457</span></a>                <span class="n">spec_property_naming</span><span class="p">,</span>
</span><span id="L-1458"><a href="#L-1458"><span class="linenos">1458</span></a>                <span class="n">key_type</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-1459"><a href="#L-1459"><span class="linenos">1459</span></a>                <span class="n">must_convert</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="L-1460"><a href="#L-1460"><span class="linenos">1460</span></a>                <span class="n">check_type</span><span class="o">=</span><span class="n">_check_type</span><span class="p">,</span>
</span><span id="L-1461"><a href="#L-1461"><span class="linenos">1461</span></a>            <span class="p">)</span>
</span><span id="L-1462"><a href="#L-1462"><span class="linenos">1462</span></a>            <span class="k">return</span> <span class="n">converted_instance</span>
</span><span id="L-1463"><a href="#L-1463"><span class="linenos">1463</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1464"><a href="#L-1464"><span class="linenos">1464</span></a>            <span class="k">raise</span> <span class="n">get_type_error</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">,</span> <span class="n">valid_classes</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-1465"><a href="#L-1465"><span class="linenos">1465</span></a>
</span><span id="L-1466"><a href="#L-1466"><span class="linenos">1466</span></a>    <span class="c1"># input_value&#39;s type is in valid_classes</span>
</span><span id="L-1467"><a href="#L-1467"><span class="linenos">1467</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">valid_classes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">configuration</span><span class="p">:</span>
</span><span id="L-1468"><a href="#L-1468"><span class="linenos">1468</span></a>        <span class="c1"># there are valid classes which are not the current class</span>
</span><span id="L-1469"><a href="#L-1469"><span class="linenos">1469</span></a>        <span class="n">valid_classes_coercible</span> <span class="o">=</span> <span class="n">remove_uncoercible</span><span class="p">(</span>
</span><span id="L-1470"><a href="#L-1470"><span class="linenos">1470</span></a>            <span class="n">valid_classes</span><span class="p">,</span> <span class="n">input_value</span><span class="p">,</span> <span class="n">spec_property_naming</span><span class="p">,</span> <span class="n">must_convert</span><span class="o">=</span><span class="kc">False</span>
</span><span id="L-1471"><a href="#L-1471"><span class="linenos">1471</span></a>        <span class="p">)</span>
</span><span id="L-1472"><a href="#L-1472"><span class="linenos">1472</span></a>        <span class="k">if</span> <span class="n">valid_classes_coercible</span><span class="p">:</span>
</span><span id="L-1473"><a href="#L-1473"><span class="linenos">1473</span></a>            <span class="n">converted_instance</span> <span class="o">=</span> <span class="n">attempt_convert_item</span><span class="p">(</span>
</span><span id="L-1474"><a href="#L-1474"><span class="linenos">1474</span></a>                <span class="n">input_value</span><span class="p">,</span>
</span><span id="L-1475"><a href="#L-1475"><span class="linenos">1475</span></a>                <span class="n">valid_classes_coercible</span><span class="p">,</span>
</span><span id="L-1476"><a href="#L-1476"><span class="linenos">1476</span></a>                <span class="n">path_to_item</span><span class="p">,</span>
</span><span id="L-1477"><a href="#L-1477"><span class="linenos">1477</span></a>                <span class="n">configuration</span><span class="p">,</span>
</span><span id="L-1478"><a href="#L-1478"><span class="linenos">1478</span></a>                <span class="n">spec_property_naming</span><span class="p">,</span>
</span><span id="L-1479"><a href="#L-1479"><span class="linenos">1479</span></a>                <span class="n">key_type</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-1480"><a href="#L-1480"><span class="linenos">1480</span></a>                <span class="n">must_convert</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-1481"><a href="#L-1481"><span class="linenos">1481</span></a>                <span class="n">check_type</span><span class="o">=</span><span class="n">_check_type</span><span class="p">,</span>
</span><span id="L-1482"><a href="#L-1482"><span class="linenos">1482</span></a>            <span class="p">)</span>
</span><span id="L-1483"><a href="#L-1483"><span class="linenos">1483</span></a>            <span class="k">return</span> <span class="n">converted_instance</span>
</span><span id="L-1484"><a href="#L-1484"><span class="linenos">1484</span></a>
</span><span id="L-1485"><a href="#L-1485"><span class="linenos">1485</span></a>    <span class="k">if</span> <span class="n">child_req_types_by_current_type</span> <span class="o">==</span> <span class="p">{}:</span>
</span><span id="L-1486"><a href="#L-1486"><span class="linenos">1486</span></a>        <span class="c1"># all types are of the required types and there are no more inner</span>
</span><span id="L-1487"><a href="#L-1487"><span class="linenos">1487</span></a>        <span class="c1"># variables left to look at</span>
</span><span id="L-1488"><a href="#L-1488"><span class="linenos">1488</span></a>        <span class="k">return</span> <span class="n">input_value</span>
</span><span id="L-1489"><a href="#L-1489"><span class="linenos">1489</span></a>    <span class="n">inner_required_types</span> <span class="o">=</span> <span class="n">child_req_types_by_current_type</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">input_value</span><span class="p">))</span>
</span><span id="L-1490"><a href="#L-1490"><span class="linenos">1490</span></a>    <span class="k">if</span> <span class="n">inner_required_types</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1491"><a href="#L-1491"><span class="linenos">1491</span></a>        <span class="c1"># for this type, there are not more inner variables left to look at</span>
</span><span id="L-1492"><a href="#L-1492"><span class="linenos">1492</span></a>        <span class="k">return</span> <span class="n">input_value</span>
</span><span id="L-1493"><a href="#L-1493"><span class="linenos">1493</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="L-1494"><a href="#L-1494"><span class="linenos">1494</span></a>        <span class="k">if</span> <span class="n">input_value</span> <span class="o">==</span> <span class="p">[]:</span>
</span><span id="L-1495"><a href="#L-1495"><span class="linenos">1495</span></a>            <span class="c1"># allow an empty list</span>
</span><span id="L-1496"><a href="#L-1496"><span class="linenos">1496</span></a>            <span class="k">return</span> <span class="n">input_value</span>
</span><span id="L-1497"><a href="#L-1497"><span class="linenos">1497</span></a>        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">inner_value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">input_value</span><span class="p">):</span>
</span><span id="L-1498"><a href="#L-1498"><span class="linenos">1498</span></a>            <span class="n">inner_path</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">path_to_item</span><span class="p">)</span>
</span><span id="L-1499"><a href="#L-1499"><span class="linenos">1499</span></a>            <span class="n">inner_path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
</span><span id="L-1500"><a href="#L-1500"><span class="linenos">1500</span></a>            <span class="n">input_value</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">validate_and_convert_types</span><span class="p">(</span>
</span><span id="L-1501"><a href="#L-1501"><span class="linenos">1501</span></a>                <span class="n">inner_value</span><span class="p">,</span>
</span><span id="L-1502"><a href="#L-1502"><span class="linenos">1502</span></a>                <span class="n">inner_required_types</span><span class="p">,</span>
</span><span id="L-1503"><a href="#L-1503"><span class="linenos">1503</span></a>                <span class="n">inner_path</span><span class="p">,</span>
</span><span id="L-1504"><a href="#L-1504"><span class="linenos">1504</span></a>                <span class="n">spec_property_naming</span><span class="p">,</span>
</span><span id="L-1505"><a href="#L-1505"><span class="linenos">1505</span></a>                <span class="n">_check_type</span><span class="p">,</span>
</span><span id="L-1506"><a href="#L-1506"><span class="linenos">1506</span></a>                <span class="n">configuration</span><span class="o">=</span><span class="n">configuration</span><span class="p">,</span>
</span><span id="L-1507"><a href="#L-1507"><span class="linenos">1507</span></a>            <span class="p">)</span>
</span><span id="L-1508"><a href="#L-1508"><span class="linenos">1508</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="L-1509"><a href="#L-1509"><span class="linenos">1509</span></a>        <span class="k">if</span> <span class="n">input_value</span> <span class="o">==</span> <span class="p">{}:</span>
</span><span id="L-1510"><a href="#L-1510"><span class="linenos">1510</span></a>            <span class="c1"># allow an empty dict</span>
</span><span id="L-1511"><a href="#L-1511"><span class="linenos">1511</span></a>            <span class="k">return</span> <span class="n">input_value</span>
</span><span id="L-1512"><a href="#L-1512"><span class="linenos">1512</span></a>        <span class="k">for</span> <span class="n">inner_key</span><span class="p">,</span> <span class="n">inner_val</span> <span class="ow">in</span> <span class="n">input_value</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-1513"><a href="#L-1513"><span class="linenos">1513</span></a>            <span class="n">inner_path</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">path_to_item</span><span class="p">)</span>
</span><span id="L-1514"><a href="#L-1514"><span class="linenos">1514</span></a>            <span class="n">inner_path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">inner_key</span><span class="p">)</span>
</span><span id="L-1515"><a href="#L-1515"><span class="linenos">1515</span></a>            <span class="k">if</span> <span class="n">get_simple_class</span><span class="p">(</span><span class="n">inner_key</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-1516"><a href="#L-1516"><span class="linenos">1516</span></a>                <span class="k">raise</span> <span class="n">get_type_error</span><span class="p">(</span><span class="n">inner_key</span><span class="p">,</span> <span class="n">inner_path</span><span class="p">,</span> <span class="n">valid_classes</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-1517"><a href="#L-1517"><span class="linenos">1517</span></a>            <span class="n">input_value</span><span class="p">[</span><span class="n">inner_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">validate_and_convert_types</span><span class="p">(</span>
</span><span id="L-1518"><a href="#L-1518"><span class="linenos">1518</span></a>                <span class="n">inner_val</span><span class="p">,</span>
</span><span id="L-1519"><a href="#L-1519"><span class="linenos">1519</span></a>                <span class="n">inner_required_types</span><span class="p">,</span>
</span><span id="L-1520"><a href="#L-1520"><span class="linenos">1520</span></a>                <span class="n">inner_path</span><span class="p">,</span>
</span><span id="L-1521"><a href="#L-1521"><span class="linenos">1521</span></a>                <span class="n">spec_property_naming</span><span class="p">,</span>
</span><span id="L-1522"><a href="#L-1522"><span class="linenos">1522</span></a>                <span class="n">_check_type</span><span class="p">,</span>
</span><span id="L-1523"><a href="#L-1523"><span class="linenos">1523</span></a>                <span class="n">configuration</span><span class="o">=</span><span class="n">configuration</span><span class="p">,</span>
</span><span id="L-1524"><a href="#L-1524"><span class="linenos">1524</span></a>            <span class="p">)</span>
</span><span id="L-1525"><a href="#L-1525"><span class="linenos">1525</span></a>    <span class="k">return</span> <span class="n">input_value</span>
</span><span id="L-1526"><a href="#L-1526"><span class="linenos">1526</span></a>
</span><span id="L-1527"><a href="#L-1527"><span class="linenos">1527</span></a>
</span><span id="L-1528"><a href="#L-1528"><span class="linenos">1528</span></a><span class="k">def</span> <span class="nf">model_to_dict</span><span class="p">(</span><span class="n">model_instance</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="L-1529"><a href="#L-1529"><span class="linenos">1529</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the model properties as a dict</span>
</span><span id="L-1530"><a href="#L-1530"><span class="linenos">1530</span></a>
</span><span id="L-1531"><a href="#L-1531"><span class="linenos">1531</span></a><span class="sd">    Args:</span>
</span><span id="L-1532"><a href="#L-1532"><span class="linenos">1532</span></a><span class="sd">        model_instance (one of your model instances): the model instance that</span>
</span><span id="L-1533"><a href="#L-1533"><span class="linenos">1533</span></a><span class="sd">            will be converted to a dict.</span>
</span><span id="L-1534"><a href="#L-1534"><span class="linenos">1534</span></a>
</span><span id="L-1535"><a href="#L-1535"><span class="linenos">1535</span></a><span class="sd">    Keyword Args:</span>
</span><span id="L-1536"><a href="#L-1536"><span class="linenos">1536</span></a><span class="sd">        serialize (bool): if True, the keys in the dict will be values from</span>
</span><span id="L-1537"><a href="#L-1537"><span class="linenos">1537</span></a><span class="sd">            attribute_map</span>
</span><span id="L-1538"><a href="#L-1538"><span class="linenos">1538</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1539"><a href="#L-1539"><span class="linenos">1539</span></a>    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-1540"><a href="#L-1540"><span class="linenos">1540</span></a>
</span><span id="L-1541"><a href="#L-1541"><span class="linenos">1541</span></a>    <span class="n">model_instances</span> <span class="o">=</span> <span class="p">[</span><span class="n">model_instance</span><span class="p">]</span>
</span><span id="L-1542"><a href="#L-1542"><span class="linenos">1542</span></a>    <span class="k">if</span> <span class="n">model_instance</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">:</span>
</span><span id="L-1543"><a href="#L-1543"><span class="linenos">1543</span></a>        <span class="n">model_instances</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">model_instance</span><span class="o">.</span><span class="n">_composed_instances</span><span class="p">)</span>
</span><span id="L-1544"><a href="#L-1544"><span class="linenos">1544</span></a>    <span class="n">seen_json_attribute_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="L-1545"><a href="#L-1545"><span class="linenos">1545</span></a>    <span class="n">used_fallback_python_attribute_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="L-1546"><a href="#L-1546"><span class="linenos">1546</span></a>    <span class="n">py_to_json_map</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-1547"><a href="#L-1547"><span class="linenos">1547</span></a>    <span class="k">for</span> <span class="n">model_instance</span> <span class="ow">in</span> <span class="n">model_instances</span><span class="p">:</span>
</span><span id="L-1548"><a href="#L-1548"><span class="linenos">1548</span></a>        <span class="k">for</span> <span class="n">attr</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">model_instance</span><span class="o">.</span><span class="n">_data_store</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-1549"><a href="#L-1549"><span class="linenos">1549</span></a>            <span class="k">if</span> <span class="n">serialize</span><span class="p">:</span>
</span><span id="L-1550"><a href="#L-1550"><span class="linenos">1550</span></a>                <span class="c1"># we use get here because additional property key names do not</span>
</span><span id="L-1551"><a href="#L-1551"><span class="linenos">1551</span></a>                <span class="c1"># exist in attribute_map</span>
</span><span id="L-1552"><a href="#L-1552"><span class="linenos">1552</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="L-1553"><a href="#L-1553"><span class="linenos">1553</span></a>                    <span class="n">attr</span> <span class="o">=</span> <span class="n">model_instance</span><span class="o">.</span><span class="n">attribute_map</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span>
</span><span id="L-1554"><a href="#L-1554"><span class="linenos">1554</span></a>                    <span class="n">py_to_json_map</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">model_instance</span><span class="o">.</span><span class="n">attribute_map</span><span class="p">)</span>
</span><span id="L-1555"><a href="#L-1555"><span class="linenos">1555</span></a>                    <span class="n">seen_json_attribute_names</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
</span><span id="L-1556"><a href="#L-1556"><span class="linenos">1556</span></a>                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
</span><span id="L-1557"><a href="#L-1557"><span class="linenos">1557</span></a>                    <span class="n">used_fallback_python_attribute_names</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
</span><span id="L-1558"><a href="#L-1558"><span class="linenos">1558</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="L-1559"><a href="#L-1559"><span class="linenos">1559</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span><span class="p">:</span>
</span><span id="L-1560"><a href="#L-1560"><span class="linenos">1560</span></a>                    <span class="c1"># empty list or None</span>
</span><span id="L-1561"><a href="#L-1561"><span class="linenos">1561</span></a>                    <span class="n">result</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-1562"><a href="#L-1562"><span class="linenos">1562</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-1563"><a href="#L-1563"><span class="linenos">1563</span></a>                    <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1564"><a href="#L-1564"><span class="linenos">1564</span></a>                    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
</span><span id="L-1565"><a href="#L-1565"><span class="linenos">1565</span></a>                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">PRIMITIVE_TYPES</span><span class="p">)</span> <span class="ow">or</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1566"><a href="#L-1566"><span class="linenos">1566</span></a>                            <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span><span id="L-1567"><a href="#L-1567"><span class="linenos">1567</span></a>                        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">):</span>
</span><span id="L-1568"><a href="#L-1568"><span class="linenos">1568</span></a>                            <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</span><span id="L-1569"><a href="#L-1569"><span class="linenos">1569</span></a>                        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1570"><a href="#L-1570"><span class="linenos">1570</span></a>                            <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">model_to_dict</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="n">serialize</span><span class="p">))</span>
</span><span id="L-1571"><a href="#L-1571"><span class="linenos">1571</span></a>                    <span class="n">result</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="n">res</span>
</span><span id="L-1572"><a href="#L-1572"><span class="linenos">1572</span></a>            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="L-1573"><a href="#L-1573"><span class="linenos">1573</span></a>                <span class="n">result</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
</span><span id="L-1574"><a href="#L-1574"><span class="linenos">1574</span></a>                    <span class="nb">map</span><span class="p">(</span>
</span><span id="L-1575"><a href="#L-1575"><span class="linenos">1575</span></a>                        <span class="k">lambda</span> <span class="n">item</span><span class="p">:</span> <span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">model_to_dict</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">serialize</span><span class="o">=</span><span class="n">serialize</span><span class="p">))</span>
</span><span id="L-1576"><a href="#L-1576"><span class="linenos">1576</span></a>                        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;_data_store&quot;</span><span class="p">)</span>
</span><span id="L-1577"><a href="#L-1577"><span class="linenos">1577</span></a>                        <span class="k">else</span> <span class="n">item</span><span class="p">,</span>
</span><span id="L-1578"><a href="#L-1578"><span class="linenos">1578</span></a>                        <span class="n">value</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span>
</span><span id="L-1579"><a href="#L-1579"><span class="linenos">1579</span></a>                    <span class="p">)</span>
</span><span id="L-1580"><a href="#L-1580"><span class="linenos">1580</span></a>                <span class="p">)</span>
</span><span id="L-1581"><a href="#L-1581"><span class="linenos">1581</span></a>            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">):</span>
</span><span id="L-1582"><a href="#L-1582"><span class="linenos">1582</span></a>                <span class="n">result</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">value</span>
</span><span id="L-1583"><a href="#L-1583"><span class="linenos">1583</span></a>            <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s2">&quot;_data_store&quot;</span><span class="p">):</span>
</span><span id="L-1584"><a href="#L-1584"><span class="linenos">1584</span></a>                <span class="n">result</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="n">model_to_dict</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="n">serialize</span><span class="p">)</span>
</span><span id="L-1585"><a href="#L-1585"><span class="linenos">1585</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1586"><a href="#L-1586"><span class="linenos">1586</span></a>                <span class="n">result</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-1587"><a href="#L-1587"><span class="linenos">1587</span></a>    <span class="k">if</span> <span class="n">serialize</span><span class="p">:</span>
</span><span id="L-1588"><a href="#L-1588"><span class="linenos">1588</span></a>        <span class="k">for</span> <span class="n">python_key</span> <span class="ow">in</span> <span class="n">used_fallback_python_attribute_names</span><span class="p">:</span>
</span><span id="L-1589"><a href="#L-1589"><span class="linenos">1589</span></a>            <span class="n">json_key</span> <span class="o">=</span> <span class="n">py_to_json_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">python_key</span><span class="p">)</span>
</span><span id="L-1590"><a href="#L-1590"><span class="linenos">1590</span></a>            <span class="k">if</span> <span class="n">json_key</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1591"><a href="#L-1591"><span class="linenos">1591</span></a>                <span class="k">continue</span>
</span><span id="L-1592"><a href="#L-1592"><span class="linenos">1592</span></a>            <span class="k">if</span> <span class="n">python_key</span> <span class="o">==</span> <span class="n">json_key</span><span class="p">:</span>
</span><span id="L-1593"><a href="#L-1593"><span class="linenos">1593</span></a>                <span class="k">continue</span>
</span><span id="L-1594"><a href="#L-1594"><span class="linenos">1594</span></a>            <span class="n">json_key_assigned_no_need_for_python_key</span> <span class="o">=</span> <span class="n">json_key</span> <span class="ow">in</span> <span class="n">seen_json_attribute_names</span>
</span><span id="L-1595"><a href="#L-1595"><span class="linenos">1595</span></a>            <span class="k">if</span> <span class="n">json_key_assigned_no_need_for_python_key</span><span class="p">:</span>
</span><span id="L-1596"><a href="#L-1596"><span class="linenos">1596</span></a>                <span class="k">del</span> <span class="n">result</span><span class="p">[</span><span class="n">python_key</span><span class="p">]</span>
</span><span id="L-1597"><a href="#L-1597"><span class="linenos">1597</span></a>
</span><span id="L-1598"><a href="#L-1598"><span class="linenos">1598</span></a>    <span class="k">return</span> <span class="n">result</span>
</span><span id="L-1599"><a href="#L-1599"><span class="linenos">1599</span></a>
</span><span id="L-1600"><a href="#L-1600"><span class="linenos">1600</span></a>
</span><span id="L-1601"><a href="#L-1601"><span class="linenos">1601</span></a><span class="k">def</span> <span class="nf">type_error_message</span><span class="p">(</span><span class="n">var_value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">var_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">valid_classes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-1602"><a href="#L-1602"><span class="linenos">1602</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1603"><a href="#L-1603"><span class="linenos">1603</span></a><span class="sd">    Keyword Args:</span>
</span><span id="L-1604"><a href="#L-1604"><span class="linenos">1604</span></a><span class="sd">        var_value (any): the variable which has the type_error</span>
</span><span id="L-1605"><a href="#L-1605"><span class="linenos">1605</span></a><span class="sd">        var_name (str): the name of the variable which has the typ error</span>
</span><span id="L-1606"><a href="#L-1606"><span class="linenos">1606</span></a><span class="sd">        valid_classes (tuple): the accepted classes for current_item&#39;s</span>
</span><span id="L-1607"><a href="#L-1607"><span class="linenos">1607</span></a><span class="sd">                                  value</span>
</span><span id="L-1608"><a href="#L-1608"><span class="linenos">1608</span></a><span class="sd">        key_type (bool): False if our value is a value in a dict</span>
</span><span id="L-1609"><a href="#L-1609"><span class="linenos">1609</span></a><span class="sd">                         True if it is a key in a dict</span>
</span><span id="L-1610"><a href="#L-1610"><span class="linenos">1610</span></a><span class="sd">                         False if our item is an item in a list</span>
</span><span id="L-1611"><a href="#L-1611"><span class="linenos">1611</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1612"><a href="#L-1612"><span class="linenos">1612</span></a>    <span class="n">key_or_value</span> <span class="o">=</span> <span class="s2">&quot;value&quot;</span>
</span><span id="L-1613"><a href="#L-1613"><span class="linenos">1613</span></a>    <span class="k">if</span> <span class="n">key_type</span><span class="p">:</span>
</span><span id="L-1614"><a href="#L-1614"><span class="linenos">1614</span></a>        <span class="n">key_or_value</span> <span class="o">=</span> <span class="s2">&quot;key&quot;</span>
</span><span id="L-1615"><a href="#L-1615"><span class="linenos">1615</span></a>    <span class="n">valid_classes_phrase</span> <span class="o">=</span> <span class="n">get_valid_classes_phrase</span><span class="p">(</span><span class="n">valid_classes</span><span class="p">)</span>
</span><span id="L-1616"><a href="#L-1616"><span class="linenos">1616</span></a>    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid type for variable &#39;</span><span class="si">{0}</span><span class="s2">&#39;. Required </span><span class="si">{1}</span><span class="s2"> type </span><span class="si">{2}</span><span class="s2"> and &quot;</span> <span class="s2">&quot;passed type was </span><span class="si">{3}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
</span><span id="L-1617"><a href="#L-1617"><span class="linenos">1617</span></a>        <span class="n">var_name</span><span class="p">,</span>
</span><span id="L-1618"><a href="#L-1618"><span class="linenos">1618</span></a>        <span class="n">key_or_value</span><span class="p">,</span>
</span><span id="L-1619"><a href="#L-1619"><span class="linenos">1619</span></a>        <span class="n">valid_classes_phrase</span><span class="p">,</span>
</span><span id="L-1620"><a href="#L-1620"><span class="linenos">1620</span></a>        <span class="nb">type</span><span class="p">(</span><span class="n">var_value</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
</span><span id="L-1621"><a href="#L-1621"><span class="linenos">1621</span></a>    <span class="p">)</span>
</span><span id="L-1622"><a href="#L-1622"><span class="linenos">1622</span></a>    <span class="k">return</span> <span class="n">msg</span>
</span><span id="L-1623"><a href="#L-1623"><span class="linenos">1623</span></a>
</span><span id="L-1624"><a href="#L-1624"><span class="linenos">1624</span></a>
</span><span id="L-1625"><a href="#L-1625"><span class="linenos">1625</span></a><span class="k">def</span> <span class="nf">get_valid_classes_phrase</span><span class="p">(</span><span class="n">input_classes</span><span class="p">):</span>
</span><span id="L-1626"><a href="#L-1626"><span class="linenos">1626</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a string phrase describing what types are allowed&quot;&quot;&quot;</span>
</span><span id="L-1627"><a href="#L-1627"><span class="linenos">1627</span></a>    <span class="n">all_classes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">input_classes</span><span class="p">)</span>
</span><span id="L-1628"><a href="#L-1628"><span class="linenos">1628</span></a>    <span class="n">all_classes</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">all_classes</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">cls</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="L-1629"><a href="#L-1629"><span class="linenos">1629</span></a>    <span class="n">all_class_names</span> <span class="o">=</span> <span class="p">[</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">for</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">all_classes</span><span class="p">]</span>
</span><span id="L-1630"><a href="#L-1630"><span class="linenos">1630</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_class_names</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-1631"><a href="#L-1631"><span class="linenos">1631</span></a>        <span class="k">return</span> <span class="s2">&quot;is </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">all_class_names</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="L-1632"><a href="#L-1632"><span class="linenos">1632</span></a>    <span class="k">return</span> <span class="s2">&quot;is one of [</span><span class="si">{0}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">all_class_names</span><span class="p">))</span>
</span><span id="L-1633"><a href="#L-1633"><span class="linenos">1633</span></a>
</span><span id="L-1634"><a href="#L-1634"><span class="linenos">1634</span></a>
</span><span id="L-1635"><a href="#L-1635"><span class="linenos">1635</span></a><span class="k">def</span> <span class="nf">get_allof_instances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model_args</span><span class="p">,</span> <span class="n">constant_args</span><span class="p">):</span>
</span><span id="L-1636"><a href="#L-1636"><span class="linenos">1636</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1637"><a href="#L-1637"><span class="linenos">1637</span></a><span class="sd">    Args:</span>
</span><span id="L-1638"><a href="#L-1638"><span class="linenos">1638</span></a><span class="sd">        self: the class we are handling</span>
</span><span id="L-1639"><a href="#L-1639"><span class="linenos">1639</span></a><span class="sd">        model_args (dict): var_name to var_value</span>
</span><span id="L-1640"><a href="#L-1640"><span class="linenos">1640</span></a><span class="sd">            used to make instances</span>
</span><span id="L-1641"><a href="#L-1641"><span class="linenos">1641</span></a><span class="sd">        constant_args (dict):</span>
</span><span id="L-1642"><a href="#L-1642"><span class="linenos">1642</span></a><span class="sd">            metadata arguments:</span>
</span><span id="L-1643"><a href="#L-1643"><span class="linenos">1643</span></a><span class="sd">            _check_type</span>
</span><span id="L-1644"><a href="#L-1644"><span class="linenos">1644</span></a><span class="sd">            _path_to_item</span>
</span><span id="L-1645"><a href="#L-1645"><span class="linenos">1645</span></a><span class="sd">            _spec_property_naming</span>
</span><span id="L-1646"><a href="#L-1646"><span class="linenos">1646</span></a><span class="sd">            _configuration</span>
</span><span id="L-1647"><a href="#L-1647"><span class="linenos">1647</span></a><span class="sd">            _visited_composed_classes</span>
</span><span id="L-1648"><a href="#L-1648"><span class="linenos">1648</span></a>
</span><span id="L-1649"><a href="#L-1649"><span class="linenos">1649</span></a><span class="sd">    Returns</span>
</span><span id="L-1650"><a href="#L-1650"><span class="linenos">1650</span></a><span class="sd">        composed_instances (list)</span>
</span><span id="L-1651"><a href="#L-1651"><span class="linenos">1651</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1652"><a href="#L-1652"><span class="linenos">1652</span></a>    <span class="n">composed_instances</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1653"><a href="#L-1653"><span class="linenos">1653</span></a>    <span class="k">for</span> <span class="n">allof_class</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;allOf&quot;</span><span class="p">]:</span>
</span><span id="L-1654"><a href="#L-1654"><span class="linenos">1654</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1655"><a href="#L-1655"><span class="linenos">1655</span></a>            <span class="n">allof_instance</span> <span class="o">=</span> <span class="n">allof_class</span><span class="p">(</span><span class="o">**</span><span class="n">model_args</span><span class="p">,</span> <span class="o">**</span><span class="n">constant_args</span><span class="p">)</span>
</span><span id="L-1656"><a href="#L-1656"><span class="linenos">1656</span></a>            <span class="n">composed_instances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">allof_instance</span><span class="p">)</span>
</span><span id="L-1657"><a href="#L-1657"><span class="linenos">1657</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="L-1658"><a href="#L-1658"><span class="linenos">1658</span></a>            <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-1659"><a href="#L-1659"><span class="linenos">1659</span></a>                <span class="s2">&quot;Invalid inputs given to generate an instance of &#39;</span><span class="si">%s</span><span class="s2">&#39;. The &quot;</span>
</span><span id="L-1660"><a href="#L-1660"><span class="linenos">1660</span></a>                <span class="s2">&quot;input data was invalid for the allOf schema &#39;</span><span class="si">%s</span><span class="s2">&#39; in the composed &quot;</span>
</span><span id="L-1661"><a href="#L-1661"><span class="linenos">1661</span></a>                <span class="s2">&quot;schema &#39;</span><span class="si">%s</span><span class="s2">&#39;. Error=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">allof_class</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">allof_class</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span>
</span><span id="L-1662"><a href="#L-1662"><span class="linenos">1662</span></a>            <span class="p">)</span> <span class="kn">from</span> <span class="nn">ex</span>
</span><span id="L-1663"><a href="#L-1663"><span class="linenos">1663</span></a>    <span class="k">return</span> <span class="n">composed_instances</span>
</span><span id="L-1664"><a href="#L-1664"><span class="linenos">1664</span></a>
</span><span id="L-1665"><a href="#L-1665"><span class="linenos">1665</span></a>
</span><span id="L-1666"><a href="#L-1666"><span class="linenos">1666</span></a><span class="k">def</span> <span class="nf">get_oneof_instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">model_kwargs</span><span class="p">,</span> <span class="n">constant_kwargs</span><span class="p">,</span> <span class="n">model_arg</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-1667"><a href="#L-1667"><span class="linenos">1667</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1668"><a href="#L-1668"><span class="linenos">1668</span></a><span class="sd">    Find the oneOf schema that matches the input data (e.g. payload).</span>
</span><span id="L-1669"><a href="#L-1669"><span class="linenos">1669</span></a><span class="sd">    If exactly one schema matches the input data, an instance of that schema</span>
</span><span id="L-1670"><a href="#L-1670"><span class="linenos">1670</span></a><span class="sd">    is returned.</span>
</span><span id="L-1671"><a href="#L-1671"><span class="linenos">1671</span></a><span class="sd">    If zero or more than one schema match the input data, an exception is raised.</span>
</span><span id="L-1672"><a href="#L-1672"><span class="linenos">1672</span></a><span class="sd">    In OAS 3.x, the payload MUST, by validation, match exactly one of the</span>
</span><span id="L-1673"><a href="#L-1673"><span class="linenos">1673</span></a><span class="sd">    schemas described by oneOf.</span>
</span><span id="L-1674"><a href="#L-1674"><span class="linenos">1674</span></a>
</span><span id="L-1675"><a href="#L-1675"><span class="linenos">1675</span></a><span class="sd">    Args:</span>
</span><span id="L-1676"><a href="#L-1676"><span class="linenos">1676</span></a><span class="sd">        cls: the class we are handling</span>
</span><span id="L-1677"><a href="#L-1677"><span class="linenos">1677</span></a><span class="sd">        model_kwargs (dict): var_name to var_value</span>
</span><span id="L-1678"><a href="#L-1678"><span class="linenos">1678</span></a><span class="sd">            The input data, e.g. the payload that must match a oneOf schema</span>
</span><span id="L-1679"><a href="#L-1679"><span class="linenos">1679</span></a><span class="sd">            in the OpenAPI document.</span>
</span><span id="L-1680"><a href="#L-1680"><span class="linenos">1680</span></a><span class="sd">        constant_kwargs (dict): var_name to var_value</span>
</span><span id="L-1681"><a href="#L-1681"><span class="linenos">1681</span></a><span class="sd">            args that every model requires, including configuration, server</span>
</span><span id="L-1682"><a href="#L-1682"><span class="linenos">1682</span></a><span class="sd">            and path to item.</span>
</span><span id="L-1683"><a href="#L-1683"><span class="linenos">1683</span></a>
</span><span id="L-1684"><a href="#L-1684"><span class="linenos">1684</span></a><span class="sd">    Kwargs:</span>
</span><span id="L-1685"><a href="#L-1685"><span class="linenos">1685</span></a><span class="sd">        model_arg: (int, float, bool, str, date, datetime, ModelSimple, None):</span>
</span><span id="L-1686"><a href="#L-1686"><span class="linenos">1686</span></a><span class="sd">            the value to assign to a primitive class or ModelSimple class</span>
</span><span id="L-1687"><a href="#L-1687"><span class="linenos">1687</span></a><span class="sd">            Notes:</span>
</span><span id="L-1688"><a href="#L-1688"><span class="linenos">1688</span></a><span class="sd">            - this is only passed in when oneOf includes types which are not object</span>
</span><span id="L-1689"><a href="#L-1689"><span class="linenos">1689</span></a><span class="sd">            - None is used to suppress handling of model_arg, nullable models are handled in __new__</span>
</span><span id="L-1690"><a href="#L-1690"><span class="linenos">1690</span></a>
</span><span id="L-1691"><a href="#L-1691"><span class="linenos">1691</span></a><span class="sd">    Returns</span>
</span><span id="L-1692"><a href="#L-1692"><span class="linenos">1692</span></a><span class="sd">        oneof_instance (instance)</span>
</span><span id="L-1693"><a href="#L-1693"><span class="linenos">1693</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1694"><a href="#L-1694"><span class="linenos">1694</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;oneOf&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1695"><a href="#L-1695"><span class="linenos">1695</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="L-1696"><a href="#L-1696"><span class="linenos">1696</span></a>
</span><span id="L-1697"><a href="#L-1697"><span class="linenos">1697</span></a>    <span class="n">oneof_instances</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1698"><a href="#L-1698"><span class="linenos">1698</span></a>    <span class="c1"># Iterate over each oneOf schema and determine if the input data</span>
</span><span id="L-1699"><a href="#L-1699"><span class="linenos">1699</span></a>    <span class="c1"># matches the oneOf schemas.</span>
</span><span id="L-1700"><a href="#L-1700"><span class="linenos">1700</span></a>    <span class="k">for</span> <span class="n">oneof_class</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;oneOf&quot;</span><span class="p">]:</span>
</span><span id="L-1701"><a href="#L-1701"><span class="linenos">1701</span></a>        <span class="c1"># The composed oneOf schema allows the &#39;null&#39; type and the input data</span>
</span><span id="L-1702"><a href="#L-1702"><span class="linenos">1702</span></a>        <span class="c1"># is the null value. This is a OAS &gt;= 3.1 feature.</span>
</span><span id="L-1703"><a href="#L-1703"><span class="linenos">1703</span></a>        <span class="k">if</span> <span class="n">oneof_class</span> <span class="ow">is</span> <span class="n">none_type</span><span class="p">:</span>
</span><span id="L-1704"><a href="#L-1704"><span class="linenos">1704</span></a>            <span class="c1"># skip none_types because we are deserializing dict data.</span>
</span><span id="L-1705"><a href="#L-1705"><span class="linenos">1705</span></a>            <span class="c1"># none_type deserialization is handled in the __new__ method</span>
</span><span id="L-1706"><a href="#L-1706"><span class="linenos">1706</span></a>            <span class="k">continue</span>
</span><span id="L-1707"><a href="#L-1707"><span class="linenos">1707</span></a>
</span><span id="L-1708"><a href="#L-1708"><span class="linenos">1708</span></a>        <span class="n">single_value_input</span> <span class="o">=</span> <span class="n">allows_single_value_input</span><span class="p">(</span><span class="n">oneof_class</span><span class="p">)</span>
</span><span id="L-1709"><a href="#L-1709"><span class="linenos">1709</span></a>
</span><span id="L-1710"><a href="#L-1710"><span class="linenos">1710</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1711"><a href="#L-1711"><span class="linenos">1711</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">single_value_input</span><span class="p">:</span>
</span><span id="L-1712"><a href="#L-1712"><span class="linenos">1712</span></a>                <span class="n">oneof_instance</span> <span class="o">=</span> <span class="n">oneof_class</span><span class="p">(</span><span class="o">**</span><span class="n">model_kwargs</span><span class="p">,</span> <span class="o">**</span><span class="n">constant_kwargs</span><span class="p">)</span>
</span><span id="L-1713"><a href="#L-1713"><span class="linenos">1713</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1714"><a href="#L-1714"><span class="linenos">1714</span></a>                <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">oneof_class</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">):</span>
</span><span id="L-1715"><a href="#L-1715"><span class="linenos">1715</span></a>                    <span class="n">oneof_instance</span> <span class="o">=</span> <span class="n">oneof_class</span><span class="p">(</span><span class="n">model_arg</span><span class="p">,</span> <span class="o">**</span><span class="n">constant_kwargs</span><span class="p">)</span>
</span><span id="L-1716"><a href="#L-1716"><span class="linenos">1716</span></a>                <span class="k">elif</span> <span class="n">oneof_class</span> <span class="ow">in</span> <span class="n">PRIMITIVE_TYPES</span><span class="p">:</span>
</span><span id="L-1717"><a href="#L-1717"><span class="linenos">1717</span></a>                    <span class="n">oneof_instance</span> <span class="o">=</span> <span class="n">validate_and_convert_types</span><span class="p">(</span>
</span><span id="L-1718"><a href="#L-1718"><span class="linenos">1718</span></a>                        <span class="n">model_arg</span><span class="p">,</span>
</span><span id="L-1719"><a href="#L-1719"><span class="linenos">1719</span></a>                        <span class="p">(</span><span class="n">oneof_class</span><span class="p">,),</span>
</span><span id="L-1720"><a href="#L-1720"><span class="linenos">1720</span></a>                        <span class="n">constant_kwargs</span><span class="p">[</span><span class="s2">&quot;_path_to_item&quot;</span><span class="p">],</span>
</span><span id="L-1721"><a href="#L-1721"><span class="linenos">1721</span></a>                        <span class="n">constant_kwargs</span><span class="p">[</span><span class="s2">&quot;_spec_property_naming&quot;</span><span class="p">],</span>
</span><span id="L-1722"><a href="#L-1722"><span class="linenos">1722</span></a>                        <span class="n">constant_kwargs</span><span class="p">[</span><span class="s2">&quot;_check_type&quot;</span><span class="p">],</span>
</span><span id="L-1723"><a href="#L-1723"><span class="linenos">1723</span></a>                        <span class="n">configuration</span><span class="o">=</span><span class="n">constant_kwargs</span><span class="p">[</span><span class="s2">&quot;_configuration&quot;</span><span class="p">],</span>
</span><span id="L-1724"><a href="#L-1724"><span class="linenos">1724</span></a>                    <span class="p">)</span>
</span><span id="L-1725"><a href="#L-1725"><span class="linenos">1725</span></a>            <span class="n">oneof_instances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">oneof_instance</span><span class="p">)</span>
</span><span id="L-1726"><a href="#L-1726"><span class="linenos">1726</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="L-1727"><a href="#L-1727"><span class="linenos">1727</span></a>            <span class="k">pass</span>
</span><span id="L-1728"><a href="#L-1728"><span class="linenos">1728</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">oneof_instances</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1729"><a href="#L-1729"><span class="linenos">1729</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-1730"><a href="#L-1730"><span class="linenos">1730</span></a>            <span class="s2">&quot;Invalid inputs given to generate an instance of </span><span class="si">%s</span><span class="s2">. None &quot;</span>
</span><span id="L-1731"><a href="#L-1731"><span class="linenos">1731</span></a>            <span class="s2">&quot;of the oneOf schemas matched the input data.&quot;</span> <span class="o">%</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="L-1732"><a href="#L-1732"><span class="linenos">1732</span></a>        <span class="p">)</span>
</span><span id="L-1733"><a href="#L-1733"><span class="linenos">1733</span></a>    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">oneof_instances</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-1734"><a href="#L-1734"><span class="linenos">1734</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-1735"><a href="#L-1735"><span class="linenos">1735</span></a>            <span class="s2">&quot;Invalid inputs given to generate an instance of </span><span class="si">%s</span><span class="s2">. Multiple &quot;</span>
</span><span id="L-1736"><a href="#L-1736"><span class="linenos">1736</span></a>            <span class="s2">&quot;oneOf schemas matched the inputs, but a max of one is allowed.&quot;</span> <span class="o">%</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="L-1737"><a href="#L-1737"><span class="linenos">1737</span></a>        <span class="p">)</span>
</span><span id="L-1738"><a href="#L-1738"><span class="linenos">1738</span></a>    <span class="k">return</span> <span class="n">oneof_instances</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="L-1739"><a href="#L-1739"><span class="linenos">1739</span></a>
</span><span id="L-1740"><a href="#L-1740"><span class="linenos">1740</span></a>
</span><span id="L-1741"><a href="#L-1741"><span class="linenos">1741</span></a><span class="k">def</span> <span class="nf">get_anyof_instances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model_args</span><span class="p">,</span> <span class="n">constant_args</span><span class="p">):</span>
</span><span id="L-1742"><a href="#L-1742"><span class="linenos">1742</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1743"><a href="#L-1743"><span class="linenos">1743</span></a><span class="sd">    Args:</span>
</span><span id="L-1744"><a href="#L-1744"><span class="linenos">1744</span></a><span class="sd">        self: the class we are handling</span>
</span><span id="L-1745"><a href="#L-1745"><span class="linenos">1745</span></a><span class="sd">        model_args (dict): var_name to var_value</span>
</span><span id="L-1746"><a href="#L-1746"><span class="linenos">1746</span></a><span class="sd">            The input data, e.g. the payload that must match at least one</span>
</span><span id="L-1747"><a href="#L-1747"><span class="linenos">1747</span></a><span class="sd">            anyOf child schema in the OpenAPI document.</span>
</span><span id="L-1748"><a href="#L-1748"><span class="linenos">1748</span></a><span class="sd">        constant_args (dict): var_name to var_value</span>
</span><span id="L-1749"><a href="#L-1749"><span class="linenos">1749</span></a><span class="sd">            args that every model requires, including configuration, server</span>
</span><span id="L-1750"><a href="#L-1750"><span class="linenos">1750</span></a><span class="sd">            and path to item.</span>
</span><span id="L-1751"><a href="#L-1751"><span class="linenos">1751</span></a>
</span><span id="L-1752"><a href="#L-1752"><span class="linenos">1752</span></a><span class="sd">    Returns</span>
</span><span id="L-1753"><a href="#L-1753"><span class="linenos">1753</span></a><span class="sd">        anyof_instances (list)</span>
</span><span id="L-1754"><a href="#L-1754"><span class="linenos">1754</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1755"><a href="#L-1755"><span class="linenos">1755</span></a>    <span class="n">anyof_instances</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1756"><a href="#L-1756"><span class="linenos">1756</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;anyOf&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1757"><a href="#L-1757"><span class="linenos">1757</span></a>        <span class="k">return</span> <span class="n">anyof_instances</span>
</span><span id="L-1758"><a href="#L-1758"><span class="linenos">1758</span></a>
</span><span id="L-1759"><a href="#L-1759"><span class="linenos">1759</span></a>    <span class="k">for</span> <span class="n">anyof_class</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;anyOf&quot;</span><span class="p">]:</span>
</span><span id="L-1760"><a href="#L-1760"><span class="linenos">1760</span></a>        <span class="c1"># The composed oneOf schema allows the &#39;null&#39; type and the input data</span>
</span><span id="L-1761"><a href="#L-1761"><span class="linenos">1761</span></a>        <span class="c1"># is the null value. This is a OAS &gt;= 3.1 feature.</span>
</span><span id="L-1762"><a href="#L-1762"><span class="linenos">1762</span></a>        <span class="k">if</span> <span class="n">anyof_class</span> <span class="ow">is</span> <span class="n">none_type</span><span class="p">:</span>
</span><span id="L-1763"><a href="#L-1763"><span class="linenos">1763</span></a>            <span class="c1"># skip none_types because we are deserializing dict data.</span>
</span><span id="L-1764"><a href="#L-1764"><span class="linenos">1764</span></a>            <span class="c1"># none_type deserialization is handled in the __new__ method</span>
</span><span id="L-1765"><a href="#L-1765"><span class="linenos">1765</span></a>            <span class="k">continue</span>
</span><span id="L-1766"><a href="#L-1766"><span class="linenos">1766</span></a>
</span><span id="L-1767"><a href="#L-1767"><span class="linenos">1767</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1768"><a href="#L-1768"><span class="linenos">1768</span></a>            <span class="n">anyof_instance</span> <span class="o">=</span> <span class="n">anyof_class</span><span class="p">(</span><span class="o">**</span><span class="n">model_args</span><span class="p">,</span> <span class="o">**</span><span class="n">constant_args</span><span class="p">)</span>
</span><span id="L-1769"><a href="#L-1769"><span class="linenos">1769</span></a>            <span class="n">anyof_instances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">anyof_instance</span><span class="p">)</span>
</span><span id="L-1770"><a href="#L-1770"><span class="linenos">1770</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="L-1771"><a href="#L-1771"><span class="linenos">1771</span></a>            <span class="k">pass</span>
</span><span id="L-1772"><a href="#L-1772"><span class="linenos">1772</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">anyof_instances</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1773"><a href="#L-1773"><span class="linenos">1773</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="L-1774"><a href="#L-1774"><span class="linenos">1774</span></a>            <span class="s2">&quot;Invalid inputs given to generate an instance of </span><span class="si">%s</span><span class="s2">. None of the &quot;</span>
</span><span id="L-1775"><a href="#L-1775"><span class="linenos">1775</span></a>            <span class="s2">&quot;anyOf schemas matched the inputs.&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="L-1776"><a href="#L-1776"><span class="linenos">1776</span></a>        <span class="p">)</span>
</span><span id="L-1777"><a href="#L-1777"><span class="linenos">1777</span></a>    <span class="k">return</span> <span class="n">anyof_instances</span>
</span><span id="L-1778"><a href="#L-1778"><span class="linenos">1778</span></a>
</span><span id="L-1779"><a href="#L-1779"><span class="linenos">1779</span></a>
</span><span id="L-1780"><a href="#L-1780"><span class="linenos">1780</span></a><span class="k">def</span> <span class="nf">get_discarded_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">composed_instances</span><span class="p">,</span> <span class="n">model_args</span><span class="p">):</span>
</span><span id="L-1781"><a href="#L-1781"><span class="linenos">1781</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1782"><a href="#L-1782"><span class="linenos">1782</span></a><span class="sd">    Gathers the args that were discarded by configuration.discard_unknown_keys</span>
</span><span id="L-1783"><a href="#L-1783"><span class="linenos">1783</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1784"><a href="#L-1784"><span class="linenos">1784</span></a>    <span class="n">model_arg_keys</span> <span class="o">=</span> <span class="n">model_args</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</span><span id="L-1785"><a href="#L-1785"><span class="linenos">1785</span></a>    <span class="n">discarded_args</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="L-1786"><a href="#L-1786"><span class="linenos">1786</span></a>    <span class="c1"># arguments passed to self were already converted to python names</span>
</span><span id="L-1787"><a href="#L-1787"><span class="linenos">1787</span></a>    <span class="c1"># before __init__ was called</span>
</span><span id="L-1788"><a href="#L-1788"><span class="linenos">1788</span></a>    <span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="n">composed_instances</span><span class="p">:</span>
</span><span id="L-1789"><a href="#L-1789"><span class="linenos">1789</span></a>        <span class="k">if</span> <span class="n">instance</span><span class="o">.</span><span class="vm">__class__</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;allOf&quot;</span><span class="p">]:</span>
</span><span id="L-1790"><a href="#L-1790"><span class="linenos">1790</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="L-1791"><a href="#L-1791"><span class="linenos">1791</span></a>                <span class="n">keys</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</span><span id="L-1792"><a href="#L-1792"><span class="linenos">1792</span></a>                <span class="n">discarded_keys</span> <span class="o">=</span> <span class="n">model_args</span> <span class="o">-</span> <span class="n">keys</span>
</span><span id="L-1793"><a href="#L-1793"><span class="linenos">1793</span></a>                <span class="n">discarded_args</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">discarded_keys</span><span class="p">)</span>
</span><span id="L-1794"><a href="#L-1794"><span class="linenos">1794</span></a>            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="L-1795"><a href="#L-1795"><span class="linenos">1795</span></a>                <span class="c1"># allOf integer schema will throw exception</span>
</span><span id="L-1796"><a href="#L-1796"><span class="linenos">1796</span></a>                <span class="k">pass</span>
</span><span id="L-1797"><a href="#L-1797"><span class="linenos">1797</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1798"><a href="#L-1798"><span class="linenos">1798</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="L-1799"><a href="#L-1799"><span class="linenos">1799</span></a>                <span class="n">all_keys</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">model_to_dict</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</span><span id="L-1800"><a href="#L-1800"><span class="linenos">1800</span></a>                <span class="n">js_keys</span> <span class="o">=</span> <span class="n">model_to_dict</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</span><span id="L-1801"><a href="#L-1801"><span class="linenos">1801</span></a>                <span class="n">all_keys</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">js_keys</span><span class="p">)</span>
</span><span id="L-1802"><a href="#L-1802"><span class="linenos">1802</span></a>                <span class="n">discarded_keys</span> <span class="o">=</span> <span class="n">model_arg_keys</span> <span class="o">-</span> <span class="n">all_keys</span>
</span><span id="L-1803"><a href="#L-1803"><span class="linenos">1803</span></a>                <span class="n">discarded_args</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">discarded_keys</span><span class="p">)</span>
</span><span id="L-1804"><a href="#L-1804"><span class="linenos">1804</span></a>            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="L-1805"><a href="#L-1805"><span class="linenos">1805</span></a>                <span class="c1"># allOf integer schema will throw exception</span>
</span><span id="L-1806"><a href="#L-1806"><span class="linenos">1806</span></a>                <span class="k">pass</span>
</span><span id="L-1807"><a href="#L-1807"><span class="linenos">1807</span></a>    <span class="k">return</span> <span class="n">discarded_args</span>
</span><span id="L-1808"><a href="#L-1808"><span class="linenos">1808</span></a>
</span><span id="L-1809"><a href="#L-1809"><span class="linenos">1809</span></a>
</span><span id="L-1810"><a href="#L-1810"><span class="linenos">1810</span></a><span class="k">def</span> <span class="nf">validate_get_composed_info</span><span class="p">(</span><span class="n">constant_args</span><span class="p">,</span> <span class="n">model_args</span><span class="p">,</span> <span class="bp">self</span><span class="p">):</span>
</span><span id="L-1811"><a href="#L-1811"><span class="linenos">1811</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1812"><a href="#L-1812"><span class="linenos">1812</span></a><span class="sd">    For composed schemas, generate schema instances for</span>
</span><span id="L-1813"><a href="#L-1813"><span class="linenos">1813</span></a><span class="sd">    all schemas in the oneOf/anyOf/allOf definition. If additional</span>
</span><span id="L-1814"><a href="#L-1814"><span class="linenos">1814</span></a><span class="sd">    properties are allowed, also assign those properties on</span>
</span><span id="L-1815"><a href="#L-1815"><span class="linenos">1815</span></a><span class="sd">    all matched schemas that contain additionalProperties.</span>
</span><span id="L-1816"><a href="#L-1816"><span class="linenos">1816</span></a><span class="sd">    Openapi schemas are python classes.</span>
</span><span id="L-1817"><a href="#L-1817"><span class="linenos">1817</span></a>
</span><span id="L-1818"><a href="#L-1818"><span class="linenos">1818</span></a><span class="sd">    Exceptions are raised if:</span>
</span><span id="L-1819"><a href="#L-1819"><span class="linenos">1819</span></a><span class="sd">    - 0 or &gt; 1 oneOf schema matches the model_args input data</span>
</span><span id="L-1820"><a href="#L-1820"><span class="linenos">1820</span></a><span class="sd">    - no anyOf schema matches the model_args input data</span>
</span><span id="L-1821"><a href="#L-1821"><span class="linenos">1821</span></a><span class="sd">    - any of the allOf schemas do not match the model_args input data</span>
</span><span id="L-1822"><a href="#L-1822"><span class="linenos">1822</span></a>
</span><span id="L-1823"><a href="#L-1823"><span class="linenos">1823</span></a><span class="sd">    Args:</span>
</span><span id="L-1824"><a href="#L-1824"><span class="linenos">1824</span></a><span class="sd">        constant_args (dict): these are the args that every model requires</span>
</span><span id="L-1825"><a href="#L-1825"><span class="linenos">1825</span></a><span class="sd">        model_args (dict): these are the required and optional spec args that</span>
</span><span id="L-1826"><a href="#L-1826"><span class="linenos">1826</span></a><span class="sd">            were passed in to make this model</span>
</span><span id="L-1827"><a href="#L-1827"><span class="linenos">1827</span></a><span class="sd">        self (class): the class that we are instantiating</span>
</span><span id="L-1828"><a href="#L-1828"><span class="linenos">1828</span></a><span class="sd">            This class contains self._composed_schemas</span>
</span><span id="L-1829"><a href="#L-1829"><span class="linenos">1829</span></a>
</span><span id="L-1830"><a href="#L-1830"><span class="linenos">1830</span></a><span class="sd">    Returns:</span>
</span><span id="L-1831"><a href="#L-1831"><span class="linenos">1831</span></a><span class="sd">        composed_info (list): length three</span>
</span><span id="L-1832"><a href="#L-1832"><span class="linenos">1832</span></a><span class="sd">            composed_instances (list): the composed instances which are not</span>
</span><span id="L-1833"><a href="#L-1833"><span class="linenos">1833</span></a><span class="sd">                self</span>
</span><span id="L-1834"><a href="#L-1834"><span class="linenos">1834</span></a><span class="sd">            var_name_to_model_instances (dict): a dict going from var_name</span>
</span><span id="L-1835"><a href="#L-1835"><span class="linenos">1835</span></a><span class="sd">                to the model_instance which holds that var_name</span>
</span><span id="L-1836"><a href="#L-1836"><span class="linenos">1836</span></a><span class="sd">                the model_instance may be self or an instance of one of the</span>
</span><span id="L-1837"><a href="#L-1837"><span class="linenos">1837</span></a><span class="sd">                classes in self.composed_instances()</span>
</span><span id="L-1838"><a href="#L-1838"><span class="linenos">1838</span></a><span class="sd">            additional_properties_model_instances (list): a list of the</span>
</span><span id="L-1839"><a href="#L-1839"><span class="linenos">1839</span></a><span class="sd">                model instances which have the property</span>
</span><span id="L-1840"><a href="#L-1840"><span class="linenos">1840</span></a><span class="sd">                additional_properties_type. This list can include self</span>
</span><span id="L-1841"><a href="#L-1841"><span class="linenos">1841</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1842"><a href="#L-1842"><span class="linenos">1842</span></a>    <span class="c1"># create composed_instances</span>
</span><span id="L-1843"><a href="#L-1843"><span class="linenos">1843</span></a>    <span class="n">composed_instances</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1844"><a href="#L-1844"><span class="linenos">1844</span></a>    <span class="n">allof_instances</span> <span class="o">=</span> <span class="n">get_allof_instances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model_args</span><span class="p">,</span> <span class="n">constant_args</span><span class="p">)</span>
</span><span id="L-1845"><a href="#L-1845"><span class="linenos">1845</span></a>    <span class="n">composed_instances</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">allof_instances</span><span class="p">)</span>
</span><span id="L-1846"><a href="#L-1846"><span class="linenos">1846</span></a>    <span class="n">oneof_instance</span> <span class="o">=</span> <span class="n">get_oneof_instance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="n">model_args</span><span class="p">,</span> <span class="n">constant_args</span><span class="p">)</span>
</span><span id="L-1847"><a href="#L-1847"><span class="linenos">1847</span></a>    <span class="k">if</span> <span class="n">oneof_instance</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1848"><a href="#L-1848"><span class="linenos">1848</span></a>        <span class="n">composed_instances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">oneof_instance</span><span class="p">)</span>
</span><span id="L-1849"><a href="#L-1849"><span class="linenos">1849</span></a>    <span class="n">anyof_instances</span> <span class="o">=</span> <span class="n">get_anyof_instances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model_args</span><span class="p">,</span> <span class="n">constant_args</span><span class="p">)</span>
</span><span id="L-1850"><a href="#L-1850"><span class="linenos">1850</span></a>    <span class="n">composed_instances</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">anyof_instances</span><span class="p">)</span>
</span><span id="L-1851"><a href="#L-1851"><span class="linenos">1851</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1852"><a href="#L-1852"><span class="linenos">1852</span></a><span class="sd">    set additional_properties_model_instances</span>
</span><span id="L-1853"><a href="#L-1853"><span class="linenos">1853</span></a><span class="sd">    additional properties must be evaluated at the schema level</span>
</span><span id="L-1854"><a href="#L-1854"><span class="linenos">1854</span></a><span class="sd">    so self&#39;s additional properties are most important</span>
</span><span id="L-1855"><a href="#L-1855"><span class="linenos">1855</span></a><span class="sd">    If self is a composed schema with:</span>
</span><span id="L-1856"><a href="#L-1856"><span class="linenos">1856</span></a><span class="sd">    - no properties defined in self</span>
</span><span id="L-1857"><a href="#L-1857"><span class="linenos">1857</span></a><span class="sd">    - additionalProperties: False</span>
</span><span id="L-1858"><a href="#L-1858"><span class="linenos">1858</span></a><span class="sd">    Then for object payloads every property is an additional property</span>
</span><span id="L-1859"><a href="#L-1859"><span class="linenos">1859</span></a><span class="sd">    and they are not allowed, so only empty dict is allowed</span>
</span><span id="L-1860"><a href="#L-1860"><span class="linenos">1860</span></a>
</span><span id="L-1861"><a href="#L-1861"><span class="linenos">1861</span></a><span class="sd">    Properties must be set on all matching schemas</span>
</span><span id="L-1862"><a href="#L-1862"><span class="linenos">1862</span></a><span class="sd">    so when a property is assigned toa composed instance, it must be set on all</span>
</span><span id="L-1863"><a href="#L-1863"><span class="linenos">1863</span></a><span class="sd">    composed instances regardless of additionalProperties presence</span>
</span><span id="L-1864"><a href="#L-1864"><span class="linenos">1864</span></a><span class="sd">    keeping it to prevent breaking changes in v5.0.1</span>
</span><span id="L-1865"><a href="#L-1865"><span class="linenos">1865</span></a><span class="sd">    TODO remove cls._additional_properties_model_instances in 6.0.0</span>
</span><span id="L-1866"><a href="#L-1866"><span class="linenos">1866</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1867"><a href="#L-1867"><span class="linenos">1867</span></a>    <span class="n">additional_properties_model_instances</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1868"><a href="#L-1868"><span class="linenos">1868</span></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1869"><a href="#L-1869"><span class="linenos">1869</span></a>        <span class="n">additional_properties_model_instances</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="L-1870"><a href="#L-1870"><span class="linenos">1870</span></a>
</span><span id="L-1871"><a href="#L-1871"><span class="linenos">1871</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1872"><a href="#L-1872"><span class="linenos">1872</span></a><span class="sd">    no need to set properties on self in here, they will be set in __init__</span>
</span><span id="L-1873"><a href="#L-1873"><span class="linenos">1873</span></a><span class="sd">    By here all composed schema oneOf/anyOf/allOf instances have their properties set using</span>
</span><span id="L-1874"><a href="#L-1874"><span class="linenos">1874</span></a><span class="sd">    model_args</span>
</span><span id="L-1875"><a href="#L-1875"><span class="linenos">1875</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1876"><a href="#L-1876"><span class="linenos">1876</span></a>    <span class="n">discarded_args</span> <span class="o">=</span> <span class="n">get_discarded_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">composed_instances</span><span class="p">,</span> <span class="n">model_args</span><span class="p">)</span>
</span><span id="L-1877"><a href="#L-1877"><span class="linenos">1877</span></a>
</span><span id="L-1878"><a href="#L-1878"><span class="linenos">1878</span></a>    <span class="c1"># map variable names to composed_instances</span>
</span><span id="L-1879"><a href="#L-1879"><span class="linenos">1879</span></a>    <span class="n">var_name_to_model_instances</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-1880"><a href="#L-1880"><span class="linenos">1880</span></a>    <span class="k">for</span> <span class="n">prop_name</span> <span class="ow">in</span> <span class="n">model_args</span><span class="p">:</span>
</span><span id="L-1881"><a href="#L-1881"><span class="linenos">1881</span></a>        <span class="k">if</span> <span class="n">prop_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">discarded_args</span><span class="p">:</span>
</span><span id="L-1882"><a href="#L-1882"><span class="linenos">1882</span></a>            <span class="n">var_name_to_model_instances</span><span class="p">[</span><span class="n">prop_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span> <span class="o">+</span> <span class="n">composed_instances</span>
</span><span id="L-1883"><a href="#L-1883"><span class="linenos">1883</span></a>
</span><span id="L-1884"><a href="#L-1884"><span class="linenos">1884</span></a>    <span class="k">return</span> <span class="p">[</span><span class="n">composed_instances</span><span class="p">,</span> <span class="n">var_name_to_model_instances</span><span class="p">,</span> <span class="n">additional_properties_model_instances</span><span class="p">,</span> <span class="n">discarded_args</span><span class="p">]</span>
</span></pre></div>


            </section>
                <section id="none_type">
                    <div class="attr variable">
            <span class="name">none_type</span>        =
<span class="default_value">&lt;class &#39;NoneType&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#none_type"></a>
    
    

                </section>
                <section id="file_type">
                    <div class="attr variable">
            <span class="name">file_type</span>        =
<span class="default_value">&lt;class &#39;io.IOBase&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#file_type"></a>
    
    

                </section>
                <section id="convert_js_args_to_python_args">
                            <input id="convert_js_args_to_python_args-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">convert_js_args_to_python_args</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">fn</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="convert_js_args_to_python_args-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#convert_js_args_to_python_args"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="convert_js_args_to_python_args-34"><a href="#convert_js_args_to_python_args-34"><span class="linenos">34</span></a><span class="k">def</span> <span class="nf">convert_js_args_to_python_args</span><span class="p">(</span><span class="n">fn</span><span class="p">):</span>
</span><span id="convert_js_args_to_python_args-35"><a href="#convert_js_args_to_python_args-35"><span class="linenos">35</span></a>    <span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>
</span><span id="convert_js_args_to_python_args-36"><a href="#convert_js_args_to_python_args-36"><span class="linenos">36</span></a>
</span><span id="convert_js_args_to_python_args-37"><a href="#convert_js_args_to_python_args-37"><span class="linenos">37</span></a>    <span class="nd">@wraps</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
</span><span id="convert_js_args_to_python_args-38"><a href="#convert_js_args_to_python_args-38"><span class="linenos">38</span></a>    <span class="k">def</span> <span class="nf">wrapped_init</span><span class="p">(</span><span class="n">_self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="convert_js_args_to_python_args-39"><a href="#convert_js_args_to_python_args-39"><span class="linenos">39</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="convert_js_args_to_python_args-40"><a href="#convert_js_args_to_python_args-40"><span class="linenos">40</span></a><span class="sd">        An attribute named `self` received from the api will conflicts with the reserved `self`</span>
</span><span id="convert_js_args_to_python_args-41"><a href="#convert_js_args_to_python_args-41"><span class="linenos">41</span></a><span class="sd">        parameter of a class method. During generation, `self` attributes are mapped</span>
</span><span id="convert_js_args_to_python_args-42"><a href="#convert_js_args_to_python_args-42"><span class="linenos">42</span></a><span class="sd">        to `_self` in models. Here, we name `_self` instead of `self` to avoid conflicts.</span>
</span><span id="convert_js_args_to_python_args-43"><a href="#convert_js_args_to_python_args-43"><span class="linenos">43</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="convert_js_args_to_python_args-44"><a href="#convert_js_args_to_python_args-44"><span class="linenos">44</span></a>        <span class="n">spec_property_naming</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_spec_property_naming&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="convert_js_args_to_python_args-45"><a href="#convert_js_args_to_python_args-45"><span class="linenos">45</span></a>        <span class="k">if</span> <span class="n">spec_property_naming</span><span class="p">:</span>
</span><span id="convert_js_args_to_python_args-46"><a href="#convert_js_args_to_python_args-46"><span class="linenos">46</span></a>            <span class="n">kwargs</span> <span class="o">=</span> <span class="n">change_keys_js_to_python</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">_self</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">_self</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="k">else</span> <span class="n">_self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
</span><span id="convert_js_args_to_python_args-47"><a href="#convert_js_args_to_python_args-47"><span class="linenos">47</span></a>        <span class="k">return</span> <span class="n">fn</span><span class="p">(</span><span class="n">_self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="convert_js_args_to_python_args-48"><a href="#convert_js_args_to_python_args-48"><span class="linenos">48</span></a>
</span><span id="convert_js_args_to_python_args-49"><a href="#convert_js_args_to_python_args-49"><span class="linenos">49</span></a>    <span class="k">return</span> <span class="n">wrapped_init</span>
</span></pre></div>


    

                </section>
                <section id="cached_property">
                            <input id="cached_property-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">cached_property</span>:

                <label class="view-source-button" for="cached_property-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#cached_property"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="cached_property-52"><a href="#cached_property-52"><span class="linenos">52</span></a><span class="k">class</span> <span class="nc">cached_property</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="cached_property-53"><a href="#cached_property-53"><span class="linenos">53</span></a>    <span class="c1"># this caches the result of the function call for fn with no inputs</span>
</span><span id="cached_property-54"><a href="#cached_property-54"><span class="linenos">54</span></a>    <span class="c1"># use this as a decorator on function methods that you want converted</span>
</span><span id="cached_property-55"><a href="#cached_property-55"><span class="linenos">55</span></a>    <span class="c1"># into cached properties</span>
</span><span id="cached_property-56"><a href="#cached_property-56"><span class="linenos">56</span></a>    <span class="n">result_key</span> <span class="o">=</span> <span class="s2">&quot;_results&quot;</span>
</span><span id="cached_property-57"><a href="#cached_property-57"><span class="linenos">57</span></a>
</span><span id="cached_property-58"><a href="#cached_property-58"><span class="linenos">58</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn</span><span class="p">):</span>
</span><span id="cached_property-59"><a href="#cached_property-59"><span class="linenos">59</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_fn</span> <span class="o">=</span> <span class="n">fn</span>
</span><span id="cached_property-60"><a href="#cached_property-60"><span class="linenos">60</span></a>
</span><span id="cached_property-61"><a href="#cached_property-61"><span class="linenos">61</span></a>    <span class="k">def</span> <span class="fm">__get__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="cached_property-62"><a href="#cached_property-62"><span class="linenos">62</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_key</span> <span class="ow">in</span> <span class="nb">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="cached_property-63"><a href="#cached_property-63"><span class="linenos">63</span></a>            <span class="k">return</span> <span class="nb">vars</span><span class="p">(</span><span class="bp">self</span><span class="p">)[</span><span class="bp">self</span><span class="o">.</span><span class="n">result_key</span><span class="p">]</span>
</span><span id="cached_property-64"><a href="#cached_property-64"><span class="linenos">64</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="cached_property-65"><a href="#cached_property-65"><span class="linenos">65</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fn</span><span class="p">()</span>
</span><span id="cached_property-66"><a href="#cached_property-66"><span class="linenos">66</span></a>            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_key</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</span><span id="cached_property-67"><a href="#cached_property-67"><span class="linenos">67</span></a>            <span class="k">return</span> <span class="n">result</span>
</span></pre></div>


    

                            <div id="cached_property.__init__" class="classattr">
                                        <input id="cached_property.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">cached_property</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">fn</span></span>)</span>

                <label class="view-source-button" for="cached_property.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#cached_property.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="cached_property.__init__-58"><a href="#cached_property.__init__-58"><span class="linenos">58</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn</span><span class="p">):</span>
</span><span id="cached_property.__init__-59"><a href="#cached_property.__init__-59"><span class="linenos">59</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_fn</span> <span class="o">=</span> <span class="n">fn</span>
</span></pre></div>


    

                            </div>
                            <div id="cached_property.result_key" class="classattr">
                                <div class="attr variable">
            <span class="name">result_key</span>        =
<span class="default_value">&#39;_results&#39;</span>

        
    </div>
    <a class="headerlink" href="#cached_property.result_key"></a>
    
    

                            </div>
                </section>
                <section id="PRIMITIVE_TYPES">
                    <div class="attr variable">
            <span class="name">PRIMITIVE_TYPES</span>        =
<input id="PRIMITIVE_TYPES-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="PRIMITIVE_TYPES-view-value"></label><span class="default_value">(&lt;class &#39;list&#39;&gt;, &lt;class &#39;float&#39;&gt;, &lt;class &#39;int&#39;&gt;, &lt;class &#39;bool&#39;&gt;, &lt;class &#39;datetime.datetime&#39;&gt;, &lt;class &#39;datetime.date&#39;&gt;, &lt;class &#39;str&#39;&gt;, &lt;class &#39;io.IOBase&#39;&gt;)</span>

        
    </div>
    <a class="headerlink" href="#PRIMITIVE_TYPES"></a>
    
    

                </section>
                <section id="allows_single_value_input">
                            <input id="allows_single_value_input-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">allows_single_value_input</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="allows_single_value_input-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#allows_single_value_input"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="allows_single_value_input-73"><a href="#allows_single_value_input-73"><span class="linenos">73</span></a><span class="k">def</span> <span class="nf">allows_single_value_input</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="allows_single_value_input-74"><a href="#allows_single_value_input-74"><span class="linenos">74</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="allows_single_value_input-75"><a href="#allows_single_value_input-75"><span class="linenos">75</span></a><span class="sd">    This function returns True if the input composed schema model or any</span>
</span><span id="allows_single_value_input-76"><a href="#allows_single_value_input-76"><span class="linenos">76</span></a><span class="sd">    descendant model allows a value only input</span>
</span><span id="allows_single_value_input-77"><a href="#allows_single_value_input-77"><span class="linenos">77</span></a><span class="sd">    This is true for cases where oneOf contains items like:</span>
</span><span id="allows_single_value_input-78"><a href="#allows_single_value_input-78"><span class="linenos">78</span></a><span class="sd">    oneOf:</span>
</span><span id="allows_single_value_input-79"><a href="#allows_single_value_input-79"><span class="linenos">79</span></a><span class="sd">      - float</span>
</span><span id="allows_single_value_input-80"><a href="#allows_single_value_input-80"><span class="linenos">80</span></a><span class="sd">      - NumberWithValidation</span>
</span><span id="allows_single_value_input-81"><a href="#allows_single_value_input-81"><span class="linenos">81</span></a><span class="sd">      - StringEnum</span>
</span><span id="allows_single_value_input-82"><a href="#allows_single_value_input-82"><span class="linenos">82</span></a><span class="sd">      - ArrayModel</span>
</span><span id="allows_single_value_input-83"><a href="#allows_single_value_input-83"><span class="linenos">83</span></a><span class="sd">      - null</span>
</span><span id="allows_single_value_input-84"><a href="#allows_single_value_input-84"><span class="linenos">84</span></a><span class="sd">    TODO: lru_cache this</span>
</span><span id="allows_single_value_input-85"><a href="#allows_single_value_input-85"><span class="linenos">85</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="allows_single_value_input-86"><a href="#allows_single_value_input-86"><span class="linenos">86</span></a>    <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">PRIMITIVE_TYPES</span><span class="p">:</span>
</span><span id="allows_single_value_input-87"><a href="#allows_single_value_input-87"><span class="linenos">87</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="allows_single_value_input-88"><a href="#allows_single_value_input-88"><span class="linenos">88</span></a>    <span class="k">elif</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">):</span>
</span><span id="allows_single_value_input-89"><a href="#allows_single_value_input-89"><span class="linenos">89</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;oneOf&quot;</span><span class="p">]:</span>
</span><span id="allows_single_value_input-90"><a href="#allows_single_value_input-90"><span class="linenos">90</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="allows_single_value_input-91"><a href="#allows_single_value_input-91"><span class="linenos">91</span></a>        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">allows_single_value_input</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;oneOf&quot;</span><span class="p">])</span>
</span><span id="allows_single_value_input-92"><a href="#allows_single_value_input-92"><span class="linenos">92</span></a>    <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>This function returns True if the input composed schema model or any
descendant model allows a value only input
This is true for cases where oneOf contains items like:
oneOf:</p>

<ul>
<li>float</li>
<li>NumberWithValidation</li>
<li>StringEnum</li>
<li>ArrayModel</li>
<li>null
TODO: lru_cache this</li>
</ul>
</div>


                </section>
                <section id="composed_model_input_classes">
                            <input id="composed_model_input_classes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">composed_model_input_classes</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="composed_model_input_classes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#composed_model_input_classes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="composed_model_input_classes-95"><a href="#composed_model_input_classes-95"><span class="linenos"> 95</span></a><span class="k">def</span> <span class="nf">composed_model_input_classes</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="composed_model_input_classes-96"><a href="#composed_model_input_classes-96"><span class="linenos"> 96</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="composed_model_input_classes-97"><a href="#composed_model_input_classes-97"><span class="linenos"> 97</span></a><span class="sd">    This function returns a list of the possible models that can be accepted as</span>
</span><span id="composed_model_input_classes-98"><a href="#composed_model_input_classes-98"><span class="linenos"> 98</span></a><span class="sd">    inputs.</span>
</span><span id="composed_model_input_classes-99"><a href="#composed_model_input_classes-99"><span class="linenos"> 99</span></a><span class="sd">    TODO: lru_cache this</span>
</span><span id="composed_model_input_classes-100"><a href="#composed_model_input_classes-100"><span class="linenos">100</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="composed_model_input_classes-101"><a href="#composed_model_input_classes-101"><span class="linenos">101</span></a>    <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">PRIMITIVE_TYPES</span><span class="p">:</span>
</span><span id="composed_model_input_classes-102"><a href="#composed_model_input_classes-102"><span class="linenos">102</span></a>        <span class="k">return</span> <span class="p">[</span><span class="bp">cls</span><span class="p">]</span>
</span><span id="composed_model_input_classes-103"><a href="#composed_model_input_classes-103"><span class="linenos">103</span></a>    <span class="k">elif</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ModelNormal</span><span class="p">):</span>
</span><span id="composed_model_input_classes-104"><a href="#composed_model_input_classes-104"><span class="linenos">104</span></a>        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="composed_model_input_classes-105"><a href="#composed_model_input_classes-105"><span class="linenos">105</span></a>            <span class="k">return</span> <span class="p">[</span><span class="bp">cls</span><span class="p">]</span>
</span><span id="composed_model_input_classes-106"><a href="#composed_model_input_classes-106"><span class="linenos">106</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="composed_model_input_classes-107"><a href="#composed_model_input_classes-107"><span class="linenos">107</span></a>            <span class="k">return</span> <span class="n">get_discriminated_classes</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</span><span id="composed_model_input_classes-108"><a href="#composed_model_input_classes-108"><span class="linenos">108</span></a>    <span class="k">elif</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">):</span>
</span><span id="composed_model_input_classes-109"><a href="#composed_model_input_classes-109"><span class="linenos">109</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;oneOf&quot;</span><span class="p">]:</span>
</span><span id="composed_model_input_classes-110"><a href="#composed_model_input_classes-110"><span class="linenos">110</span></a>            <span class="k">return</span> <span class="p">[]</span>
</span><span id="composed_model_input_classes-111"><a href="#composed_model_input_classes-111"><span class="linenos">111</span></a>        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="composed_model_input_classes-112"><a href="#composed_model_input_classes-112"><span class="linenos">112</span></a>            <span class="n">input_classes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="composed_model_input_classes-113"><a href="#composed_model_input_classes-113"><span class="linenos">113</span></a>            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;oneOf&quot;</span><span class="p">]:</span>
</span><span id="composed_model_input_classes-114"><a href="#composed_model_input_classes-114"><span class="linenos">114</span></a>                <span class="n">input_classes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">composed_model_input_classes</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
</span><span id="composed_model_input_classes-115"><a href="#composed_model_input_classes-115"><span class="linenos">115</span></a>            <span class="k">return</span> <span class="n">input_classes</span>
</span><span id="composed_model_input_classes-116"><a href="#composed_model_input_classes-116"><span class="linenos">116</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="composed_model_input_classes-117"><a href="#composed_model_input_classes-117"><span class="linenos">117</span></a>            <span class="k">return</span> <span class="n">get_discriminated_classes</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</span><span id="composed_model_input_classes-118"><a href="#composed_model_input_classes-118"><span class="linenos">118</span></a>    <span class="k">return</span> <span class="p">[]</span>
</span></pre></div>


            <div class="docstring"><p>This function returns a list of the possible models that can be accepted as
inputs.
TODO: lru_cache this</p>
</div>


                </section>
                <section id="OpenApiModel">
                            <input id="OpenApiModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">OpenApiModel</span>:

                <label class="view-source-button" for="OpenApiModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenApiModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenApiModel-121"><a href="#OpenApiModel-121"><span class="linenos">121</span></a><span class="k">class</span> <span class="nc">OpenApiModel</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span id="OpenApiModel-122"><a href="#OpenApiModel-122"><span class="linenos">122</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The base class for all OpenAPIModels&quot;&quot;&quot;</span>
</span><span id="OpenApiModel-123"><a href="#OpenApiModel-123"><span class="linenos">123</span></a>
</span><span id="OpenApiModel-124"><a href="#OpenApiModel-124"><span class="linenos">124</span></a>    <span class="k">def</span> <span class="nf">set_attribute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="OpenApiModel-125"><a href="#OpenApiModel-125"><span class="linenos">125</span></a>        <span class="c1"># this is only used to set properties on self</span>
</span><span id="OpenApiModel-126"><a href="#OpenApiModel-126"><span class="linenos">126</span></a>
</span><span id="OpenApiModel-127"><a href="#OpenApiModel-127"><span class="linenos">127</span></a>        <span class="n">path_to_item</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="OpenApiModel-128"><a href="#OpenApiModel-128"><span class="linenos">128</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_path_to_item</span><span class="p">:</span>
</span><span id="OpenApiModel-129"><a href="#OpenApiModel-129"><span class="linenos">129</span></a>            <span class="n">path_to_item</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_path_to_item</span><span class="p">)</span>
</span><span id="OpenApiModel-130"><a href="#OpenApiModel-130"><span class="linenos">130</span></a>        <span class="n">path_to_item</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="OpenApiModel-131"><a href="#OpenApiModel-131"><span class="linenos">131</span></a>
</span><span id="OpenApiModel-132"><a href="#OpenApiModel-132"><span class="linenos">132</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">openapi_types</span><span class="p">:</span>
</span><span id="OpenApiModel-133"><a href="#OpenApiModel-133"><span class="linenos">133</span></a>            <span class="n">required_types_mixed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">openapi_types</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="OpenApiModel-134"><a href="#OpenApiModel-134"><span class="linenos">134</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenApiModel-135"><a href="#OpenApiModel-135"><span class="linenos">135</span></a>            <span class="k">raise</span> <span class="n">ApiAttributeError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> has no attribute &#39;</span><span class="si">{1}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span> <span class="n">path_to_item</span><span class="p">)</span>
</span><span id="OpenApiModel-136"><a href="#OpenApiModel-136"><span class="linenos">136</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenApiModel-137"><a href="#OpenApiModel-137"><span class="linenos">137</span></a>            <span class="n">required_types_mixed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties_type</span>
</span><span id="OpenApiModel-138"><a href="#OpenApiModel-138"><span class="linenos">138</span></a>
</span><span id="OpenApiModel-139"><a href="#OpenApiModel-139"><span class="linenos">139</span></a>        <span class="k">if</span> <span class="n">get_simple_class</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="OpenApiModel-140"><a href="#OpenApiModel-140"><span class="linenos">140</span></a>            <span class="n">error_msg</span> <span class="o">=</span> <span class="n">type_error_message</span><span class="p">(</span><span class="n">var_name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">var_value</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">valid_classes</span><span class="o">=</span><span class="p">(</span><span class="nb">str</span><span class="p">,),</span> <span class="n">key_type</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="OpenApiModel-141"><a href="#OpenApiModel-141"><span class="linenos">141</span></a>            <span class="k">raise</span> <span class="n">ApiTypeError</span><span class="p">(</span><span class="n">error_msg</span><span class="p">,</span> <span class="n">path_to_item</span><span class="o">=</span><span class="n">path_to_item</span><span class="p">,</span> <span class="n">valid_classes</span><span class="o">=</span><span class="p">(</span><span class="nb">str</span><span class="p">,),</span> <span class="n">key_type</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="OpenApiModel-142"><a href="#OpenApiModel-142"><span class="linenos">142</span></a>
</span><span id="OpenApiModel-143"><a href="#OpenApiModel-143"><span class="linenos">143</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_type</span><span class="p">:</span>
</span><span id="OpenApiModel-144"><a href="#OpenApiModel-144"><span class="linenos">144</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="n">validate_and_convert_types</span><span class="p">(</span>
</span><span id="OpenApiModel-145"><a href="#OpenApiModel-145"><span class="linenos">145</span></a>                <span class="n">value</span><span class="p">,</span>
</span><span id="OpenApiModel-146"><a href="#OpenApiModel-146"><span class="linenos">146</span></a>                <span class="n">required_types_mixed</span><span class="p">,</span>
</span><span id="OpenApiModel-147"><a href="#OpenApiModel-147"><span class="linenos">147</span></a>                <span class="n">path_to_item</span><span class="p">,</span>
</span><span id="OpenApiModel-148"><a href="#OpenApiModel-148"><span class="linenos">148</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_spec_property_naming</span><span class="p">,</span>
</span><span id="OpenApiModel-149"><a href="#OpenApiModel-149"><span class="linenos">149</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_check_type</span><span class="p">,</span>
</span><span id="OpenApiModel-150"><a href="#OpenApiModel-150"><span class="linenos">150</span></a>                <span class="n">configuration</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span><span class="p">,</span>
</span><span id="OpenApiModel-151"><a href="#OpenApiModel-151"><span class="linenos">151</span></a>            <span class="p">)</span>
</span><span id="OpenApiModel-152"><a href="#OpenApiModel-152"><span class="linenos">152</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">name</span><span class="p">,)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">allowed_values</span><span class="p">:</span>
</span><span id="OpenApiModel-153"><a href="#OpenApiModel-153"><span class="linenos">153</span></a>            <span class="n">check_allowed_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">allowed_values</span><span class="p">,</span> <span class="p">(</span><span class="n">name</span><span class="p">,),</span> <span class="n">value</span><span class="p">)</span>
</span><span id="OpenApiModel-154"><a href="#OpenApiModel-154"><span class="linenos">154</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">name</span><span class="p">,)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">validations</span><span class="p">:</span>
</span><span id="OpenApiModel-155"><a href="#OpenApiModel-155"><span class="linenos">155</span></a>            <span class="n">check_validations</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">validations</span><span class="p">,</span> <span class="p">(</span><span class="n">name</span><span class="p">,),</span> <span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span><span class="p">)</span>
</span><span id="OpenApiModel-156"><a href="#OpenApiModel-156"><span class="linenos">156</span></a>        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;_data_store&quot;</span><span class="p">][</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="OpenApiModel-157"><a href="#OpenApiModel-157"><span class="linenos">157</span></a>
</span><span id="OpenApiModel-158"><a href="#OpenApiModel-158"><span class="linenos">158</span></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="OpenApiModel-159"><a href="#OpenApiModel-159"><span class="linenos">159</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;For `print` and `pprint`&quot;&quot;&quot;</span>
</span><span id="OpenApiModel-160"><a href="#OpenApiModel-160"><span class="linenos">160</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_str</span><span class="p">()</span>
</span><span id="OpenApiModel-161"><a href="#OpenApiModel-161"><span class="linenos">161</span></a>
</span><span id="OpenApiModel-162"><a href="#OpenApiModel-162"><span class="linenos">162</span></a>    <span class="k">def</span> <span class="fm">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="OpenApiModel-163"><a href="#OpenApiModel-163"><span class="linenos">163</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns true if both objects are not equal&quot;&quot;&quot;</span>
</span><span id="OpenApiModel-164"><a href="#OpenApiModel-164"><span class="linenos">164</span></a>        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span> <span class="o">==</span> <span class="n">other</span>
</span><span id="OpenApiModel-165"><a href="#OpenApiModel-165"><span class="linenos">165</span></a>
</span><span id="OpenApiModel-166"><a href="#OpenApiModel-166"><span class="linenos">166</span></a>    <span class="k">def</span> <span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="OpenApiModel-167"><a href="#OpenApiModel-167"><span class="linenos">167</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;set the value of an attribute using dot notation: `instance.attr = val`&quot;&quot;&quot;</span>
</span><span id="OpenApiModel-168"><a href="#OpenApiModel-168"><span class="linenos">168</span></a>        <span class="bp">self</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="OpenApiModel-169"><a href="#OpenApiModel-169"><span class="linenos">169</span></a>
</span><span id="OpenApiModel-170"><a href="#OpenApiModel-170"><span class="linenos">170</span></a>    <span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
</span><span id="OpenApiModel-171"><a href="#OpenApiModel-171"><span class="linenos">171</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;get the value of an attribute using dot notation: `instance.attr`&quot;&quot;&quot;</span>
</span><span id="OpenApiModel-172"><a href="#OpenApiModel-172"><span class="linenos">172</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
</span><span id="OpenApiModel-173"><a href="#OpenApiModel-173"><span class="linenos">173</span></a>
</span><span id="OpenApiModel-174"><a href="#OpenApiModel-174"><span class="linenos">174</span></a>    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="OpenApiModel-175"><a href="#OpenApiModel-175"><span class="linenos">175</span></a>        <span class="c1"># this function uses the discriminator to</span>
</span><span id="OpenApiModel-176"><a href="#OpenApiModel-176"><span class="linenos">176</span></a>        <span class="c1"># pick a new schema/class to instantiate because a discriminator</span>
</span><span id="OpenApiModel-177"><a href="#OpenApiModel-177"><span class="linenos">177</span></a>        <span class="c1"># propertyName value was passed in</span>
</span><span id="OpenApiModel-178"><a href="#OpenApiModel-178"><span class="linenos">178</span></a>
</span><span id="OpenApiModel-179"><a href="#OpenApiModel-179"><span class="linenos">179</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="OpenApiModel-180"><a href="#OpenApiModel-180"><span class="linenos">180</span></a>            <span class="n">arg</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="OpenApiModel-181"><a href="#OpenApiModel-181"><span class="linenos">181</span></a>            <span class="k">if</span> <span class="n">arg</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">is_type_nullable</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="OpenApiModel-182"><a href="#OpenApiModel-182"><span class="linenos">182</span></a>                <span class="c1"># The input data is the &#39;null&#39; value and the type is nullable.</span>
</span><span id="OpenApiModel-183"><a href="#OpenApiModel-183"><span class="linenos">183</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="OpenApiModel-184"><a href="#OpenApiModel-184"><span class="linenos">184</span></a>
</span><span id="OpenApiModel-185"><a href="#OpenApiModel-185"><span class="linenos">185</span></a>            <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">)</span> <span class="ow">and</span> <span class="n">allows_single_value_input</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="OpenApiModel-186"><a href="#OpenApiModel-186"><span class="linenos">186</span></a>                <span class="n">model_kwargs</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="OpenApiModel-187"><a href="#OpenApiModel-187"><span class="linenos">187</span></a>                <span class="n">oneof_instance</span> <span class="o">=</span> <span class="n">get_oneof_instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">model_kwargs</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">model_arg</span><span class="o">=</span><span class="n">arg</span><span class="p">)</span>
</span><span id="OpenApiModel-188"><a href="#OpenApiModel-188"><span class="linenos">188</span></a>                <span class="k">return</span> <span class="n">oneof_instance</span>
</span><span id="OpenApiModel-189"><a href="#OpenApiModel-189"><span class="linenos">189</span></a>
</span><span id="OpenApiModel-190"><a href="#OpenApiModel-190"><span class="linenos">190</span></a>        <span class="n">visited_composed_classes</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_visited_composed_classes&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="OpenApiModel-191"><a href="#OpenApiModel-191"><span class="linenos">191</span></a>        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">visited_composed_classes</span><span class="p">:</span>
</span><span id="OpenApiModel-192"><a href="#OpenApiModel-192"><span class="linenos">192</span></a>            <span class="c1"># Use case 1: this openapi schema (cls) does not have a discriminator</span>
</span><span id="OpenApiModel-193"><a href="#OpenApiModel-193"><span class="linenos">193</span></a>            <span class="c1"># Use case 2: we have already visited this class before and are sure that we</span>
</span><span id="OpenApiModel-194"><a href="#OpenApiModel-194"><span class="linenos">194</span></a>            <span class="c1"># want to instantiate it this time. We have visited this class deserializing</span>
</span><span id="OpenApiModel-195"><a href="#OpenApiModel-195"><span class="linenos">195</span></a>            <span class="c1"># a payload with a discriminator. During that process we traveled through</span>
</span><span id="OpenApiModel-196"><a href="#OpenApiModel-196"><span class="linenos">196</span></a>            <span class="c1"># this class but did not make an instance of it. Now we are making an</span>
</span><span id="OpenApiModel-197"><a href="#OpenApiModel-197"><span class="linenos">197</span></a>            <span class="c1"># instance of a composed class which contains cls in it, so this time make an instance of cls.</span>
</span><span id="OpenApiModel-198"><a href="#OpenApiModel-198"><span class="linenos">198</span></a>            <span class="c1">#</span>
</span><span id="OpenApiModel-199"><a href="#OpenApiModel-199"><span class="linenos">199</span></a>            <span class="c1"># Here&#39;s an example of use case 2: If Animal has a discriminator</span>
</span><span id="OpenApiModel-200"><a href="#OpenApiModel-200"><span class="linenos">200</span></a>            <span class="c1"># petType and we pass in &quot;Dog&quot;, and the class Dog</span>
</span><span id="OpenApiModel-201"><a href="#OpenApiModel-201"><span class="linenos">201</span></a>            <span class="c1"># allOf includes Animal, we move through Animal</span>
</span><span id="OpenApiModel-202"><a href="#OpenApiModel-202"><span class="linenos">202</span></a>            <span class="c1"># once using the discriminator, and pick Dog.</span>
</span><span id="OpenApiModel-203"><a href="#OpenApiModel-203"><span class="linenos">203</span></a>            <span class="c1"># Then in the composed schema dog Dog, we will make an instance of the</span>
</span><span id="OpenApiModel-204"><a href="#OpenApiModel-204"><span class="linenos">204</span></a>            <span class="c1"># Animal class (because Dal has allOf: Animal) but this time we won&#39;t travel</span>
</span><span id="OpenApiModel-205"><a href="#OpenApiModel-205"><span class="linenos">205</span></a>            <span class="c1"># through Animal&#39;s discriminator because we passed in</span>
</span><span id="OpenApiModel-206"><a href="#OpenApiModel-206"><span class="linenos">206</span></a>            <span class="c1"># _visited_composed_classes = (Animal,)</span>
</span><span id="OpenApiModel-207"><a href="#OpenApiModel-207"><span class="linenos">207</span></a>
</span><span id="OpenApiModel-208"><a href="#OpenApiModel-208"><span class="linenos">208</span></a>            <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">OpenApiModel</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</span><span id="OpenApiModel-209"><a href="#OpenApiModel-209"><span class="linenos">209</span></a>
</span><span id="OpenApiModel-210"><a href="#OpenApiModel-210"><span class="linenos">210</span></a>        <span class="c1"># Get the name and value of the discriminator property.</span>
</span><span id="OpenApiModel-211"><a href="#OpenApiModel-211"><span class="linenos">211</span></a>        <span class="c1"># The discriminator name is obtained from the discriminator meta-data</span>
</span><span id="OpenApiModel-212"><a href="#OpenApiModel-212"><span class="linenos">212</span></a>        <span class="c1"># and the discriminator value is obtained from the input data.</span>
</span><span id="OpenApiModel-213"><a href="#OpenApiModel-213"><span class="linenos">213</span></a>        <span class="n">discr_propertyname_py</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="OpenApiModel-214"><a href="#OpenApiModel-214"><span class="linenos">214</span></a>        <span class="n">discr_propertyname_js</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">attribute_map</span><span class="p">[</span><span class="n">discr_propertyname_py</span><span class="p">]</span>
</span><span id="OpenApiModel-215"><a href="#OpenApiModel-215"><span class="linenos">215</span></a>        <span class="k">if</span> <span class="n">discr_propertyname_js</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="OpenApiModel-216"><a href="#OpenApiModel-216"><span class="linenos">216</span></a>            <span class="n">discr_value</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">discr_propertyname_js</span><span class="p">]</span>
</span><span id="OpenApiModel-217"><a href="#OpenApiModel-217"><span class="linenos">217</span></a>        <span class="k">elif</span> <span class="n">discr_propertyname_py</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="OpenApiModel-218"><a href="#OpenApiModel-218"><span class="linenos">218</span></a>            <span class="n">discr_value</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">discr_propertyname_py</span><span class="p">]</span>
</span><span id="OpenApiModel-219"><a href="#OpenApiModel-219"><span class="linenos">219</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="OpenApiModel-220"><a href="#OpenApiModel-220"><span class="linenos">220</span></a>            <span class="c1"># The input data does not contain the discriminator property.</span>
</span><span id="OpenApiModel-221"><a href="#OpenApiModel-221"><span class="linenos">221</span></a>            <span class="n">path_to_item</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_path_to_item&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="OpenApiModel-222"><a href="#OpenApiModel-222"><span class="linenos">222</span></a>            <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="OpenApiModel-223"><a href="#OpenApiModel-223"><span class="linenos">223</span></a>                <span class="s2">&quot;Cannot deserialize input data due to missing discriminator. &quot;</span>
</span><span id="OpenApiModel-224"><a href="#OpenApiModel-224"><span class="linenos">224</span></a>                <span class="s2">&quot;The discriminator property &#39;</span><span class="si">%s</span><span class="s2">&#39; is missing at path: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">discr_propertyname_js</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">)</span>
</span><span id="OpenApiModel-225"><a href="#OpenApiModel-225"><span class="linenos">225</span></a>            <span class="p">)</span>
</span><span id="OpenApiModel-226"><a href="#OpenApiModel-226"><span class="linenos">226</span></a>
</span><span id="OpenApiModel-227"><a href="#OpenApiModel-227"><span class="linenos">227</span></a>        <span class="c1"># Implementation note: the last argument to get_discriminator_class</span>
</span><span id="OpenApiModel-228"><a href="#OpenApiModel-228"><span class="linenos">228</span></a>        <span class="c1"># is a list of visited classes. get_discriminator_class may recursively</span>
</span><span id="OpenApiModel-229"><a href="#OpenApiModel-229"><span class="linenos">229</span></a>        <span class="c1"># call itself and update the list of visited classes, and the initial</span>
</span><span id="OpenApiModel-230"><a href="#OpenApiModel-230"><span class="linenos">230</span></a>        <span class="c1"># value must be an empty list. Hence not using &#39;visited_composed_classes&#39;</span>
</span><span id="OpenApiModel-231"><a href="#OpenApiModel-231"><span class="linenos">231</span></a>        <span class="n">new_cls</span> <span class="o">=</span> <span class="n">get_discriminator_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">discr_propertyname_py</span><span class="p">,</span> <span class="n">discr_value</span><span class="p">,</span> <span class="p">[])</span>
</span><span id="OpenApiModel-232"><a href="#OpenApiModel-232"><span class="linenos">232</span></a>        <span class="k">if</span> <span class="n">new_cls</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenApiModel-233"><a href="#OpenApiModel-233"><span class="linenos">233</span></a>            <span class="n">path_to_item</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_path_to_item&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="OpenApiModel-234"><a href="#OpenApiModel-234"><span class="linenos">234</span></a>            <span class="n">disc_prop_value</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">discr_propertyname_js</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">discr_propertyname_py</span><span class="p">))</span>
</span><span id="OpenApiModel-235"><a href="#OpenApiModel-235"><span class="linenos">235</span></a>            <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="OpenApiModel-236"><a href="#OpenApiModel-236"><span class="linenos">236</span></a>                <span class="s2">&quot;Cannot deserialize input data due to invalid discriminator &quot;</span>
</span><span id="OpenApiModel-237"><a href="#OpenApiModel-237"><span class="linenos">237</span></a>                <span class="s2">&quot;value. The OpenAPI document has no mapping for discriminator &quot;</span>
</span><span id="OpenApiModel-238"><a href="#OpenApiModel-238"><span class="linenos">238</span></a>                <span class="s2">&quot;property &#39;</span><span class="si">%s</span><span class="s2">&#39;=&#39;</span><span class="si">%s</span><span class="s2">&#39; at path: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">discr_propertyname_js</span><span class="p">,</span> <span class="n">disc_prop_value</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">)</span>
</span><span id="OpenApiModel-239"><a href="#OpenApiModel-239"><span class="linenos">239</span></a>            <span class="p">)</span>
</span><span id="OpenApiModel-240"><a href="#OpenApiModel-240"><span class="linenos">240</span></a>
</span><span id="OpenApiModel-241"><a href="#OpenApiModel-241"><span class="linenos">241</span></a>        <span class="k">if</span> <span class="n">new_cls</span> <span class="ow">in</span> <span class="n">visited_composed_classes</span><span class="p">:</span>
</span><span id="OpenApiModel-242"><a href="#OpenApiModel-242"><span class="linenos">242</span></a>            <span class="c1"># if we are making an instance of a composed schema Descendent</span>
</span><span id="OpenApiModel-243"><a href="#OpenApiModel-243"><span class="linenos">243</span></a>            <span class="c1"># which allOf includes Ancestor, then Ancestor contains</span>
</span><span id="OpenApiModel-244"><a href="#OpenApiModel-244"><span class="linenos">244</span></a>            <span class="c1"># a discriminator that includes Descendent.</span>
</span><span id="OpenApiModel-245"><a href="#OpenApiModel-245"><span class="linenos">245</span></a>            <span class="c1"># So if we make an instance of Descendent, we have to make an</span>
</span><span id="OpenApiModel-246"><a href="#OpenApiModel-246"><span class="linenos">246</span></a>            <span class="c1"># instance of Ancestor to hold the allOf properties.</span>
</span><span id="OpenApiModel-247"><a href="#OpenApiModel-247"><span class="linenos">247</span></a>            <span class="c1"># This code detects that use case and makes the instance of Ancestor</span>
</span><span id="OpenApiModel-248"><a href="#OpenApiModel-248"><span class="linenos">248</span></a>            <span class="c1"># For example:</span>
</span><span id="OpenApiModel-249"><a href="#OpenApiModel-249"><span class="linenos">249</span></a>            <span class="c1"># When making an instance of Dog, _visited_composed_classes = (Dog,)</span>
</span><span id="OpenApiModel-250"><a href="#OpenApiModel-250"><span class="linenos">250</span></a>            <span class="c1"># then we make an instance of Animal to include in dog._composed_instances</span>
</span><span id="OpenApiModel-251"><a href="#OpenApiModel-251"><span class="linenos">251</span></a>            <span class="c1"># so when we are here, cls is Animal</span>
</span><span id="OpenApiModel-252"><a href="#OpenApiModel-252"><span class="linenos">252</span></a>            <span class="c1"># cls.discriminator != None</span>
</span><span id="OpenApiModel-253"><a href="#OpenApiModel-253"><span class="linenos">253</span></a>            <span class="c1"># cls not in _visited_composed_classes</span>
</span><span id="OpenApiModel-254"><a href="#OpenApiModel-254"><span class="linenos">254</span></a>            <span class="c1"># new_cls = Dog</span>
</span><span id="OpenApiModel-255"><a href="#OpenApiModel-255"><span class="linenos">255</span></a>            <span class="c1"># but we know we know that we already have Dog</span>
</span><span id="OpenApiModel-256"><a href="#OpenApiModel-256"><span class="linenos">256</span></a>            <span class="c1"># because it is in visited_composed_classes</span>
</span><span id="OpenApiModel-257"><a href="#OpenApiModel-257"><span class="linenos">257</span></a>            <span class="c1"># so make Animal here</span>
</span><span id="OpenApiModel-258"><a href="#OpenApiModel-258"><span class="linenos">258</span></a>            <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">OpenApiModel</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</span><span id="OpenApiModel-259"><a href="#OpenApiModel-259"><span class="linenos">259</span></a>
</span><span id="OpenApiModel-260"><a href="#OpenApiModel-260"><span class="linenos">260</span></a>        <span class="c1"># Build a list containing all oneOf and anyOf descendants.</span>
</span><span id="OpenApiModel-261"><a href="#OpenApiModel-261"><span class="linenos">261</span></a>        <span class="n">oneof_anyof_classes</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="OpenApiModel-262"><a href="#OpenApiModel-262"><span class="linenos">262</span></a>        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenApiModel-263"><a href="#OpenApiModel-263"><span class="linenos">263</span></a>            <span class="n">oneof_anyof_classes</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oneOf&quot;</span><span class="p">,</span> <span class="p">())</span> <span class="o">+</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;anyOf&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="OpenApiModel-264"><a href="#OpenApiModel-264"><span class="linenos">264</span></a>        <span class="n">oneof_anyof_child</span> <span class="o">=</span> <span class="n">new_cls</span> <span class="ow">in</span> <span class="n">oneof_anyof_classes</span>
</span><span id="OpenApiModel-265"><a href="#OpenApiModel-265"><span class="linenos">265</span></a>        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;_visited_composed_classes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">visited_composed_classes</span> <span class="o">+</span> <span class="p">(</span><span class="bp">cls</span><span class="p">,)</span>
</span><span id="OpenApiModel-266"><a href="#OpenApiModel-266"><span class="linenos">266</span></a>
</span><span id="OpenApiModel-267"><a href="#OpenApiModel-267"><span class="linenos">267</span></a>        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;allOf&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">oneof_anyof_child</span><span class="p">:</span>
</span><span id="OpenApiModel-268"><a href="#OpenApiModel-268"><span class="linenos">268</span></a>            <span class="c1"># Validate that we can make self because when we make the</span>
</span><span id="OpenApiModel-269"><a href="#OpenApiModel-269"><span class="linenos">269</span></a>            <span class="c1"># new_cls it will not include the allOf validations in self</span>
</span><span id="OpenApiModel-270"><a href="#OpenApiModel-270"><span class="linenos">270</span></a>            <span class="n">self_inst</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">OpenApiModel</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</span><span id="OpenApiModel-271"><a href="#OpenApiModel-271"><span class="linenos">271</span></a>            <span class="n">self_inst</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="OpenApiModel-272"><a href="#OpenApiModel-272"><span class="linenos">272</span></a>
</span><span id="OpenApiModel-273"><a href="#OpenApiModel-273"><span class="linenos">273</span></a>        <span class="n">new_inst</span> <span class="o">=</span> <span class="n">new_cls</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="n">new_cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="OpenApiModel-274"><a href="#OpenApiModel-274"><span class="linenos">274</span></a>        <span class="n">new_inst</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="OpenApiModel-275"><a href="#OpenApiModel-275"><span class="linenos">275</span></a>        <span class="k">return</span> <span class="n">new_inst</span>
</span><span id="OpenApiModel-276"><a href="#OpenApiModel-276"><span class="linenos">276</span></a>
</span><span id="OpenApiModel-277"><a href="#OpenApiModel-277"><span class="linenos">277</span></a>    <span class="nd">@classmethod</span>
</span><span id="OpenApiModel-278"><a href="#OpenApiModel-278"><span class="linenos">278</span></a>    <span class="nd">@convert_js_args_to_python_args</span>
</span><span id="OpenApiModel-279"><a href="#OpenApiModel-279"><span class="linenos">279</span></a>    <span class="k">def</span> <span class="nf">_new_from_openapi_data</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="OpenApiModel-280"><a href="#OpenApiModel-280"><span class="linenos">280</span></a>        <span class="c1"># this function uses the discriminator to</span>
</span><span id="OpenApiModel-281"><a href="#OpenApiModel-281"><span class="linenos">281</span></a>        <span class="c1"># pick a new schema/class to instantiate because a discriminator</span>
</span><span id="OpenApiModel-282"><a href="#OpenApiModel-282"><span class="linenos">282</span></a>        <span class="c1"># propertyName value was passed in</span>
</span><span id="OpenApiModel-283"><a href="#OpenApiModel-283"><span class="linenos">283</span></a>
</span><span id="OpenApiModel-284"><a href="#OpenApiModel-284"><span class="linenos">284</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="OpenApiModel-285"><a href="#OpenApiModel-285"><span class="linenos">285</span></a>            <span class="n">arg</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="OpenApiModel-286"><a href="#OpenApiModel-286"><span class="linenos">286</span></a>            <span class="k">if</span> <span class="n">arg</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">is_type_nullable</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="OpenApiModel-287"><a href="#OpenApiModel-287"><span class="linenos">287</span></a>                <span class="c1"># The input data is the &#39;null&#39; value and the type is nullable.</span>
</span><span id="OpenApiModel-288"><a href="#OpenApiModel-288"><span class="linenos">288</span></a>                <span class="k">return</span> <span class="kc">None</span>
</span><span id="OpenApiModel-289"><a href="#OpenApiModel-289"><span class="linenos">289</span></a>
</span><span id="OpenApiModel-290"><a href="#OpenApiModel-290"><span class="linenos">290</span></a>            <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">)</span> <span class="ow">and</span> <span class="n">allows_single_value_input</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="OpenApiModel-291"><a href="#OpenApiModel-291"><span class="linenos">291</span></a>                <span class="n">model_kwargs</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="OpenApiModel-292"><a href="#OpenApiModel-292"><span class="linenos">292</span></a>                <span class="n">oneof_instance</span> <span class="o">=</span> <span class="n">get_oneof_instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">model_kwargs</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">model_arg</span><span class="o">=</span><span class="n">arg</span><span class="p">)</span>
</span><span id="OpenApiModel-293"><a href="#OpenApiModel-293"><span class="linenos">293</span></a>                <span class="k">return</span> <span class="n">oneof_instance</span>
</span><span id="OpenApiModel-294"><a href="#OpenApiModel-294"><span class="linenos">294</span></a>
</span><span id="OpenApiModel-295"><a href="#OpenApiModel-295"><span class="linenos">295</span></a>        <span class="n">visited_composed_classes</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_visited_composed_classes&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="OpenApiModel-296"><a href="#OpenApiModel-296"><span class="linenos">296</span></a>        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">visited_composed_classes</span><span class="p">:</span>
</span><span id="OpenApiModel-297"><a href="#OpenApiModel-297"><span class="linenos">297</span></a>            <span class="c1"># Use case 1: this openapi schema (cls) does not have a discriminator</span>
</span><span id="OpenApiModel-298"><a href="#OpenApiModel-298"><span class="linenos">298</span></a>            <span class="c1"># Use case 2: we have already visited this class before and are sure that we</span>
</span><span id="OpenApiModel-299"><a href="#OpenApiModel-299"><span class="linenos">299</span></a>            <span class="c1"># want to instantiate it this time. We have visited this class deserializing</span>
</span><span id="OpenApiModel-300"><a href="#OpenApiModel-300"><span class="linenos">300</span></a>            <span class="c1"># a payload with a discriminator. During that process we traveled through</span>
</span><span id="OpenApiModel-301"><a href="#OpenApiModel-301"><span class="linenos">301</span></a>            <span class="c1"># this class but did not make an instance of it. Now we are making an</span>
</span><span id="OpenApiModel-302"><a href="#OpenApiModel-302"><span class="linenos">302</span></a>            <span class="c1"># instance of a composed class which contains cls in it, so this time make an instance of cls.</span>
</span><span id="OpenApiModel-303"><a href="#OpenApiModel-303"><span class="linenos">303</span></a>            <span class="c1">#</span>
</span><span id="OpenApiModel-304"><a href="#OpenApiModel-304"><span class="linenos">304</span></a>            <span class="c1"># Here&#39;s an example of use case 2: If Animal has a discriminator</span>
</span><span id="OpenApiModel-305"><a href="#OpenApiModel-305"><span class="linenos">305</span></a>            <span class="c1"># petType and we pass in &quot;Dog&quot;, and the class Dog</span>
</span><span id="OpenApiModel-306"><a href="#OpenApiModel-306"><span class="linenos">306</span></a>            <span class="c1"># allOf includes Animal, we move through Animal</span>
</span><span id="OpenApiModel-307"><a href="#OpenApiModel-307"><span class="linenos">307</span></a>            <span class="c1"># once using the discriminator, and pick Dog.</span>
</span><span id="OpenApiModel-308"><a href="#OpenApiModel-308"><span class="linenos">308</span></a>            <span class="c1"># Then in the composed schema dog Dog, we will make an instance of the</span>
</span><span id="OpenApiModel-309"><a href="#OpenApiModel-309"><span class="linenos">309</span></a>            <span class="c1"># Animal class (because Dal has allOf: Animal) but this time we won&#39;t travel</span>
</span><span id="OpenApiModel-310"><a href="#OpenApiModel-310"><span class="linenos">310</span></a>            <span class="c1"># through Animal&#39;s discriminator because we passed in</span>
</span><span id="OpenApiModel-311"><a href="#OpenApiModel-311"><span class="linenos">311</span></a>            <span class="c1"># _visited_composed_classes = (Animal,)</span>
</span><span id="OpenApiModel-312"><a href="#OpenApiModel-312"><span class="linenos">312</span></a>
</span><span id="OpenApiModel-313"><a href="#OpenApiModel-313"><span class="linenos">313</span></a>            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_from_openapi_data</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="OpenApiModel-314"><a href="#OpenApiModel-314"><span class="linenos">314</span></a>
</span><span id="OpenApiModel-315"><a href="#OpenApiModel-315"><span class="linenos">315</span></a>        <span class="c1"># Get the name and value of the discriminator property.</span>
</span><span id="OpenApiModel-316"><a href="#OpenApiModel-316"><span class="linenos">316</span></a>        <span class="c1"># The discriminator name is obtained from the discriminator meta-data</span>
</span><span id="OpenApiModel-317"><a href="#OpenApiModel-317"><span class="linenos">317</span></a>        <span class="c1"># and the discriminator value is obtained from the input data.</span>
</span><span id="OpenApiModel-318"><a href="#OpenApiModel-318"><span class="linenos">318</span></a>        <span class="n">discr_propertyname_py</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="OpenApiModel-319"><a href="#OpenApiModel-319"><span class="linenos">319</span></a>        <span class="n">discr_propertyname_js</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">attribute_map</span><span class="p">[</span><span class="n">discr_propertyname_py</span><span class="p">]</span>
</span><span id="OpenApiModel-320"><a href="#OpenApiModel-320"><span class="linenos">320</span></a>        <span class="k">if</span> <span class="n">discr_propertyname_js</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="OpenApiModel-321"><a href="#OpenApiModel-321"><span class="linenos">321</span></a>            <span class="n">discr_value</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">discr_propertyname_js</span><span class="p">]</span>
</span><span id="OpenApiModel-322"><a href="#OpenApiModel-322"><span class="linenos">322</span></a>        <span class="k">elif</span> <span class="n">discr_propertyname_py</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="OpenApiModel-323"><a href="#OpenApiModel-323"><span class="linenos">323</span></a>            <span class="n">discr_value</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">discr_propertyname_py</span><span class="p">]</span>
</span><span id="OpenApiModel-324"><a href="#OpenApiModel-324"><span class="linenos">324</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="OpenApiModel-325"><a href="#OpenApiModel-325"><span class="linenos">325</span></a>            <span class="c1"># The input data does not contain the discriminator property.</span>
</span><span id="OpenApiModel-326"><a href="#OpenApiModel-326"><span class="linenos">326</span></a>            <span class="n">path_to_item</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_path_to_item&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="OpenApiModel-327"><a href="#OpenApiModel-327"><span class="linenos">327</span></a>            <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="OpenApiModel-328"><a href="#OpenApiModel-328"><span class="linenos">328</span></a>                <span class="s2">&quot;Cannot deserialize input data due to missing discriminator. &quot;</span>
</span><span id="OpenApiModel-329"><a href="#OpenApiModel-329"><span class="linenos">329</span></a>                <span class="s2">&quot;The discriminator property &#39;</span><span class="si">%s</span><span class="s2">&#39; is missing at path: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">discr_propertyname_js</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">)</span>
</span><span id="OpenApiModel-330"><a href="#OpenApiModel-330"><span class="linenos">330</span></a>            <span class="p">)</span>
</span><span id="OpenApiModel-331"><a href="#OpenApiModel-331"><span class="linenos">331</span></a>
</span><span id="OpenApiModel-332"><a href="#OpenApiModel-332"><span class="linenos">332</span></a>        <span class="c1"># Implementation note: the last argument to get_discriminator_class</span>
</span><span id="OpenApiModel-333"><a href="#OpenApiModel-333"><span class="linenos">333</span></a>        <span class="c1"># is a list of visited classes. get_discriminator_class may recursively</span>
</span><span id="OpenApiModel-334"><a href="#OpenApiModel-334"><span class="linenos">334</span></a>        <span class="c1"># call itself and update the list of visited classes, and the initial</span>
</span><span id="OpenApiModel-335"><a href="#OpenApiModel-335"><span class="linenos">335</span></a>        <span class="c1"># value must be an empty list. Hence not using &#39;visited_composed_classes&#39;</span>
</span><span id="OpenApiModel-336"><a href="#OpenApiModel-336"><span class="linenos">336</span></a>        <span class="n">new_cls</span> <span class="o">=</span> <span class="n">get_discriminator_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">discr_propertyname_py</span><span class="p">,</span> <span class="n">discr_value</span><span class="p">,</span> <span class="p">[])</span>
</span><span id="OpenApiModel-337"><a href="#OpenApiModel-337"><span class="linenos">337</span></a>        <span class="k">if</span> <span class="n">new_cls</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenApiModel-338"><a href="#OpenApiModel-338"><span class="linenos">338</span></a>            <span class="n">path_to_item</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;_path_to_item&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="OpenApiModel-339"><a href="#OpenApiModel-339"><span class="linenos">339</span></a>            <span class="n">disc_prop_value</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">discr_propertyname_js</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">discr_propertyname_py</span><span class="p">))</span>
</span><span id="OpenApiModel-340"><a href="#OpenApiModel-340"><span class="linenos">340</span></a>            <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="OpenApiModel-341"><a href="#OpenApiModel-341"><span class="linenos">341</span></a>                <span class="s2">&quot;Cannot deserialize input data due to invalid discriminator &quot;</span>
</span><span id="OpenApiModel-342"><a href="#OpenApiModel-342"><span class="linenos">342</span></a>                <span class="s2">&quot;value. The OpenAPI document has no mapping for discriminator &quot;</span>
</span><span id="OpenApiModel-343"><a href="#OpenApiModel-343"><span class="linenos">343</span></a>                <span class="s2">&quot;property &#39;</span><span class="si">%s</span><span class="s2">&#39;=&#39;</span><span class="si">%s</span><span class="s2">&#39; at path: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">discr_propertyname_js</span><span class="p">,</span> <span class="n">disc_prop_value</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">)</span>
</span><span id="OpenApiModel-344"><a href="#OpenApiModel-344"><span class="linenos">344</span></a>            <span class="p">)</span>
</span><span id="OpenApiModel-345"><a href="#OpenApiModel-345"><span class="linenos">345</span></a>
</span><span id="OpenApiModel-346"><a href="#OpenApiModel-346"><span class="linenos">346</span></a>        <span class="k">if</span> <span class="n">new_cls</span> <span class="ow">in</span> <span class="n">visited_composed_classes</span><span class="p">:</span>
</span><span id="OpenApiModel-347"><a href="#OpenApiModel-347"><span class="linenos">347</span></a>            <span class="c1"># if we are making an instance of a composed schema Descendent</span>
</span><span id="OpenApiModel-348"><a href="#OpenApiModel-348"><span class="linenos">348</span></a>            <span class="c1"># which allOf includes Ancestor, then Ancestor contains</span>
</span><span id="OpenApiModel-349"><a href="#OpenApiModel-349"><span class="linenos">349</span></a>            <span class="c1"># a discriminator that includes Descendent.</span>
</span><span id="OpenApiModel-350"><a href="#OpenApiModel-350"><span class="linenos">350</span></a>            <span class="c1"># So if we make an instance of Descendent, we have to make an</span>
</span><span id="OpenApiModel-351"><a href="#OpenApiModel-351"><span class="linenos">351</span></a>            <span class="c1"># instance of Ancestor to hold the allOf properties.</span>
</span><span id="OpenApiModel-352"><a href="#OpenApiModel-352"><span class="linenos">352</span></a>            <span class="c1"># This code detects that use case and makes the instance of Ancestor</span>
</span><span id="OpenApiModel-353"><a href="#OpenApiModel-353"><span class="linenos">353</span></a>            <span class="c1"># For example:</span>
</span><span id="OpenApiModel-354"><a href="#OpenApiModel-354"><span class="linenos">354</span></a>            <span class="c1"># When making an instance of Dog, _visited_composed_classes = (Dog,)</span>
</span><span id="OpenApiModel-355"><a href="#OpenApiModel-355"><span class="linenos">355</span></a>            <span class="c1"># then we make an instance of Animal to include in dog._composed_instances</span>
</span><span id="OpenApiModel-356"><a href="#OpenApiModel-356"><span class="linenos">356</span></a>            <span class="c1"># so when we are here, cls is Animal</span>
</span><span id="OpenApiModel-357"><a href="#OpenApiModel-357"><span class="linenos">357</span></a>            <span class="c1"># cls.discriminator != None</span>
</span><span id="OpenApiModel-358"><a href="#OpenApiModel-358"><span class="linenos">358</span></a>            <span class="c1"># cls not in _visited_composed_classes</span>
</span><span id="OpenApiModel-359"><a href="#OpenApiModel-359"><span class="linenos">359</span></a>            <span class="c1"># new_cls = Dog</span>
</span><span id="OpenApiModel-360"><a href="#OpenApiModel-360"><span class="linenos">360</span></a>            <span class="c1"># but we know we know that we already have Dog</span>
</span><span id="OpenApiModel-361"><a href="#OpenApiModel-361"><span class="linenos">361</span></a>            <span class="c1"># because it is in visited_composed_classes</span>
</span><span id="OpenApiModel-362"><a href="#OpenApiModel-362"><span class="linenos">362</span></a>            <span class="c1"># so make Animal here</span>
</span><span id="OpenApiModel-363"><a href="#OpenApiModel-363"><span class="linenos">363</span></a>            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_from_openapi_data</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="OpenApiModel-364"><a href="#OpenApiModel-364"><span class="linenos">364</span></a>
</span><span id="OpenApiModel-365"><a href="#OpenApiModel-365"><span class="linenos">365</span></a>        <span class="c1"># Build a list containing all oneOf and anyOf descendants.</span>
</span><span id="OpenApiModel-366"><a href="#OpenApiModel-366"><span class="linenos">366</span></a>        <span class="n">oneof_anyof_classes</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="OpenApiModel-367"><a href="#OpenApiModel-367"><span class="linenos">367</span></a>        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenApiModel-368"><a href="#OpenApiModel-368"><span class="linenos">368</span></a>            <span class="n">oneof_anyof_classes</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oneOf&quot;</span><span class="p">,</span> <span class="p">())</span> <span class="o">+</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;anyOf&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="OpenApiModel-369"><a href="#OpenApiModel-369"><span class="linenos">369</span></a>        <span class="n">oneof_anyof_child</span> <span class="o">=</span> <span class="n">new_cls</span> <span class="ow">in</span> <span class="n">oneof_anyof_classes</span>
</span><span id="OpenApiModel-370"><a href="#OpenApiModel-370"><span class="linenos">370</span></a>        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;_visited_composed_classes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">visited_composed_classes</span> <span class="o">+</span> <span class="p">(</span><span class="bp">cls</span><span class="p">,)</span>
</span><span id="OpenApiModel-371"><a href="#OpenApiModel-371"><span class="linenos">371</span></a>
</span><span id="OpenApiModel-372"><a href="#OpenApiModel-372"><span class="linenos">372</span></a>        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;allOf&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">oneof_anyof_child</span><span class="p">:</span>
</span><span id="OpenApiModel-373"><a href="#OpenApiModel-373"><span class="linenos">373</span></a>            <span class="c1"># Validate that we can make self because when we make the</span>
</span><span id="OpenApiModel-374"><a href="#OpenApiModel-374"><span class="linenos">374</span></a>            <span class="c1"># new_cls it will not include the allOf validations in self</span>
</span><span id="OpenApiModel-375"><a href="#OpenApiModel-375"><span class="linenos">375</span></a>            <span class="n">self_inst</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_from_openapi_data</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="OpenApiModel-376"><a href="#OpenApiModel-376"><span class="linenos">376</span></a>
</span><span id="OpenApiModel-377"><a href="#OpenApiModel-377"><span class="linenos">377</span></a>        <span class="n">new_inst</span> <span class="o">=</span> <span class="n">new_cls</span><span class="o">.</span><span class="n">_new_from_openapi_data</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="OpenApiModel-378"><a href="#OpenApiModel-378"><span class="linenos">378</span></a>        <span class="k">return</span> <span class="n">new_inst</span>
</span></pre></div>


            <div class="docstring"><p>The base class for all OpenAPIModels</p>
</div>


                            <div id="OpenApiModel.set_attribute" class="classattr">
                                        <input id="OpenApiModel.set_attribute-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_attribute</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">name</span>, </span><span class="param"><span class="n">value</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="OpenApiModel.set_attribute-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#OpenApiModel.set_attribute"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="OpenApiModel.set_attribute-124"><a href="#OpenApiModel.set_attribute-124"><span class="linenos">124</span></a>    <span class="k">def</span> <span class="nf">set_attribute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="OpenApiModel.set_attribute-125"><a href="#OpenApiModel.set_attribute-125"><span class="linenos">125</span></a>        <span class="c1"># this is only used to set properties on self</span>
</span><span id="OpenApiModel.set_attribute-126"><a href="#OpenApiModel.set_attribute-126"><span class="linenos">126</span></a>
</span><span id="OpenApiModel.set_attribute-127"><a href="#OpenApiModel.set_attribute-127"><span class="linenos">127</span></a>        <span class="n">path_to_item</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="OpenApiModel.set_attribute-128"><a href="#OpenApiModel.set_attribute-128"><span class="linenos">128</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_path_to_item</span><span class="p">:</span>
</span><span id="OpenApiModel.set_attribute-129"><a href="#OpenApiModel.set_attribute-129"><span class="linenos">129</span></a>            <span class="n">path_to_item</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_path_to_item</span><span class="p">)</span>
</span><span id="OpenApiModel.set_attribute-130"><a href="#OpenApiModel.set_attribute-130"><span class="linenos">130</span></a>        <span class="n">path_to_item</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="OpenApiModel.set_attribute-131"><a href="#OpenApiModel.set_attribute-131"><span class="linenos">131</span></a>
</span><span id="OpenApiModel.set_attribute-132"><a href="#OpenApiModel.set_attribute-132"><span class="linenos">132</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">openapi_types</span><span class="p">:</span>
</span><span id="OpenApiModel.set_attribute-133"><a href="#OpenApiModel.set_attribute-133"><span class="linenos">133</span></a>            <span class="n">required_types_mixed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">openapi_types</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="OpenApiModel.set_attribute-134"><a href="#OpenApiModel.set_attribute-134"><span class="linenos">134</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenApiModel.set_attribute-135"><a href="#OpenApiModel.set_attribute-135"><span class="linenos">135</span></a>            <span class="k">raise</span> <span class="n">ApiAttributeError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> has no attribute &#39;</span><span class="si">{1}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span> <span class="n">path_to_item</span><span class="p">)</span>
</span><span id="OpenApiModel.set_attribute-136"><a href="#OpenApiModel.set_attribute-136"><span class="linenos">136</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="OpenApiModel.set_attribute-137"><a href="#OpenApiModel.set_attribute-137"><span class="linenos">137</span></a>            <span class="n">required_types_mixed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties_type</span>
</span><span id="OpenApiModel.set_attribute-138"><a href="#OpenApiModel.set_attribute-138"><span class="linenos">138</span></a>
</span><span id="OpenApiModel.set_attribute-139"><a href="#OpenApiModel.set_attribute-139"><span class="linenos">139</span></a>        <span class="k">if</span> <span class="n">get_simple_class</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="OpenApiModel.set_attribute-140"><a href="#OpenApiModel.set_attribute-140"><span class="linenos">140</span></a>            <span class="n">error_msg</span> <span class="o">=</span> <span class="n">type_error_message</span><span class="p">(</span><span class="n">var_name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">var_value</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">valid_classes</span><span class="o">=</span><span class="p">(</span><span class="nb">str</span><span class="p">,),</span> <span class="n">key_type</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="OpenApiModel.set_attribute-141"><a href="#OpenApiModel.set_attribute-141"><span class="linenos">141</span></a>            <span class="k">raise</span> <span class="n">ApiTypeError</span><span class="p">(</span><span class="n">error_msg</span><span class="p">,</span> <span class="n">path_to_item</span><span class="o">=</span><span class="n">path_to_item</span><span class="p">,</span> <span class="n">valid_classes</span><span class="o">=</span><span class="p">(</span><span class="nb">str</span><span class="p">,),</span> <span class="n">key_type</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="OpenApiModel.set_attribute-142"><a href="#OpenApiModel.set_attribute-142"><span class="linenos">142</span></a>
</span><span id="OpenApiModel.set_attribute-143"><a href="#OpenApiModel.set_attribute-143"><span class="linenos">143</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_type</span><span class="p">:</span>
</span><span id="OpenApiModel.set_attribute-144"><a href="#OpenApiModel.set_attribute-144"><span class="linenos">144</span></a>            <span class="n">value</span> <span class="o">=</span> <span class="n">validate_and_convert_types</span><span class="p">(</span>
</span><span id="OpenApiModel.set_attribute-145"><a href="#OpenApiModel.set_attribute-145"><span class="linenos">145</span></a>                <span class="n">value</span><span class="p">,</span>
</span><span id="OpenApiModel.set_attribute-146"><a href="#OpenApiModel.set_attribute-146"><span class="linenos">146</span></a>                <span class="n">required_types_mixed</span><span class="p">,</span>
</span><span id="OpenApiModel.set_attribute-147"><a href="#OpenApiModel.set_attribute-147"><span class="linenos">147</span></a>                <span class="n">path_to_item</span><span class="p">,</span>
</span><span id="OpenApiModel.set_attribute-148"><a href="#OpenApiModel.set_attribute-148"><span class="linenos">148</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_spec_property_naming</span><span class="p">,</span>
</span><span id="OpenApiModel.set_attribute-149"><a href="#OpenApiModel.set_attribute-149"><span class="linenos">149</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_check_type</span><span class="p">,</span>
</span><span id="OpenApiModel.set_attribute-150"><a href="#OpenApiModel.set_attribute-150"><span class="linenos">150</span></a>                <span class="n">configuration</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span><span class="p">,</span>
</span><span id="OpenApiModel.set_attribute-151"><a href="#OpenApiModel.set_attribute-151"><span class="linenos">151</span></a>            <span class="p">)</span>
</span><span id="OpenApiModel.set_attribute-152"><a href="#OpenApiModel.set_attribute-152"><span class="linenos">152</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">name</span><span class="p">,)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">allowed_values</span><span class="p">:</span>
</span><span id="OpenApiModel.set_attribute-153"><a href="#OpenApiModel.set_attribute-153"><span class="linenos">153</span></a>            <span class="n">check_allowed_values</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">allowed_values</span><span class="p">,</span> <span class="p">(</span><span class="n">name</span><span class="p">,),</span> <span class="n">value</span><span class="p">)</span>
</span><span id="OpenApiModel.set_attribute-154"><a href="#OpenApiModel.set_attribute-154"><span class="linenos">154</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">name</span><span class="p">,)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">validations</span><span class="p">:</span>
</span><span id="OpenApiModel.set_attribute-155"><a href="#OpenApiModel.set_attribute-155"><span class="linenos">155</span></a>            <span class="n">check_validations</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">validations</span><span class="p">,</span> <span class="p">(</span><span class="n">name</span><span class="p">,),</span> <span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span><span class="p">)</span>
</span><span id="OpenApiModel.set_attribute-156"><a href="#OpenApiModel.set_attribute-156"><span class="linenos">156</span></a>        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;_data_store&quot;</span><span class="p">][</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="ModelSimple">
                            <input id="ModelSimple-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ModelSimple</span><wbr>(<span class="base"><a href="#OpenApiModel">OpenApiModel</a></span>):

                <label class="view-source-button" for="ModelSimple-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelSimple"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelSimple-381"><a href="#ModelSimple-381"><span class="linenos">381</span></a><span class="k">class</span> <span class="nc">ModelSimple</span><span class="p">(</span><span class="n">OpenApiModel</span><span class="p">):</span>
</span><span id="ModelSimple-382"><a href="#ModelSimple-382"><span class="linenos">382</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;the parent class of models whose type != object in their</span>
</span><span id="ModelSimple-383"><a href="#ModelSimple-383"><span class="linenos">383</span></a><span class="sd">    swagger/openapi&quot;&quot;&quot;</span>
</span><span id="ModelSimple-384"><a href="#ModelSimple-384"><span class="linenos">384</span></a>
</span><span id="ModelSimple-385"><a href="#ModelSimple-385"><span class="linenos">385</span></a>    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="ModelSimple-386"><a href="#ModelSimple-386"><span class="linenos">386</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;set the value of an attribute using square-bracket notation: `instance[attr] = val`&quot;&quot;&quot;</span>
</span><span id="ModelSimple-387"><a href="#ModelSimple-387"><span class="linenos">387</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="ModelSimple-388"><a href="#ModelSimple-388"><span class="linenos">388</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="ModelSimple-389"><a href="#ModelSimple-389"><span class="linenos">389</span></a>            <span class="k">return</span>
</span><span id="ModelSimple-390"><a href="#ModelSimple-390"><span class="linenos">390</span></a>
</span><span id="ModelSimple-391"><a href="#ModelSimple-391"><span class="linenos">391</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="ModelSimple-392"><a href="#ModelSimple-392"><span class="linenos">392</span></a>
</span><span id="ModelSimple-393"><a href="#ModelSimple-393"><span class="linenos">393</span></a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="ModelSimple-394"><a href="#ModelSimple-394"><span class="linenos">394</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;returns the value of an attribute or some default value if the attribute was not set&quot;&quot;&quot;</span>
</span><span id="ModelSimple-395"><a href="#ModelSimple-395"><span class="linenos">395</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="ModelSimple-396"><a href="#ModelSimple-396"><span class="linenos">396</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="ModelSimple-397"><a href="#ModelSimple-397"><span class="linenos">397</span></a>
</span><span id="ModelSimple-398"><a href="#ModelSimple-398"><span class="linenos">398</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;_data_store&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
</span><span id="ModelSimple-399"><a href="#ModelSimple-399"><span class="linenos">399</span></a>
</span><span id="ModelSimple-400"><a href="#ModelSimple-400"><span class="linenos">400</span></a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="ModelSimple-401"><a href="#ModelSimple-401"><span class="linenos">401</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;get the value of an attribute using square-bracket notation: `instance[attr]`&quot;&quot;&quot;</span>
</span><span id="ModelSimple-402"><a href="#ModelSimple-402"><span class="linenos">402</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="ModelSimple-403"><a href="#ModelSimple-403"><span class="linenos">403</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="ModelSimple-404"><a href="#ModelSimple-404"><span class="linenos">404</span></a>
</span><span id="ModelSimple-405"><a href="#ModelSimple-405"><span class="linenos">405</span></a>        <span class="k">raise</span> <span class="n">ApiAttributeError</span><span class="p">(</span>
</span><span id="ModelSimple-406"><a href="#ModelSimple-406"><span class="linenos">406</span></a>            <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> has no attribute &#39;</span><span class="si">{1}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_path_to_item</span><span class="p">,</span> <span class="n">name</span><span class="p">]</span> <span class="k">if</span> <span class="n">e</span><span class="p">]</span>
</span><span id="ModelSimple-407"><a href="#ModelSimple-407"><span class="linenos">407</span></a>        <span class="p">)</span>
</span><span id="ModelSimple-408"><a href="#ModelSimple-408"><span class="linenos">408</span></a>
</span><span id="ModelSimple-409"><a href="#ModelSimple-409"><span class="linenos">409</span></a>    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="ModelSimple-410"><a href="#ModelSimple-410"><span class="linenos">410</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;used by `in` operator to check if an attrbute value was set in an instance: `&#39;attr&#39; in instance`&quot;&quot;&quot;</span>
</span><span id="ModelSimple-411"><a href="#ModelSimple-411"><span class="linenos">411</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="ModelSimple-412"><a href="#ModelSimple-412"><span class="linenos">412</span></a>            <span class="k">return</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span>
</span><span id="ModelSimple-413"><a href="#ModelSimple-413"><span class="linenos">413</span></a>
</span><span id="ModelSimple-414"><a href="#ModelSimple-414"><span class="linenos">414</span></a>        <span class="k">return</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;_data_store&quot;</span><span class="p">]</span>
</span><span id="ModelSimple-415"><a href="#ModelSimple-415"><span class="linenos">415</span></a>
</span><span id="ModelSimple-416"><a href="#ModelSimple-416"><span class="linenos">416</span></a>    <span class="k">def</span> <span class="nf">to_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelSimple-417"><a href="#ModelSimple-417"><span class="linenos">417</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the string representation of the model&quot;&quot;&quot;</span>
</span><span id="ModelSimple-418"><a href="#ModelSimple-418"><span class="linenos">418</span></a>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</span><span id="ModelSimple-419"><a href="#ModelSimple-419"><span class="linenos">419</span></a>
</span><span id="ModelSimple-420"><a href="#ModelSimple-420"><span class="linenos">420</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="ModelSimple-421"><a href="#ModelSimple-421"><span class="linenos">421</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns true if both objects are equal&quot;&quot;&quot;</span>
</span><span id="ModelSimple-422"><a href="#ModelSimple-422"><span class="linenos">422</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
</span><span id="ModelSimple-423"><a href="#ModelSimple-423"><span class="linenos">423</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="ModelSimple-424"><a href="#ModelSimple-424"><span class="linenos">424</span></a>
</span><span id="ModelSimple-425"><a href="#ModelSimple-425"><span class="linenos">425</span></a>        <span class="n">this_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_store</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
</span><span id="ModelSimple-426"><a href="#ModelSimple-426"><span class="linenos">426</span></a>        <span class="n">that_val</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">_data_store</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]</span>
</span><span id="ModelSimple-427"><a href="#ModelSimple-427"><span class="linenos">427</span></a>        <span class="n">types</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="ModelSimple-428"><a href="#ModelSimple-428"><span class="linenos">428</span></a>        <span class="n">types</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">this_val</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
</span><span id="ModelSimple-429"><a href="#ModelSimple-429"><span class="linenos">429</span></a>        <span class="n">types</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">that_val</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
</span><span id="ModelSimple-430"><a href="#ModelSimple-430"><span class="linenos">430</span></a>        <span class="n">vals_equal</span> <span class="o">=</span> <span class="n">this_val</span> <span class="o">==</span> <span class="n">that_val</span>
</span><span id="ModelSimple-431"><a href="#ModelSimple-431"><span class="linenos">431</span></a>        <span class="k">return</span> <span class="n">vals_equal</span>
</span></pre></div>


            <div class="docstring"><p>the parent class of models whose type != object in their
swagger/openapi</p>
</div>


                            <div id="ModelSimple.get" class="classattr">
                                        <input id="ModelSimple.get-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">name</span>, </span><span class="param"><span class="n">default</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ModelSimple.get-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelSimple.get"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelSimple.get-393"><a href="#ModelSimple.get-393"><span class="linenos">393</span></a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="ModelSimple.get-394"><a href="#ModelSimple.get-394"><span class="linenos">394</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;returns the value of an attribute or some default value if the attribute was not set&quot;&quot;&quot;</span>
</span><span id="ModelSimple.get-395"><a href="#ModelSimple.get-395"><span class="linenos">395</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="ModelSimple.get-396"><a href="#ModelSimple.get-396"><span class="linenos">396</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="ModelSimple.get-397"><a href="#ModelSimple.get-397"><span class="linenos">397</span></a>
</span><span id="ModelSimple.get-398"><a href="#ModelSimple.get-398"><span class="linenos">398</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;_data_store&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>returns the value of an attribute or some default value if the attribute was not set</p>
</div>


                            </div>
                            <div id="ModelSimple.to_str" class="classattr">
                                        <input id="ModelSimple.to_str-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_str</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ModelSimple.to_str-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelSimple.to_str"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelSimple.to_str-416"><a href="#ModelSimple.to_str-416"><span class="linenos">416</span></a>    <span class="k">def</span> <span class="nf">to_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelSimple.to_str-417"><a href="#ModelSimple.to_str-417"><span class="linenos">417</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the string representation of the model&quot;&quot;&quot;</span>
</span><span id="ModelSimple.to_str-418"><a href="#ModelSimple.to_str-418"><span class="linenos">418</span></a>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Returns the string representation of the model</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#OpenApiModel">OpenApiModel</a></dt>
                                <dd id="ModelSimple.set_attribute" class="function"><a href="#OpenApiModel.set_attribute">set_attribute</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ModelNormal">
                            <input id="ModelNormal-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ModelNormal</span><wbr>(<span class="base"><a href="#OpenApiModel">OpenApiModel</a></span>):

                <label class="view-source-button" for="ModelNormal-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelNormal"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelNormal-434"><a href="#ModelNormal-434"><span class="linenos">434</span></a><span class="k">class</span> <span class="nc">ModelNormal</span><span class="p">(</span><span class="n">OpenApiModel</span><span class="p">):</span>
</span><span id="ModelNormal-435"><a href="#ModelNormal-435"><span class="linenos">435</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;the parent class of models whose type == object in their</span>
</span><span id="ModelNormal-436"><a href="#ModelNormal-436"><span class="linenos">436</span></a><span class="sd">    swagger/openapi&quot;&quot;&quot;</span>
</span><span id="ModelNormal-437"><a href="#ModelNormal-437"><span class="linenos">437</span></a>
</span><span id="ModelNormal-438"><a href="#ModelNormal-438"><span class="linenos">438</span></a>    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="ModelNormal-439"><a href="#ModelNormal-439"><span class="linenos">439</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;set the value of an attribute using square-bracket notation: `instance[attr] = val`&quot;&quot;&quot;</span>
</span><span id="ModelNormal-440"><a href="#ModelNormal-440"><span class="linenos">440</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="ModelNormal-441"><a href="#ModelNormal-441"><span class="linenos">441</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="ModelNormal-442"><a href="#ModelNormal-442"><span class="linenos">442</span></a>            <span class="k">return</span>
</span><span id="ModelNormal-443"><a href="#ModelNormal-443"><span class="linenos">443</span></a>
</span><span id="ModelNormal-444"><a href="#ModelNormal-444"><span class="linenos">444</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="ModelNormal-445"><a href="#ModelNormal-445"><span class="linenos">445</span></a>
</span><span id="ModelNormal-446"><a href="#ModelNormal-446"><span class="linenos">446</span></a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="ModelNormal-447"><a href="#ModelNormal-447"><span class="linenos">447</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;returns the value of an attribute or some default value if the attribute was not set&quot;&quot;&quot;</span>
</span><span id="ModelNormal-448"><a href="#ModelNormal-448"><span class="linenos">448</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="ModelNormal-449"><a href="#ModelNormal-449"><span class="linenos">449</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="ModelNormal-450"><a href="#ModelNormal-450"><span class="linenos">450</span></a>
</span><span id="ModelNormal-451"><a href="#ModelNormal-451"><span class="linenos">451</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;_data_store&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
</span><span id="ModelNormal-452"><a href="#ModelNormal-452"><span class="linenos">452</span></a>
</span><span id="ModelNormal-453"><a href="#ModelNormal-453"><span class="linenos">453</span></a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="ModelNormal-454"><a href="#ModelNormal-454"><span class="linenos">454</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;get the value of an attribute using square-bracket notation: `instance[attr]`&quot;&quot;&quot;</span>
</span><span id="ModelNormal-455"><a href="#ModelNormal-455"><span class="linenos">455</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
</span><span id="ModelNormal-456"><a href="#ModelNormal-456"><span class="linenos">456</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="ModelNormal-457"><a href="#ModelNormal-457"><span class="linenos">457</span></a>
</span><span id="ModelNormal-458"><a href="#ModelNormal-458"><span class="linenos">458</span></a>        <span class="k">raise</span> <span class="n">ApiAttributeError</span><span class="p">(</span>
</span><span id="ModelNormal-459"><a href="#ModelNormal-459"><span class="linenos">459</span></a>            <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> has no attribute &#39;</span><span class="si">{1}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_path_to_item</span><span class="p">,</span> <span class="n">name</span><span class="p">]</span> <span class="k">if</span> <span class="n">e</span><span class="p">]</span>
</span><span id="ModelNormal-460"><a href="#ModelNormal-460"><span class="linenos">460</span></a>        <span class="p">)</span>
</span><span id="ModelNormal-461"><a href="#ModelNormal-461"><span class="linenos">461</span></a>
</span><span id="ModelNormal-462"><a href="#ModelNormal-462"><span class="linenos">462</span></a>    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="ModelNormal-463"><a href="#ModelNormal-463"><span class="linenos">463</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;used by `in` operator to check if an attrbute value was set in an instance: `&#39;attr&#39; in instance`&quot;&quot;&quot;</span>
</span><span id="ModelNormal-464"><a href="#ModelNormal-464"><span class="linenos">464</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="ModelNormal-465"><a href="#ModelNormal-465"><span class="linenos">465</span></a>            <span class="k">return</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span>
</span><span id="ModelNormal-466"><a href="#ModelNormal-466"><span class="linenos">466</span></a>
</span><span id="ModelNormal-467"><a href="#ModelNormal-467"><span class="linenos">467</span></a>        <span class="k">return</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;_data_store&quot;</span><span class="p">]</span>
</span><span id="ModelNormal-468"><a href="#ModelNormal-468"><span class="linenos">468</span></a>
</span><span id="ModelNormal-469"><a href="#ModelNormal-469"><span class="linenos">469</span></a>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelNormal-470"><a href="#ModelNormal-470"><span class="linenos">470</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the model properties as a dict&quot;&quot;&quot;</span>
</span><span id="ModelNormal-471"><a href="#ModelNormal-471"><span class="linenos">471</span></a>        <span class="k">return</span> <span class="n">model_to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="ModelNormal-472"><a href="#ModelNormal-472"><span class="linenos">472</span></a>
</span><span id="ModelNormal-473"><a href="#ModelNormal-473"><span class="linenos">473</span></a>    <span class="k">def</span> <span class="nf">to_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelNormal-474"><a href="#ModelNormal-474"><span class="linenos">474</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the string representation of the model&quot;&quot;&quot;</span>
</span><span id="ModelNormal-475"><a href="#ModelNormal-475"><span class="linenos">475</span></a>        <span class="k">return</span> <span class="n">pprint</span><span class="o">.</span><span class="n">pformat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
</span><span id="ModelNormal-476"><a href="#ModelNormal-476"><span class="linenos">476</span></a>
</span><span id="ModelNormal-477"><a href="#ModelNormal-477"><span class="linenos">477</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="ModelNormal-478"><a href="#ModelNormal-478"><span class="linenos">478</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns true if both objects are equal&quot;&quot;&quot;</span>
</span><span id="ModelNormal-479"><a href="#ModelNormal-479"><span class="linenos">479</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
</span><span id="ModelNormal-480"><a href="#ModelNormal-480"><span class="linenos">480</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="ModelNormal-481"><a href="#ModelNormal-481"><span class="linenos">481</span></a>
</span><span id="ModelNormal-482"><a href="#ModelNormal-482"><span class="linenos">482</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_store</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">_data_store</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
</span><span id="ModelNormal-483"><a href="#ModelNormal-483"><span class="linenos">483</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="ModelNormal-484"><a href="#ModelNormal-484"><span class="linenos">484</span></a>        <span class="k">for</span> <span class="n">_var_name</span><span class="p">,</span> <span class="n">this_val</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_store</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="ModelNormal-485"><a href="#ModelNormal-485"><span class="linenos">485</span></a>            <span class="n">that_val</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">_data_store</span><span class="p">[</span><span class="n">_var_name</span><span class="p">]</span>
</span><span id="ModelNormal-486"><a href="#ModelNormal-486"><span class="linenos">486</span></a>            <span class="n">types</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="ModelNormal-487"><a href="#ModelNormal-487"><span class="linenos">487</span></a>            <span class="n">types</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">this_val</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
</span><span id="ModelNormal-488"><a href="#ModelNormal-488"><span class="linenos">488</span></a>            <span class="n">types</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">that_val</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
</span><span id="ModelNormal-489"><a href="#ModelNormal-489"><span class="linenos">489</span></a>            <span class="n">vals_equal</span> <span class="o">=</span> <span class="n">this_val</span> <span class="o">==</span> <span class="n">that_val</span>
</span><span id="ModelNormal-490"><a href="#ModelNormal-490"><span class="linenos">490</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">vals_equal</span><span class="p">:</span>
</span><span id="ModelNormal-491"><a href="#ModelNormal-491"><span class="linenos">491</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="ModelNormal-492"><a href="#ModelNormal-492"><span class="linenos">492</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>the parent class of models whose type == object in their
swagger/openapi</p>
</div>


                            <div id="ModelNormal.get" class="classattr">
                                        <input id="ModelNormal.get-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">name</span>, </span><span class="param"><span class="n">default</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ModelNormal.get-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelNormal.get"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelNormal.get-446"><a href="#ModelNormal.get-446"><span class="linenos">446</span></a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="ModelNormal.get-447"><a href="#ModelNormal.get-447"><span class="linenos">447</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;returns the value of an attribute or some default value if the attribute was not set&quot;&quot;&quot;</span>
</span><span id="ModelNormal.get-448"><a href="#ModelNormal.get-448"><span class="linenos">448</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="ModelNormal.get-449"><a href="#ModelNormal.get-449"><span class="linenos">449</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="ModelNormal.get-450"><a href="#ModelNormal.get-450"><span class="linenos">450</span></a>
</span><span id="ModelNormal.get-451"><a href="#ModelNormal.get-451"><span class="linenos">451</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;_data_store&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>returns the value of an attribute or some default value if the attribute was not set</p>
</div>


                            </div>
                            <div id="ModelNormal.to_dict" class="classattr">
                                        <input id="ModelNormal.to_dict-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_dict</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ModelNormal.to_dict-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelNormal.to_dict"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelNormal.to_dict-469"><a href="#ModelNormal.to_dict-469"><span class="linenos">469</span></a>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelNormal.to_dict-470"><a href="#ModelNormal.to_dict-470"><span class="linenos">470</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the model properties as a dict&quot;&quot;&quot;</span>
</span><span id="ModelNormal.to_dict-471"><a href="#ModelNormal.to_dict-471"><span class="linenos">471</span></a>        <span class="k">return</span> <span class="n">model_to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Returns the model properties as a dict</p>
</div>


                            </div>
                            <div id="ModelNormal.to_str" class="classattr">
                                        <input id="ModelNormal.to_str-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_str</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ModelNormal.to_str-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelNormal.to_str"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelNormal.to_str-473"><a href="#ModelNormal.to_str-473"><span class="linenos">473</span></a>    <span class="k">def</span> <span class="nf">to_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelNormal.to_str-474"><a href="#ModelNormal.to_str-474"><span class="linenos">474</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the string representation of the model&quot;&quot;&quot;</span>
</span><span id="ModelNormal.to_str-475"><a href="#ModelNormal.to_str-475"><span class="linenos">475</span></a>        <span class="k">return</span> <span class="n">pprint</span><span class="o">.</span><span class="n">pformat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
</span></pre></div>


            <div class="docstring"><p>Returns the string representation of the model</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#OpenApiModel">OpenApiModel</a></dt>
                                <dd id="ModelNormal.set_attribute" class="function"><a href="#OpenApiModel.set_attribute">set_attribute</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ModelComposed">
                            <input id="ModelComposed-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ModelComposed</span><wbr>(<span class="base"><a href="#OpenApiModel">OpenApiModel</a></span>):

                <label class="view-source-button" for="ModelComposed-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelComposed"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelComposed-495"><a href="#ModelComposed-495"><span class="linenos">495</span></a><span class="k">class</span> <span class="nc">ModelComposed</span><span class="p">(</span><span class="n">OpenApiModel</span><span class="p">):</span>
</span><span id="ModelComposed-496"><a href="#ModelComposed-496"><span class="linenos">496</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;the parent class of models whose type == object in their</span>
</span><span id="ModelComposed-497"><a href="#ModelComposed-497"><span class="linenos">497</span></a><span class="sd">    swagger/openapi and have oneOf/allOf/anyOf</span>
</span><span id="ModelComposed-498"><a href="#ModelComposed-498"><span class="linenos">498</span></a>
</span><span id="ModelComposed-499"><a href="#ModelComposed-499"><span class="linenos">499</span></a><span class="sd">    When one sets a property we use var_name_to_model_instances to store the value in</span>
</span><span id="ModelComposed-500"><a href="#ModelComposed-500"><span class="linenos">500</span></a><span class="sd">    the correct class instances + run any type checking + validation code.</span>
</span><span id="ModelComposed-501"><a href="#ModelComposed-501"><span class="linenos">501</span></a><span class="sd">    When one gets a property we use var_name_to_model_instances to get the value</span>
</span><span id="ModelComposed-502"><a href="#ModelComposed-502"><span class="linenos">502</span></a><span class="sd">    from the correct class instances.</span>
</span><span id="ModelComposed-503"><a href="#ModelComposed-503"><span class="linenos">503</span></a><span class="sd">    This allows multiple composed schemas to contain the same property with additive</span>
</span><span id="ModelComposed-504"><a href="#ModelComposed-504"><span class="linenos">504</span></a><span class="sd">    constraints on the value.</span>
</span><span id="ModelComposed-505"><a href="#ModelComposed-505"><span class="linenos">505</span></a>
</span><span id="ModelComposed-506"><a href="#ModelComposed-506"><span class="linenos">506</span></a><span class="sd">    _composed_schemas (dict) stores the anyOf/allOf/oneOf classes</span>
</span><span id="ModelComposed-507"><a href="#ModelComposed-507"><span class="linenos">507</span></a><span class="sd">    key (str): allOf/oneOf/anyOf</span>
</span><span id="ModelComposed-508"><a href="#ModelComposed-508"><span class="linenos">508</span></a><span class="sd">    value (list): the classes in the XOf definition.</span>
</span><span id="ModelComposed-509"><a href="#ModelComposed-509"><span class="linenos">509</span></a><span class="sd">        Note: none_type can be included when the openapi document version &gt;= 3.1.0</span>
</span><span id="ModelComposed-510"><a href="#ModelComposed-510"><span class="linenos">510</span></a><span class="sd">    _composed_instances (list): stores a list of instances of the composed schemas</span>
</span><span id="ModelComposed-511"><a href="#ModelComposed-511"><span class="linenos">511</span></a><span class="sd">    defined in _composed_schemas. When properties are accessed in the self instance,</span>
</span><span id="ModelComposed-512"><a href="#ModelComposed-512"><span class="linenos">512</span></a><span class="sd">    they are returned from the self._data_store or the data stores in the instances</span>
</span><span id="ModelComposed-513"><a href="#ModelComposed-513"><span class="linenos">513</span></a><span class="sd">    in self._composed_schemas</span>
</span><span id="ModelComposed-514"><a href="#ModelComposed-514"><span class="linenos">514</span></a><span class="sd">    _var_name_to_model_instances (dict): maps between a variable name on self and</span>
</span><span id="ModelComposed-515"><a href="#ModelComposed-515"><span class="linenos">515</span></a><span class="sd">    the composed instances (self included) which contain that data</span>
</span><span id="ModelComposed-516"><a href="#ModelComposed-516"><span class="linenos">516</span></a><span class="sd">    key (str): property name</span>
</span><span id="ModelComposed-517"><a href="#ModelComposed-517"><span class="linenos">517</span></a><span class="sd">    value (list): list of class instances, self or instances in _composed_instances</span>
</span><span id="ModelComposed-518"><a href="#ModelComposed-518"><span class="linenos">518</span></a><span class="sd">    which contain the value that the key is referring to.</span>
</span><span id="ModelComposed-519"><a href="#ModelComposed-519"><span class="linenos">519</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ModelComposed-520"><a href="#ModelComposed-520"><span class="linenos">520</span></a>
</span><span id="ModelComposed-521"><a href="#ModelComposed-521"><span class="linenos">521</span></a>    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="ModelComposed-522"><a href="#ModelComposed-522"><span class="linenos">522</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;set the value of an attribute using square-bracket notation: `instance[attr] = val`&quot;&quot;&quot;</span>
</span><span id="ModelComposed-523"><a href="#ModelComposed-523"><span class="linenos">523</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="ModelComposed-524"><a href="#ModelComposed-524"><span class="linenos">524</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="ModelComposed-525"><a href="#ModelComposed-525"><span class="linenos">525</span></a>            <span class="k">return</span>
</span><span id="ModelComposed-526"><a href="#ModelComposed-526"><span class="linenos">526</span></a>
</span><span id="ModelComposed-527"><a href="#ModelComposed-527"><span class="linenos">527</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ModelComposed-528"><a href="#ModelComposed-528"><span class="linenos">528</span></a><span class="sd">        Use cases:</span>
</span><span id="ModelComposed-529"><a href="#ModelComposed-529"><span class="linenos">529</span></a><span class="sd">        1. additional_properties_type is None (additionalProperties == False in spec)</span>
</span><span id="ModelComposed-530"><a href="#ModelComposed-530"><span class="linenos">530</span></a><span class="sd">            Check for property presence in self.openapi_types</span>
</span><span id="ModelComposed-531"><a href="#ModelComposed-531"><span class="linenos">531</span></a><span class="sd">            if not present then throw an error</span>
</span><span id="ModelComposed-532"><a href="#ModelComposed-532"><span class="linenos">532</span></a><span class="sd">            if present set in self, set attribute</span>
</span><span id="ModelComposed-533"><a href="#ModelComposed-533"><span class="linenos">533</span></a><span class="sd">            always set on composed schemas</span>
</span><span id="ModelComposed-534"><a href="#ModelComposed-534"><span class="linenos">534</span></a><span class="sd">        2.  additional_properties_type exists</span>
</span><span id="ModelComposed-535"><a href="#ModelComposed-535"><span class="linenos">535</span></a><span class="sd">            set attribute on self</span>
</span><span id="ModelComposed-536"><a href="#ModelComposed-536"><span class="linenos">536</span></a><span class="sd">            always set on composed schemas</span>
</span><span id="ModelComposed-537"><a href="#ModelComposed-537"><span class="linenos">537</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ModelComposed-538"><a href="#ModelComposed-538"><span class="linenos">538</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ModelComposed-539"><a href="#ModelComposed-539"><span class="linenos">539</span></a><span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ModelComposed-540"><a href="#ModelComposed-540"><span class="linenos">540</span></a><span class="sd">            For an attribute to exist on a composed schema it must:</span>
</span><span id="ModelComposed-541"><a href="#ModelComposed-541"><span class="linenos">541</span></a><span class="sd">            - fulfill schema_requirements in the self composed schema not considering oneOf/anyOf/allOf schemas AND</span>
</span><span id="ModelComposed-542"><a href="#ModelComposed-542"><span class="linenos">542</span></a><span class="sd">            - fulfill schema_requirements in each oneOf/anyOf/allOf schemas</span>
</span><span id="ModelComposed-543"><a href="#ModelComposed-543"><span class="linenos">543</span></a>
</span><span id="ModelComposed-544"><a href="#ModelComposed-544"><span class="linenos">544</span></a><span class="sd">            schema_requirements:</span>
</span><span id="ModelComposed-545"><a href="#ModelComposed-545"><span class="linenos">545</span></a><span class="sd">            For an attribute to exist on a schema it must:</span>
</span><span id="ModelComposed-546"><a href="#ModelComposed-546"><span class="linenos">546</span></a><span class="sd">            - be present in properties at the schema OR</span>
</span><span id="ModelComposed-547"><a href="#ModelComposed-547"><span class="linenos">547</span></a><span class="sd">            - have additionalProperties unset (defaults additionalProperties = any type) OR</span>
</span><span id="ModelComposed-548"><a href="#ModelComposed-548"><span class="linenos">548</span></a><span class="sd">            - have additionalProperties set</span>
</span><span id="ModelComposed-549"><a href="#ModelComposed-549"><span class="linenos">549</span></a><span class="sd">            &quot;&quot;&quot;</span>
</span><span id="ModelComposed-550"><a href="#ModelComposed-550"><span class="linenos">550</span></a>            <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">openapi_types</span><span class="p">:</span>
</span><span id="ModelComposed-551"><a href="#ModelComposed-551"><span class="linenos">551</span></a>                <span class="k">raise</span> <span class="n">ApiAttributeError</span><span class="p">(</span>
</span><span id="ModelComposed-552"><a href="#ModelComposed-552"><span class="linenos">552</span></a>                    <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> has no attribute &#39;</span><span class="si">{1}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span>
</span><span id="ModelComposed-553"><a href="#ModelComposed-553"><span class="linenos">553</span></a>                    <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_path_to_item</span><span class="p">,</span> <span class="n">name</span><span class="p">]</span> <span class="k">if</span> <span class="n">e</span><span class="p">],</span>
</span><span id="ModelComposed-554"><a href="#ModelComposed-554"><span class="linenos">554</span></a>                <span class="p">)</span>
</span><span id="ModelComposed-555"><a href="#ModelComposed-555"><span class="linenos">555</span></a>        <span class="c1"># attribute must be set on self and composed instances</span>
</span><span id="ModelComposed-556"><a href="#ModelComposed-556"><span class="linenos">556</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="ModelComposed-557"><a href="#ModelComposed-557"><span class="linenos">557</span></a>        <span class="k">for</span> <span class="n">model_instance</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_composed_instances</span><span class="p">:</span>
</span><span id="ModelComposed-558"><a href="#ModelComposed-558"><span class="linenos">558</span></a>            <span class="nb">setattr</span><span class="p">(</span><span class="n">model_instance</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span><span id="ModelComposed-559"><a href="#ModelComposed-559"><span class="linenos">559</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_var_name_to_model_instances</span><span class="p">:</span>
</span><span id="ModelComposed-560"><a href="#ModelComposed-560"><span class="linenos">560</span></a>            <span class="c1"># we assigned an additional property</span>
</span><span id="ModelComposed-561"><a href="#ModelComposed-561"><span class="linenos">561</span></a>            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;_var_name_to_model_instances&quot;</span><span class="p">][</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_composed_instances</span> <span class="o">+</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="ModelComposed-562"><a href="#ModelComposed-562"><span class="linenos">562</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="ModelComposed-563"><a href="#ModelComposed-563"><span class="linenos">563</span></a>
</span><span id="ModelComposed-564"><a href="#ModelComposed-564"><span class="linenos">564</span></a>    <span class="n">__unset_attribute_value__</span> <span class="o">=</span> <span class="nb">object</span><span class="p">()</span>
</span><span id="ModelComposed-565"><a href="#ModelComposed-565"><span class="linenos">565</span></a>
</span><span id="ModelComposed-566"><a href="#ModelComposed-566"><span class="linenos">566</span></a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="ModelComposed-567"><a href="#ModelComposed-567"><span class="linenos">567</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;returns the value of an attribute or some default value if the attribute was not set&quot;&quot;&quot;</span>
</span><span id="ModelComposed-568"><a href="#ModelComposed-568"><span class="linenos">568</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="ModelComposed-569"><a href="#ModelComposed-569"><span class="linenos">569</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="ModelComposed-570"><a href="#ModelComposed-570"><span class="linenos">570</span></a>
</span><span id="ModelComposed-571"><a href="#ModelComposed-571"><span class="linenos">571</span></a>        <span class="c1"># get the attribute from the correct instance</span>
</span><span id="ModelComposed-572"><a href="#ModelComposed-572"><span class="linenos">572</span></a>        <span class="n">model_instances</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_var_name_to_model_instances</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="ModelComposed-573"><a href="#ModelComposed-573"><span class="linenos">573</span></a>        <span class="n">values</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ModelComposed-574"><a href="#ModelComposed-574"><span class="linenos">574</span></a>        <span class="c1"># A composed model stores self and child (oneof/anyOf/allOf) models under</span>
</span><span id="ModelComposed-575"><a href="#ModelComposed-575"><span class="linenos">575</span></a>        <span class="c1"># self._var_name_to_model_instances.</span>
</span><span id="ModelComposed-576"><a href="#ModelComposed-576"><span class="linenos">576</span></a>        <span class="c1"># Any property must exist in self and all model instances</span>
</span><span id="ModelComposed-577"><a href="#ModelComposed-577"><span class="linenos">577</span></a>        <span class="c1"># The value stored in all model instances must be the same</span>
</span><span id="ModelComposed-578"><a href="#ModelComposed-578"><span class="linenos">578</span></a>        <span class="k">if</span> <span class="n">model_instances</span><span class="p">:</span>
</span><span id="ModelComposed-579"><a href="#ModelComposed-579"><span class="linenos">579</span></a>            <span class="k">for</span> <span class="n">model_instance</span> <span class="ow">in</span> <span class="n">model_instances</span><span class="p">:</span>
</span><span id="ModelComposed-580"><a href="#ModelComposed-580"><span class="linenos">580</span></a>                <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">model_instance</span><span class="o">.</span><span class="n">_data_store</span><span class="p">:</span>
</span><span id="ModelComposed-581"><a href="#ModelComposed-581"><span class="linenos">581</span></a>                    <span class="n">v</span> <span class="o">=</span> <span class="n">model_instance</span><span class="o">.</span><span class="n">_data_store</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="ModelComposed-582"><a href="#ModelComposed-582"><span class="linenos">582</span></a>                    <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
</span><span id="ModelComposed-583"><a href="#ModelComposed-583"><span class="linenos">583</span></a>                        <span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span><span id="ModelComposed-584"><a href="#ModelComposed-584"><span class="linenos">584</span></a>        <span class="n">len_values</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
</span><span id="ModelComposed-585"><a href="#ModelComposed-585"><span class="linenos">585</span></a>        <span class="k">if</span> <span class="n">len_values</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="ModelComposed-586"><a href="#ModelComposed-586"><span class="linenos">586</span></a>            <span class="k">return</span> <span class="n">default</span>
</span><span id="ModelComposed-587"><a href="#ModelComposed-587"><span class="linenos">587</span></a>        <span class="k">elif</span> <span class="n">len_values</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="ModelComposed-588"><a href="#ModelComposed-588"><span class="linenos">588</span></a>            <span class="k">return</span> <span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="ModelComposed-589"><a href="#ModelComposed-589"><span class="linenos">589</span></a>        <span class="k">elif</span> <span class="n">len_values</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="ModelComposed-590"><a href="#ModelComposed-590"><span class="linenos">590</span></a>            <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="ModelComposed-591"><a href="#ModelComposed-591"><span class="linenos">591</span></a>                <span class="s2">&quot;Values stored for property </span><span class="si">{0}</span><span class="s2"> in </span><span class="si">{1}</span><span class="s2"> differ when looking &quot;</span>
</span><span id="ModelComposed-592"><a href="#ModelComposed-592"><span class="linenos">592</span></a>                <span class="s2">&quot;at self and self&#39;s composed instances. All values must be &quot;</span>
</span><span id="ModelComposed-593"><a href="#ModelComposed-593"><span class="linenos">593</span></a>                <span class="s2">&quot;the same&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">),</span>
</span><span id="ModelComposed-594"><a href="#ModelComposed-594"><span class="linenos">594</span></a>                <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_path_to_item</span><span class="p">,</span> <span class="n">name</span><span class="p">]</span> <span class="k">if</span> <span class="n">e</span><span class="p">],</span>
</span><span id="ModelComposed-595"><a href="#ModelComposed-595"><span class="linenos">595</span></a>            <span class="p">)</span>
</span><span id="ModelComposed-596"><a href="#ModelComposed-596"><span class="linenos">596</span></a>
</span><span id="ModelComposed-597"><a href="#ModelComposed-597"><span class="linenos">597</span></a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="ModelComposed-598"><a href="#ModelComposed-598"><span class="linenos">598</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;get the value of an attribute using square-bracket notation: `instance[attr]`&quot;&quot;&quot;</span>
</span><span id="ModelComposed-599"><a href="#ModelComposed-599"><span class="linenos">599</span></a>        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__unset_attribute_value__</span><span class="p">)</span>
</span><span id="ModelComposed-600"><a href="#ModelComposed-600"><span class="linenos">600</span></a>        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">__unset_attribute_value__</span><span class="p">:</span>
</span><span id="ModelComposed-601"><a href="#ModelComposed-601"><span class="linenos">601</span></a>            <span class="k">raise</span> <span class="n">ApiAttributeError</span><span class="p">(</span>
</span><span id="ModelComposed-602"><a href="#ModelComposed-602"><span class="linenos">602</span></a>                <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> has no attribute &#39;</span><span class="si">{1}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span>
</span><span id="ModelComposed-603"><a href="#ModelComposed-603"><span class="linenos">603</span></a>                <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_path_to_item</span><span class="p">,</span> <span class="n">name</span><span class="p">]</span> <span class="k">if</span> <span class="n">e</span><span class="p">],</span>
</span><span id="ModelComposed-604"><a href="#ModelComposed-604"><span class="linenos">604</span></a>            <span class="p">)</span>
</span><span id="ModelComposed-605"><a href="#ModelComposed-605"><span class="linenos">605</span></a>        <span class="k">return</span> <span class="n">value</span>
</span><span id="ModelComposed-606"><a href="#ModelComposed-606"><span class="linenos">606</span></a>
</span><span id="ModelComposed-607"><a href="#ModelComposed-607"><span class="linenos">607</span></a>    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="ModelComposed-608"><a href="#ModelComposed-608"><span class="linenos">608</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;used by `in` operator to check if an attrbute value was set in an instance: `&#39;attr&#39; in instance`&quot;&quot;&quot;</span>
</span><span id="ModelComposed-609"><a href="#ModelComposed-609"><span class="linenos">609</span></a>
</span><span id="ModelComposed-610"><a href="#ModelComposed-610"><span class="linenos">610</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="ModelComposed-611"><a href="#ModelComposed-611"><span class="linenos">611</span></a>            <span class="k">return</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span>
</span><span id="ModelComposed-612"><a href="#ModelComposed-612"><span class="linenos">612</span></a>
</span><span id="ModelComposed-613"><a href="#ModelComposed-613"><span class="linenos">613</span></a>        <span class="n">model_instances</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_var_name_to_model_instances</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_additional_properties_model_instances</span><span class="p">)</span>
</span><span id="ModelComposed-614"><a href="#ModelComposed-614"><span class="linenos">614</span></a>
</span><span id="ModelComposed-615"><a href="#ModelComposed-615"><span class="linenos">615</span></a>        <span class="k">if</span> <span class="n">model_instances</span><span class="p">:</span>
</span><span id="ModelComposed-616"><a href="#ModelComposed-616"><span class="linenos">616</span></a>            <span class="k">for</span> <span class="n">model_instance</span> <span class="ow">in</span> <span class="n">model_instances</span><span class="p">:</span>
</span><span id="ModelComposed-617"><a href="#ModelComposed-617"><span class="linenos">617</span></a>                <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">model_instance</span><span class="o">.</span><span class="n">_data_store</span><span class="p">:</span>
</span><span id="ModelComposed-618"><a href="#ModelComposed-618"><span class="linenos">618</span></a>                    <span class="k">return</span> <span class="kc">True</span>
</span><span id="ModelComposed-619"><a href="#ModelComposed-619"><span class="linenos">619</span></a>
</span><span id="ModelComposed-620"><a href="#ModelComposed-620"><span class="linenos">620</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="ModelComposed-621"><a href="#ModelComposed-621"><span class="linenos">621</span></a>
</span><span id="ModelComposed-622"><a href="#ModelComposed-622"><span class="linenos">622</span></a>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelComposed-623"><a href="#ModelComposed-623"><span class="linenos">623</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the model properties as a dict&quot;&quot;&quot;</span>
</span><span id="ModelComposed-624"><a href="#ModelComposed-624"><span class="linenos">624</span></a>        <span class="k">return</span> <span class="n">model_to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="ModelComposed-625"><a href="#ModelComposed-625"><span class="linenos">625</span></a>
</span><span id="ModelComposed-626"><a href="#ModelComposed-626"><span class="linenos">626</span></a>    <span class="k">def</span> <span class="nf">to_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelComposed-627"><a href="#ModelComposed-627"><span class="linenos">627</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the string representation of the model&quot;&quot;&quot;</span>
</span><span id="ModelComposed-628"><a href="#ModelComposed-628"><span class="linenos">628</span></a>        <span class="k">return</span> <span class="n">pprint</span><span class="o">.</span><span class="n">pformat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
</span><span id="ModelComposed-629"><a href="#ModelComposed-629"><span class="linenos">629</span></a>
</span><span id="ModelComposed-630"><a href="#ModelComposed-630"><span class="linenos">630</span></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
</span><span id="ModelComposed-631"><a href="#ModelComposed-631"><span class="linenos">631</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns true if both objects are equal&quot;&quot;&quot;</span>
</span><span id="ModelComposed-632"><a href="#ModelComposed-632"><span class="linenos">632</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
</span><span id="ModelComposed-633"><a href="#ModelComposed-633"><span class="linenos">633</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="ModelComposed-634"><a href="#ModelComposed-634"><span class="linenos">634</span></a>
</span><span id="ModelComposed-635"><a href="#ModelComposed-635"><span class="linenos">635</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_data_store</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">_data_store</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
</span><span id="ModelComposed-636"><a href="#ModelComposed-636"><span class="linenos">636</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="ModelComposed-637"><a href="#ModelComposed-637"><span class="linenos">637</span></a>        <span class="k">for</span> <span class="n">_var_name</span><span class="p">,</span> <span class="n">this_val</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_store</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="ModelComposed-638"><a href="#ModelComposed-638"><span class="linenos">638</span></a>            <span class="n">that_val</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">_data_store</span><span class="p">[</span><span class="n">_var_name</span><span class="p">]</span>
</span><span id="ModelComposed-639"><a href="#ModelComposed-639"><span class="linenos">639</span></a>            <span class="n">types</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="ModelComposed-640"><a href="#ModelComposed-640"><span class="linenos">640</span></a>            <span class="n">types</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">this_val</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
</span><span id="ModelComposed-641"><a href="#ModelComposed-641"><span class="linenos">641</span></a>            <span class="n">types</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">that_val</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
</span><span id="ModelComposed-642"><a href="#ModelComposed-642"><span class="linenos">642</span></a>            <span class="n">vals_equal</span> <span class="o">=</span> <span class="n">this_val</span> <span class="o">==</span> <span class="n">that_val</span>
</span><span id="ModelComposed-643"><a href="#ModelComposed-643"><span class="linenos">643</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">vals_equal</span><span class="p">:</span>
</span><span id="ModelComposed-644"><a href="#ModelComposed-644"><span class="linenos">644</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="ModelComposed-645"><a href="#ModelComposed-645"><span class="linenos">645</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>the parent class of models whose type == object in their
swagger/openapi and have oneOf/allOf/anyOf</p>

<p>When one sets a property we use var_name_to_model_instances to store the value in
the correct class instances + run any type checking + validation code.
When one gets a property we use var_name_to_model_instances to get the value
from the correct class instances.
This allows multiple composed schemas to contain the same property with additive
constraints on the value.</p>

<p>_composed_schemas (dict) stores the anyOf/allOf/oneOf classes
key (str): allOf/oneOf/anyOf
value (list): the classes in the XOf definition.
    Note: none_type can be included when the openapi document version &gt;= 3.1.0
_composed_instances (list): stores a list of instances of the composed schemas
defined in _composed_schemas. When properties are accessed in the self instance,
they are returned from the self._data_store or the data stores in the instances
in self._composed_schemas
_var_name_to_model_instances (dict): maps between a variable name on self and
the composed instances (self included) which contain that data
key (str): property name
value (list): list of class instances, self or instances in _composed_instances
which contain the value that the key is referring to.</p>
</div>


                            <div id="ModelComposed.get" class="classattr">
                                        <input id="ModelComposed.get-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">name</span>, </span><span class="param"><span class="n">default</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ModelComposed.get-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelComposed.get"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelComposed.get-566"><a href="#ModelComposed.get-566"><span class="linenos">566</span></a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="ModelComposed.get-567"><a href="#ModelComposed.get-567"><span class="linenos">567</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;returns the value of an attribute or some default value if the attribute was not set&quot;&quot;&quot;</span>
</span><span id="ModelComposed.get-568"><a href="#ModelComposed.get-568"><span class="linenos">568</span></a>        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">required_properties</span><span class="p">:</span>
</span><span id="ModelComposed.get-569"><a href="#ModelComposed.get-569"><span class="linenos">569</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="ModelComposed.get-570"><a href="#ModelComposed.get-570"><span class="linenos">570</span></a>
</span><span id="ModelComposed.get-571"><a href="#ModelComposed.get-571"><span class="linenos">571</span></a>        <span class="c1"># get the attribute from the correct instance</span>
</span><span id="ModelComposed.get-572"><a href="#ModelComposed.get-572"><span class="linenos">572</span></a>        <span class="n">model_instances</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_var_name_to_model_instances</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="ModelComposed.get-573"><a href="#ModelComposed.get-573"><span class="linenos">573</span></a>        <span class="n">values</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="ModelComposed.get-574"><a href="#ModelComposed.get-574"><span class="linenos">574</span></a>        <span class="c1"># A composed model stores self and child (oneof/anyOf/allOf) models under</span>
</span><span id="ModelComposed.get-575"><a href="#ModelComposed.get-575"><span class="linenos">575</span></a>        <span class="c1"># self._var_name_to_model_instances.</span>
</span><span id="ModelComposed.get-576"><a href="#ModelComposed.get-576"><span class="linenos">576</span></a>        <span class="c1"># Any property must exist in self and all model instances</span>
</span><span id="ModelComposed.get-577"><a href="#ModelComposed.get-577"><span class="linenos">577</span></a>        <span class="c1"># The value stored in all model instances must be the same</span>
</span><span id="ModelComposed.get-578"><a href="#ModelComposed.get-578"><span class="linenos">578</span></a>        <span class="k">if</span> <span class="n">model_instances</span><span class="p">:</span>
</span><span id="ModelComposed.get-579"><a href="#ModelComposed.get-579"><span class="linenos">579</span></a>            <span class="k">for</span> <span class="n">model_instance</span> <span class="ow">in</span> <span class="n">model_instances</span><span class="p">:</span>
</span><span id="ModelComposed.get-580"><a href="#ModelComposed.get-580"><span class="linenos">580</span></a>                <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">model_instance</span><span class="o">.</span><span class="n">_data_store</span><span class="p">:</span>
</span><span id="ModelComposed.get-581"><a href="#ModelComposed.get-581"><span class="linenos">581</span></a>                    <span class="n">v</span> <span class="o">=</span> <span class="n">model_instance</span><span class="o">.</span><span class="n">_data_store</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
</span><span id="ModelComposed.get-582"><a href="#ModelComposed.get-582"><span class="linenos">582</span></a>                    <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
</span><span id="ModelComposed.get-583"><a href="#ModelComposed.get-583"><span class="linenos">583</span></a>                        <span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span><span id="ModelComposed.get-584"><a href="#ModelComposed.get-584"><span class="linenos">584</span></a>        <span class="n">len_values</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
</span><span id="ModelComposed.get-585"><a href="#ModelComposed.get-585"><span class="linenos">585</span></a>        <span class="k">if</span> <span class="n">len_values</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="ModelComposed.get-586"><a href="#ModelComposed.get-586"><span class="linenos">586</span></a>            <span class="k">return</span> <span class="n">default</span>
</span><span id="ModelComposed.get-587"><a href="#ModelComposed.get-587"><span class="linenos">587</span></a>        <span class="k">elif</span> <span class="n">len_values</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="ModelComposed.get-588"><a href="#ModelComposed.get-588"><span class="linenos">588</span></a>            <span class="k">return</span> <span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="ModelComposed.get-589"><a href="#ModelComposed.get-589"><span class="linenos">589</span></a>        <span class="k">elif</span> <span class="n">len_values</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="ModelComposed.get-590"><a href="#ModelComposed.get-590"><span class="linenos">590</span></a>            <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="ModelComposed.get-591"><a href="#ModelComposed.get-591"><span class="linenos">591</span></a>                <span class="s2">&quot;Values stored for property </span><span class="si">{0}</span><span class="s2"> in </span><span class="si">{1}</span><span class="s2"> differ when looking &quot;</span>
</span><span id="ModelComposed.get-592"><a href="#ModelComposed.get-592"><span class="linenos">592</span></a>                <span class="s2">&quot;at self and self&#39;s composed instances. All values must be &quot;</span>
</span><span id="ModelComposed.get-593"><a href="#ModelComposed.get-593"><span class="linenos">593</span></a>                <span class="s2">&quot;the same&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">),</span>
</span><span id="ModelComposed.get-594"><a href="#ModelComposed.get-594"><span class="linenos">594</span></a>                <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_path_to_item</span><span class="p">,</span> <span class="n">name</span><span class="p">]</span> <span class="k">if</span> <span class="n">e</span><span class="p">],</span>
</span><span id="ModelComposed.get-595"><a href="#ModelComposed.get-595"><span class="linenos">595</span></a>            <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>returns the value of an attribute or some default value if the attribute was not set</p>
</div>


                            </div>
                            <div id="ModelComposed.to_dict" class="classattr">
                                        <input id="ModelComposed.to_dict-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_dict</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ModelComposed.to_dict-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelComposed.to_dict"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelComposed.to_dict-622"><a href="#ModelComposed.to_dict-622"><span class="linenos">622</span></a>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelComposed.to_dict-623"><a href="#ModelComposed.to_dict-623"><span class="linenos">623</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the model properties as a dict&quot;&quot;&quot;</span>
</span><span id="ModelComposed.to_dict-624"><a href="#ModelComposed.to_dict-624"><span class="linenos">624</span></a>        <span class="k">return</span> <span class="n">model_to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Returns the model properties as a dict</p>
</div>


                            </div>
                            <div id="ModelComposed.to_str" class="classattr">
                                        <input id="ModelComposed.to_str-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_str</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ModelComposed.to_str-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ModelComposed.to_str"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ModelComposed.to_str-626"><a href="#ModelComposed.to_str-626"><span class="linenos">626</span></a>    <span class="k">def</span> <span class="nf">to_str</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ModelComposed.to_str-627"><a href="#ModelComposed.to_str-627"><span class="linenos">627</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the string representation of the model&quot;&quot;&quot;</span>
</span><span id="ModelComposed.to_str-628"><a href="#ModelComposed.to_str-628"><span class="linenos">628</span></a>        <span class="k">return</span> <span class="n">pprint</span><span class="o">.</span><span class="n">pformat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
</span></pre></div>


            <div class="docstring"><p>Returns the string representation of the model</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#OpenApiModel">OpenApiModel</a></dt>
                                <dd id="ModelComposed.set_attribute" class="function"><a href="#OpenApiModel.set_attribute">set_attribute</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="COERCION_INDEX_BY_TYPE">
                    <div class="attr variable">
            <span class="name">COERCION_INDEX_BY_TYPE</span>        =
<input id="COERCION_INDEX_BY_TYPE-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="COERCION_INDEX_BY_TYPE-view-value"></label><span class="default_value">{&lt;class &#39;<a href="#ModelComposed">ModelComposed</a>&#39;&gt;: 0, &lt;class &#39;<a href="#ModelNormal">ModelNormal</a>&#39;&gt;: 1, &lt;class &#39;<a href="#ModelSimple">ModelSimple</a>&#39;&gt;: 2, &lt;class &#39;NoneType&#39;&gt;: 3, &lt;class &#39;list&#39;&gt;: 4, &lt;class &#39;dict&#39;&gt;: 5, &lt;class &#39;float&#39;&gt;: 6, &lt;class &#39;int&#39;&gt;: 7, &lt;class &#39;bool&#39;&gt;: 8, &lt;class &#39;datetime.datetime&#39;&gt;: 9, &lt;class &#39;datetime.date&#39;&gt;: 10, &lt;class &#39;str&#39;&gt;: 11, &lt;class &#39;io.IOBase&#39;&gt;: 12}</span>

        
    </div>
    <a class="headerlink" href="#COERCION_INDEX_BY_TYPE"></a>
    
    

                </section>
                <section id="UPCONVERSION_TYPE_PAIRS">
                    <div class="attr variable">
            <span class="name">UPCONVERSION_TYPE_PAIRS</span>        =
<input id="UPCONVERSION_TYPE_PAIRS-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="UPCONVERSION_TYPE_PAIRS-view-value"></label><span class="default_value">((&lt;class &#39;str&#39;&gt;, &lt;class &#39;datetime.datetime&#39;&gt;), (&lt;class &#39;str&#39;&gt;, &lt;class &#39;datetime.date&#39;&gt;), (&lt;class &#39;int&#39;&gt;, &lt;class &#39;float&#39;&gt;), (&lt;class &#39;list&#39;&gt;, &lt;class &#39;<a href="#ModelComposed">ModelComposed</a>&#39;&gt;), (&lt;class &#39;dict&#39;&gt;, &lt;class &#39;<a href="#ModelComposed">ModelComposed</a>&#39;&gt;), (&lt;class &#39;str&#39;&gt;, &lt;class &#39;<a href="#ModelComposed">ModelComposed</a>&#39;&gt;), (&lt;class &#39;int&#39;&gt;, &lt;class &#39;<a href="#ModelComposed">ModelComposed</a>&#39;&gt;), (&lt;class &#39;float&#39;&gt;, &lt;class &#39;<a href="#ModelComposed">ModelComposed</a>&#39;&gt;), (&lt;class &#39;list&#39;&gt;, &lt;class &#39;<a href="#ModelComposed">ModelComposed</a>&#39;&gt;), (&lt;class &#39;list&#39;&gt;, &lt;class &#39;<a href="#ModelNormal">ModelNormal</a>&#39;&gt;), (&lt;class &#39;dict&#39;&gt;, &lt;class &#39;<a href="#ModelNormal">ModelNormal</a>&#39;&gt;), (&lt;class &#39;str&#39;&gt;, &lt;class &#39;<a href="#ModelSimple">ModelSimple</a>&#39;&gt;), (&lt;class &#39;int&#39;&gt;, &lt;class &#39;<a href="#ModelSimple">ModelSimple</a>&#39;&gt;), (&lt;class &#39;float&#39;&gt;, &lt;class &#39;<a href="#ModelSimple">ModelSimple</a>&#39;&gt;), (&lt;class &#39;list&#39;&gt;, &lt;class &#39;<a href="#ModelSimple">ModelSimple</a>&#39;&gt;))</span>

        
    </div>
    <a class="headerlink" href="#UPCONVERSION_TYPE_PAIRS"></a>
    
    

                </section>
                <section id="COERCIBLE_TYPE_PAIRS">
                    <div class="attr variable">
            <span class="name">COERCIBLE_TYPE_PAIRS</span>        =
<input id="COERCIBLE_TYPE_PAIRS-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="COERCIBLE_TYPE_PAIRS-view-value"></label><span class="default_value">{False: (), True: ((&lt;class &#39;dict&#39;&gt;, &lt;class &#39;<a href="#ModelComposed">ModelComposed</a>&#39;&gt;), (&lt;class &#39;list&#39;&gt;, &lt;class &#39;<a href="#ModelComposed">ModelComposed</a>&#39;&gt;), (&lt;class &#39;dict&#39;&gt;, &lt;class &#39;<a href="#ModelNormal">ModelNormal</a>&#39;&gt;), (&lt;class &#39;list&#39;&gt;, &lt;class &#39;<a href="#ModelNormal">ModelNormal</a>&#39;&gt;), (&lt;class &#39;str&#39;&gt;, &lt;class &#39;<a href="#ModelSimple">ModelSimple</a>&#39;&gt;), (&lt;class &#39;int&#39;&gt;, &lt;class &#39;<a href="#ModelSimple">ModelSimple</a>&#39;&gt;), (&lt;class &#39;float&#39;&gt;, &lt;class &#39;<a href="#ModelSimple">ModelSimple</a>&#39;&gt;), (&lt;class &#39;list&#39;&gt;, &lt;class &#39;<a href="#ModelSimple">ModelSimple</a>&#39;&gt;), (&lt;class &#39;str&#39;&gt;, &lt;class &#39;datetime.datetime&#39;&gt;), (&lt;class &#39;str&#39;&gt;, &lt;class &#39;datetime.date&#39;&gt;), (&lt;class &#39;str&#39;&gt;, &lt;class &#39;io.IOBase&#39;&gt;))}</span>

        
    </div>
    <a class="headerlink" href="#COERCIBLE_TYPE_PAIRS"></a>
    
    

                </section>
                <section id="get_simple_class">
                            <input id="get_simple_class-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_simple_class</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">input_value</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="get_simple_class-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_simple_class"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_simple_class-722"><a href="#get_simple_class-722"><span class="linenos">722</span></a><span class="k">def</span> <span class="nf">get_simple_class</span><span class="p">(</span><span class="n">input_value</span><span class="p">):</span>
</span><span id="get_simple_class-723"><a href="#get_simple_class-723"><span class="linenos">723</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns an input_value&#39;s simple class that we will use for type checking</span>
</span><span id="get_simple_class-724"><a href="#get_simple_class-724"><span class="linenos">724</span></a><span class="sd">    Python2:</span>
</span><span id="get_simple_class-725"><a href="#get_simple_class-725"><span class="linenos">725</span></a><span class="sd">    float and int will return int, where int is the python3 int backport</span>
</span><span id="get_simple_class-726"><a href="#get_simple_class-726"><span class="linenos">726</span></a><span class="sd">    str and unicode will return str, where str is the python3 str backport</span>
</span><span id="get_simple_class-727"><a href="#get_simple_class-727"><span class="linenos">727</span></a><span class="sd">    Note: float and int ARE both instances of int backport</span>
</span><span id="get_simple_class-728"><a href="#get_simple_class-728"><span class="linenos">728</span></a><span class="sd">    Note: str_py2 and unicode_py2 are NOT both instances of str backport</span>
</span><span id="get_simple_class-729"><a href="#get_simple_class-729"><span class="linenos">729</span></a>
</span><span id="get_simple_class-730"><a href="#get_simple_class-730"><span class="linenos">730</span></a><span class="sd">    Args:</span>
</span><span id="get_simple_class-731"><a href="#get_simple_class-731"><span class="linenos">731</span></a><span class="sd">        input_value (class/class_instance): the item for which we will return</span>
</span><span id="get_simple_class-732"><a href="#get_simple_class-732"><span class="linenos">732</span></a><span class="sd">                                            the simple class</span>
</span><span id="get_simple_class-733"><a href="#get_simple_class-733"><span class="linenos">733</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="get_simple_class-734"><a href="#get_simple_class-734"><span class="linenos">734</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">type</span><span class="p">):</span>
</span><span id="get_simple_class-735"><a href="#get_simple_class-735"><span class="linenos">735</span></a>        <span class="c1"># input_value is a class</span>
</span><span id="get_simple_class-736"><a href="#get_simple_class-736"><span class="linenos">736</span></a>        <span class="k">return</span> <span class="n">input_value</span>
</span><span id="get_simple_class-737"><a href="#get_simple_class-737"><span class="linenos">737</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
</span><span id="get_simple_class-738"><a href="#get_simple_class-738"><span class="linenos">738</span></a>        <span class="k">return</span> <span class="nb">tuple</span>
</span><span id="get_simple_class-739"><a href="#get_simple_class-739"><span class="linenos">739</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="get_simple_class-740"><a href="#get_simple_class-740"><span class="linenos">740</span></a>        <span class="k">return</span> <span class="nb">list</span>
</span><span id="get_simple_class-741"><a href="#get_simple_class-741"><span class="linenos">741</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="get_simple_class-742"><a href="#get_simple_class-742"><span class="linenos">742</span></a>        <span class="k">return</span> <span class="nb">dict</span>
</span><span id="get_simple_class-743"><a href="#get_simple_class-743"><span class="linenos">743</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="n">none_type</span><span class="p">):</span>
</span><span id="get_simple_class-744"><a href="#get_simple_class-744"><span class="linenos">744</span></a>        <span class="k">return</span> <span class="n">none_type</span>
</span><span id="get_simple_class-745"><a href="#get_simple_class-745"><span class="linenos">745</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="n">file_type</span><span class="p">):</span>
</span><span id="get_simple_class-746"><a href="#get_simple_class-746"><span class="linenos">746</span></a>        <span class="k">return</span> <span class="n">file_type</span>
</span><span id="get_simple_class-747"><a href="#get_simple_class-747"><span class="linenos">747</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
</span><span id="get_simple_class-748"><a href="#get_simple_class-748"><span class="linenos">748</span></a>        <span class="c1"># this must be higher than the int check because</span>
</span><span id="get_simple_class-749"><a href="#get_simple_class-749"><span class="linenos">749</span></a>        <span class="c1"># isinstance(True, int) == True</span>
</span><span id="get_simple_class-750"><a href="#get_simple_class-750"><span class="linenos">750</span></a>        <span class="k">return</span> <span class="nb">bool</span>
</span><span id="get_simple_class-751"><a href="#get_simple_class-751"><span class="linenos">751</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
</span><span id="get_simple_class-752"><a href="#get_simple_class-752"><span class="linenos">752</span></a>        <span class="k">return</span> <span class="nb">int</span>
</span><span id="get_simple_class-753"><a href="#get_simple_class-753"><span class="linenos">753</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="n">datetime</span><span class="p">):</span>
</span><span id="get_simple_class-754"><a href="#get_simple_class-754"><span class="linenos">754</span></a>        <span class="c1"># this must be higher than the date check because</span>
</span><span id="get_simple_class-755"><a href="#get_simple_class-755"><span class="linenos">755</span></a>        <span class="c1"># isinstance(datetime_instance, date) == True</span>
</span><span id="get_simple_class-756"><a href="#get_simple_class-756"><span class="linenos">756</span></a>        <span class="k">return</span> <span class="n">datetime</span>
</span><span id="get_simple_class-757"><a href="#get_simple_class-757"><span class="linenos">757</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="n">date</span><span class="p">):</span>
</span><span id="get_simple_class-758"><a href="#get_simple_class-758"><span class="linenos">758</span></a>        <span class="k">return</span> <span class="n">date</span>
</span><span id="get_simple_class-759"><a href="#get_simple_class-759"><span class="linenos">759</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="get_simple_class-760"><a href="#get_simple_class-760"><span class="linenos">760</span></a>        <span class="k">return</span> <span class="nb">str</span>
</span><span id="get_simple_class-761"><a href="#get_simple_class-761"><span class="linenos">761</span></a>    <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">input_value</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Returns an input_value's simple class that we will use for type checking
Python2:
float and int will return int, where int is the python3 int backport
str and unicode will return str, where str is the python3 str backport
Note: float and int ARE both instances of int backport
Note: str_py2 and unicode_py2 are NOT both instances of str backport</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>input_value (class/class_instance):</strong>  the item for which we will return
the simple class</li>
</ul>
</div>


                </section>
                <section id="check_allowed_values">
                            <input id="check_allowed_values-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">check_allowed_values</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">allowed_values</span>, </span><span class="param"><span class="n">input_variable_path</span>, </span><span class="param"><span class="n">input_values</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="check_allowed_values-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#check_allowed_values"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="check_allowed_values-764"><a href="#check_allowed_values-764"><span class="linenos">764</span></a><span class="k">def</span> <span class="nf">check_allowed_values</span><span class="p">(</span><span class="n">allowed_values</span><span class="p">,</span> <span class="n">input_variable_path</span><span class="p">,</span> <span class="n">input_values</span><span class="p">):</span>
</span><span id="check_allowed_values-765"><a href="#check_allowed_values-765"><span class="linenos">765</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Raises an exception if the input_values are not allowed</span>
</span><span id="check_allowed_values-766"><a href="#check_allowed_values-766"><span class="linenos">766</span></a>
</span><span id="check_allowed_values-767"><a href="#check_allowed_values-767"><span class="linenos">767</span></a><span class="sd">    Args:</span>
</span><span id="check_allowed_values-768"><a href="#check_allowed_values-768"><span class="linenos">768</span></a><span class="sd">        allowed_values (dict): the allowed_values dict</span>
</span><span id="check_allowed_values-769"><a href="#check_allowed_values-769"><span class="linenos">769</span></a><span class="sd">        input_variable_path (tuple): the path to the input variable</span>
</span><span id="check_allowed_values-770"><a href="#check_allowed_values-770"><span class="linenos">770</span></a><span class="sd">        input_values (list/str/int/float/date/datetime): the values that we</span>
</span><span id="check_allowed_values-771"><a href="#check_allowed_values-771"><span class="linenos">771</span></a><span class="sd">            are checking to see if they are in allowed_values</span>
</span><span id="check_allowed_values-772"><a href="#check_allowed_values-772"><span class="linenos">772</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="check_allowed_values-773"><a href="#check_allowed_values-773"><span class="linenos">773</span></a>    <span class="n">these_allowed_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">allowed_values</span><span class="p">[</span><span class="n">input_variable_path</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</span><span id="check_allowed_values-774"><a href="#check_allowed_values-774"><span class="linenos">774</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_values</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">these_allowed_values</span><span class="p">)):</span>
</span><span id="check_allowed_values-775"><a href="#check_allowed_values-775"><span class="linenos">775</span></a>        <span class="n">invalid_values</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">set</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">these_allowed_values</span><span class="p">))),)</span>
</span><span id="check_allowed_values-776"><a href="#check_allowed_values-776"><span class="linenos">776</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="check_allowed_values-777"><a href="#check_allowed_values-777"><span class="linenos">777</span></a>            <span class="s2">&quot;Invalid values for `</span><span class="si">%s</span><span class="s2">` [</span><span class="si">%s</span><span class="s2">], must be a subset of [</span><span class="si">%s</span><span class="s2">]&quot;</span>
</span><span id="check_allowed_values-778"><a href="#check_allowed_values-778"><span class="linenos">778</span></a>            <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">invalid_values</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">these_allowed_values</span><span class="p">)))</span>
</span><span id="check_allowed_values-779"><a href="#check_allowed_values-779"><span class="linenos">779</span></a>        <span class="p">)</span>
</span><span id="check_allowed_values-780"><a href="#check_allowed_values-780"><span class="linenos">780</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_values</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">(</span><span class="n">input_values</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">these_allowed_values</span><span class="p">)):</span>
</span><span id="check_allowed_values-781"><a href="#check_allowed_values-781"><span class="linenos">781</span></a>        <span class="n">invalid_values</span> <span class="o">=</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">set</span><span class="p">(</span><span class="n">input_values</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">these_allowed_values</span><span class="p">)))</span>
</span><span id="check_allowed_values-782"><a href="#check_allowed_values-782"><span class="linenos">782</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="check_allowed_values-783"><a href="#check_allowed_values-783"><span class="linenos">783</span></a>            <span class="s2">&quot;Invalid keys in `</span><span class="si">%s</span><span class="s2">` [</span><span class="si">%s</span><span class="s2">], must be a subset of [</span><span class="si">%s</span><span class="s2">]&quot;</span>
</span><span id="check_allowed_values-784"><a href="#check_allowed_values-784"><span class="linenos">784</span></a>            <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">invalid_values</span><span class="p">,</span> <span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">these_allowed_values</span><span class="p">)))</span>
</span><span id="check_allowed_values-785"><a href="#check_allowed_values-785"><span class="linenos">785</span></a>        <span class="p">)</span>
</span><span id="check_allowed_values-786"><a href="#check_allowed_values-786"><span class="linenos">786</span></a>    <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_values</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">dict</span><span class="p">))</span> <span class="ow">and</span> <span class="n">input_values</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">these_allowed_values</span><span class="p">:</span>
</span><span id="check_allowed_values-787"><a href="#check_allowed_values-787"><span class="linenos">787</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="check_allowed_values-788"><a href="#check_allowed_values-788"><span class="linenos">788</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">` (</span><span class="si">%s</span><span class="s2">), must be one of </span><span class="si">%s</span><span class="s2">&quot;</span>
</span><span id="check_allowed_values-789"><a href="#check_allowed_values-789"><span class="linenos">789</span></a>            <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">input_values</span><span class="p">,</span> <span class="n">these_allowed_values</span><span class="p">)</span>
</span><span id="check_allowed_values-790"><a href="#check_allowed_values-790"><span class="linenos">790</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Raises an exception if the input_values are not allowed</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>allowed_values (dict):</strong>  the allowed_values dict</li>
<li><strong>input_variable_path (tuple):</strong>  the path to the input variable</li>
<li><strong>input_values (list/str/int/float/date/datetime):</strong>  the values that we
are checking to see if they are in allowed_values</li>
</ul>
</div>


                </section>
                <section id="is_json_validation_enabled">
                            <input id="is_json_validation_enabled-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_json_validation_enabled</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">schema_keyword</span>, </span><span class="param"><span class="n">configuration</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="is_json_validation_enabled-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#is_json_validation_enabled"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="is_json_validation_enabled-793"><a href="#is_json_validation_enabled-793"><span class="linenos">793</span></a><span class="k">def</span> <span class="nf">is_json_validation_enabled</span><span class="p">(</span><span class="n">schema_keyword</span><span class="p">,</span> <span class="n">configuration</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="is_json_validation_enabled-794"><a href="#is_json_validation_enabled-794"><span class="linenos">794</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns true if JSON schema validation is enabled for the specified</span>
</span><span id="is_json_validation_enabled-795"><a href="#is_json_validation_enabled-795"><span class="linenos">795</span></a><span class="sd">    validation keyword. This can be used to skip JSON schema structural validation</span>
</span><span id="is_json_validation_enabled-796"><a href="#is_json_validation_enabled-796"><span class="linenos">796</span></a><span class="sd">    as requested in the configuration.</span>
</span><span id="is_json_validation_enabled-797"><a href="#is_json_validation_enabled-797"><span class="linenos">797</span></a>
</span><span id="is_json_validation_enabled-798"><a href="#is_json_validation_enabled-798"><span class="linenos">798</span></a><span class="sd">    Args:</span>
</span><span id="is_json_validation_enabled-799"><a href="#is_json_validation_enabled-799"><span class="linenos">799</span></a><span class="sd">        schema_keyword (string): the name of a JSON schema validation keyword.</span>
</span><span id="is_json_validation_enabled-800"><a href="#is_json_validation_enabled-800"><span class="linenos">800</span></a><span class="sd">        configuration (Configuration): the configuration class.</span>
</span><span id="is_json_validation_enabled-801"><a href="#is_json_validation_enabled-801"><span class="linenos">801</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="is_json_validation_enabled-802"><a href="#is_json_validation_enabled-802"><span class="linenos">802</span></a>
</span><span id="is_json_validation_enabled-803"><a href="#is_json_validation_enabled-803"><span class="linenos">803</span></a>    <span class="k">return</span> <span class="p">(</span>
</span><span id="is_json_validation_enabled-804"><a href="#is_json_validation_enabled-804"><span class="linenos">804</span></a>        <span class="n">configuration</span> <span class="ow">is</span> <span class="kc">None</span>
</span><span id="is_json_validation_enabled-805"><a href="#is_json_validation_enabled-805"><span class="linenos">805</span></a>        <span class="ow">or</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">configuration</span><span class="p">,</span> <span class="s2">&quot;_disabled_client_side_validations&quot;</span><span class="p">)</span>
</span><span id="is_json_validation_enabled-806"><a href="#is_json_validation_enabled-806"><span class="linenos">806</span></a>        <span class="ow">or</span> <span class="n">schema_keyword</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">configuration</span><span class="o">.</span><span class="n">_disabled_client_side_validations</span>
</span><span id="is_json_validation_enabled-807"><a href="#is_json_validation_enabled-807"><span class="linenos">807</span></a>    <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Returns true if JSON schema validation is enabled for the specified
validation keyword. This can be used to skip JSON schema structural validation
as requested in the configuration.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>schema_keyword (string):</strong>  the name of a JSON schema validation keyword.</li>
<li><strong>configuration (Configuration):</strong>  the configuration class.</li>
</ul>
</div>


                </section>
                <section id="check_validations">
                            <input id="check_validations-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">check_validations</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">validations</span>, </span><span class="param"><span class="n">input_variable_path</span>, </span><span class="param"><span class="n">input_values</span>, </span><span class="param"><span class="n">configuration</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="check_validations-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#check_validations"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="check_validations-810"><a href="#check_validations-810"><span class="linenos">810</span></a><span class="k">def</span> <span class="nf">check_validations</span><span class="p">(</span><span class="n">validations</span><span class="p">,</span> <span class="n">input_variable_path</span><span class="p">,</span> <span class="n">input_values</span><span class="p">,</span> <span class="n">configuration</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="check_validations-811"><a href="#check_validations-811"><span class="linenos">811</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Raises an exception if the input_values are invalid</span>
</span><span id="check_validations-812"><a href="#check_validations-812"><span class="linenos">812</span></a>
</span><span id="check_validations-813"><a href="#check_validations-813"><span class="linenos">813</span></a><span class="sd">    Args:</span>
</span><span id="check_validations-814"><a href="#check_validations-814"><span class="linenos">814</span></a><span class="sd">        validations (dict): the validation dictionary.</span>
</span><span id="check_validations-815"><a href="#check_validations-815"><span class="linenos">815</span></a><span class="sd">        input_variable_path (tuple): the path to the input variable.</span>
</span><span id="check_validations-816"><a href="#check_validations-816"><span class="linenos">816</span></a><span class="sd">        input_values (list/str/int/float/date/datetime): the values that we</span>
</span><span id="check_validations-817"><a href="#check_validations-817"><span class="linenos">817</span></a><span class="sd">            are checking.</span>
</span><span id="check_validations-818"><a href="#check_validations-818"><span class="linenos">818</span></a><span class="sd">        configuration (Configuration): the configuration class.</span>
</span><span id="check_validations-819"><a href="#check_validations-819"><span class="linenos">819</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="check_validations-820"><a href="#check_validations-820"><span class="linenos">820</span></a>
</span><span id="check_validations-821"><a href="#check_validations-821"><span class="linenos">821</span></a>    <span class="k">if</span> <span class="n">input_values</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="check_validations-822"><a href="#check_validations-822"><span class="linenos">822</span></a>        <span class="k">return</span>
</span><span id="check_validations-823"><a href="#check_validations-823"><span class="linenos">823</span></a>
</span><span id="check_validations-824"><a href="#check_validations-824"><span class="linenos">824</span></a>    <span class="n">current_validations</span> <span class="o">=</span> <span class="n">validations</span><span class="p">[</span><span class="n">input_variable_path</span><span class="p">]</span>
</span><span id="check_validations-825"><a href="#check_validations-825"><span class="linenos">825</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="check_validations-826"><a href="#check_validations-826"><span class="linenos">826</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;multipleOf&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="check_validations-827"><a href="#check_validations-827"><span class="linenos">827</span></a>        <span class="ow">and</span> <span class="s2">&quot;multiple_of&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="check_validations-828"><a href="#check_validations-828"><span class="linenos">828</span></a>        <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_values</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">))</span>
</span><span id="check_validations-829"><a href="#check_validations-829"><span class="linenos">829</span></a>        <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span> <span class="o">/</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;multiple_of&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">is_integer</span><span class="p">()</span>
</span><span id="check_validations-830"><a href="#check_validations-830"><span class="linenos">830</span></a>    <span class="p">):</span>
</span><span id="check_validations-831"><a href="#check_validations-831"><span class="linenos">831</span></a>        <span class="c1"># Note &#39;multipleOf&#39; will be as good as the floating point arithmetic.</span>
</span><span id="check_validations-832"><a href="#check_validations-832"><span class="linenos">832</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="check_validations-833"><a href="#check_validations-833"><span class="linenos">833</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, value must be a multiple of &quot;</span>
</span><span id="check_validations-834"><a href="#check_validations-834"><span class="linenos">834</span></a>            <span class="s2">&quot;`</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;multiple_of&quot;</span><span class="p">])</span>
</span><span id="check_validations-835"><a href="#check_validations-835"><span class="linenos">835</span></a>        <span class="p">)</span>
</span><span id="check_validations-836"><a href="#check_validations-836"><span class="linenos">836</span></a>
</span><span id="check_validations-837"><a href="#check_validations-837"><span class="linenos">837</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="check_validations-838"><a href="#check_validations-838"><span class="linenos">838</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;maxLength&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="check_validations-839"><a href="#check_validations-839"><span class="linenos">839</span></a>        <span class="ow">and</span> <span class="s2">&quot;max_length&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="check_validations-840"><a href="#check_validations-840"><span class="linenos">840</span></a>        <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;max_length&quot;</span><span class="p">]</span>
</span><span id="check_validations-841"><a href="#check_validations-841"><span class="linenos">841</span></a>    <span class="p">):</span>
</span><span id="check_validations-842"><a href="#check_validations-842"><span class="linenos">842</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="check_validations-843"><a href="#check_validations-843"><span class="linenos">843</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, length must be less than or equal to &quot;</span>
</span><span id="check_validations-844"><a href="#check_validations-844"><span class="linenos">844</span></a>            <span class="s2">&quot;`</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;max_length&quot;</span><span class="p">])</span>
</span><span id="check_validations-845"><a href="#check_validations-845"><span class="linenos">845</span></a>        <span class="p">)</span>
</span><span id="check_validations-846"><a href="#check_validations-846"><span class="linenos">846</span></a>
</span><span id="check_validations-847"><a href="#check_validations-847"><span class="linenos">847</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="check_validations-848"><a href="#check_validations-848"><span class="linenos">848</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;minLength&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="check_validations-849"><a href="#check_validations-849"><span class="linenos">849</span></a>        <span class="ow">and</span> <span class="s2">&quot;min_length&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="check_validations-850"><a href="#check_validations-850"><span class="linenos">850</span></a>        <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;min_length&quot;</span><span class="p">]</span>
</span><span id="check_validations-851"><a href="#check_validations-851"><span class="linenos">851</span></a>    <span class="p">):</span>
</span><span id="check_validations-852"><a href="#check_validations-852"><span class="linenos">852</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="check_validations-853"><a href="#check_validations-853"><span class="linenos">853</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, length must be greater than or equal to &quot;</span>
</span><span id="check_validations-854"><a href="#check_validations-854"><span class="linenos">854</span></a>            <span class="s2">&quot;`</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;min_length&quot;</span><span class="p">])</span>
</span><span id="check_validations-855"><a href="#check_validations-855"><span class="linenos">855</span></a>        <span class="p">)</span>
</span><span id="check_validations-856"><a href="#check_validations-856"><span class="linenos">856</span></a>
</span><span id="check_validations-857"><a href="#check_validations-857"><span class="linenos">857</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="check_validations-858"><a href="#check_validations-858"><span class="linenos">858</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;maxItems&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="check_validations-859"><a href="#check_validations-859"><span class="linenos">859</span></a>        <span class="ow">and</span> <span class="s2">&quot;max_items&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="check_validations-860"><a href="#check_validations-860"><span class="linenos">860</span></a>        <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;max_items&quot;</span><span class="p">]</span>
</span><span id="check_validations-861"><a href="#check_validations-861"><span class="linenos">861</span></a>    <span class="p">):</span>
</span><span id="check_validations-862"><a href="#check_validations-862"><span class="linenos">862</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="check_validations-863"><a href="#check_validations-863"><span class="linenos">863</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, number of items must be less than or &quot;</span>
</span><span id="check_validations-864"><a href="#check_validations-864"><span class="linenos">864</span></a>            <span class="s2">&quot;equal to `</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;max_items&quot;</span><span class="p">])</span>
</span><span id="check_validations-865"><a href="#check_validations-865"><span class="linenos">865</span></a>        <span class="p">)</span>
</span><span id="check_validations-866"><a href="#check_validations-866"><span class="linenos">866</span></a>
</span><span id="check_validations-867"><a href="#check_validations-867"><span class="linenos">867</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="check_validations-868"><a href="#check_validations-868"><span class="linenos">868</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;minItems&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="check_validations-869"><a href="#check_validations-869"><span class="linenos">869</span></a>        <span class="ow">and</span> <span class="s2">&quot;min_items&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="check_validations-870"><a href="#check_validations-870"><span class="linenos">870</span></a>        <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;min_items&quot;</span><span class="p">]</span>
</span><span id="check_validations-871"><a href="#check_validations-871"><span class="linenos">871</span></a>    <span class="p">):</span>
</span><span id="check_validations-872"><a href="#check_validations-872"><span class="linenos">872</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
</span><span id="check_validations-873"><a href="#check_validations-873"><span class="linenos">873</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, number of items must be greater than or &quot;</span>
</span><span id="check_validations-874"><a href="#check_validations-874"><span class="linenos">874</span></a>            <span class="s2">&quot;equal to `</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;min_items&quot;</span><span class="p">])</span>
</span><span id="check_validations-875"><a href="#check_validations-875"><span class="linenos">875</span></a>        <span class="p">)</span>
</span><span id="check_validations-876"><a href="#check_validations-876"><span class="linenos">876</span></a>
</span><span id="check_validations-877"><a href="#check_validations-877"><span class="linenos">877</span></a>    <span class="n">items</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;exclusive_maximum&quot;</span><span class="p">,</span> <span class="s2">&quot;inclusive_maximum&quot;</span><span class="p">,</span> <span class="s2">&quot;exclusive_minimum&quot;</span><span class="p">,</span> <span class="s2">&quot;inclusive_minimum&quot;</span><span class="p">)</span>
</span><span id="check_validations-878"><a href="#check_validations-878"><span class="linenos">878</span></a>    <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">item</span> <span class="ow">in</span> <span class="n">current_validations</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">):</span>
</span><span id="check_validations-879"><a href="#check_validations-879"><span class="linenos">879</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_values</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="check_validations-880"><a href="#check_validations-880"><span class="linenos">880</span></a>            <span class="n">max_val</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span>
</span><span id="check_validations-881"><a href="#check_validations-881"><span class="linenos">881</span></a>            <span class="n">min_val</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">input_values</span><span class="p">)</span>
</span><span id="check_validations-882"><a href="#check_validations-882"><span class="linenos">882</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_values</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="check_validations-883"><a href="#check_validations-883"><span class="linenos">883</span></a>            <span class="n">max_val</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">input_values</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</span><span id="check_validations-884"><a href="#check_validations-884"><span class="linenos">884</span></a>            <span class="n">min_val</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">input_values</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</span><span id="check_validations-885"><a href="#check_validations-885"><span class="linenos">885</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="check_validations-886"><a href="#check_validations-886"><span class="linenos">886</span></a>            <span class="n">max_val</span> <span class="o">=</span> <span class="n">input_values</span>
</span><span id="check_validations-887"><a href="#check_validations-887"><span class="linenos">887</span></a>            <span class="n">min_val</span> <span class="o">=</span> <span class="n">input_values</span>
</span><span id="check_validations-888"><a href="#check_validations-888"><span class="linenos">888</span></a>
</span><span id="check_validations-889"><a href="#check_validations-889"><span class="linenos">889</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="check_validations-890"><a href="#check_validations-890"><span class="linenos">890</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;exclusiveMaximum&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="check_validations-891"><a href="#check_validations-891"><span class="linenos">891</span></a>        <span class="ow">and</span> <span class="s2">&quot;exclusive_maximum&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="check_validations-892"><a href="#check_validations-892"><span class="linenos">892</span></a>        <span class="ow">and</span> <span class="n">max_val</span> <span class="o">&gt;=</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;exclusive_maximum&quot;</span><span class="p">]</span>
</span><span id="check_validations-893"><a href="#check_validations-893"><span class="linenos">893</span></a>    <span class="p">):</span>
</span><span id="check_validations-894"><a href="#check_validations-894"><span class="linenos">894</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="check_validations-895"><a href="#check_validations-895"><span class="linenos">895</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, must be a value less than `</span><span class="si">%s</span><span class="s2">`&quot;</span>
</span><span id="check_validations-896"><a href="#check_validations-896"><span class="linenos">896</span></a>            <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;exclusive_maximum&quot;</span><span class="p">])</span>
</span><span id="check_validations-897"><a href="#check_validations-897"><span class="linenos">897</span></a>        <span class="p">)</span>
</span><span id="check_validations-898"><a href="#check_validations-898"><span class="linenos">898</span></a>
</span><span id="check_validations-899"><a href="#check_validations-899"><span class="linenos">899</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="check_validations-900"><a href="#check_validations-900"><span class="linenos">900</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;maximum&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="check_validations-901"><a href="#check_validations-901"><span class="linenos">901</span></a>        <span class="ow">and</span> <span class="s2">&quot;inclusive_maximum&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="check_validations-902"><a href="#check_validations-902"><span class="linenos">902</span></a>        <span class="ow">and</span> <span class="n">max_val</span> <span class="o">&gt;</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;inclusive_maximum&quot;</span><span class="p">]</span>
</span><span id="check_validations-903"><a href="#check_validations-903"><span class="linenos">903</span></a>    <span class="p">):</span>
</span><span id="check_validations-904"><a href="#check_validations-904"><span class="linenos">904</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="check_validations-905"><a href="#check_validations-905"><span class="linenos">905</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, must be a value less than or equal to &quot;</span>
</span><span id="check_validations-906"><a href="#check_validations-906"><span class="linenos">906</span></a>            <span class="s2">&quot;`</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;inclusive_maximum&quot;</span><span class="p">])</span>
</span><span id="check_validations-907"><a href="#check_validations-907"><span class="linenos">907</span></a>        <span class="p">)</span>
</span><span id="check_validations-908"><a href="#check_validations-908"><span class="linenos">908</span></a>
</span><span id="check_validations-909"><a href="#check_validations-909"><span class="linenos">909</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="check_validations-910"><a href="#check_validations-910"><span class="linenos">910</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;exclusiveMinimum&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="check_validations-911"><a href="#check_validations-911"><span class="linenos">911</span></a>        <span class="ow">and</span> <span class="s2">&quot;exclusive_minimum&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="check_validations-912"><a href="#check_validations-912"><span class="linenos">912</span></a>        <span class="ow">and</span> <span class="n">min_val</span> <span class="o">&lt;=</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;exclusive_minimum&quot;</span><span class="p">]</span>
</span><span id="check_validations-913"><a href="#check_validations-913"><span class="linenos">913</span></a>    <span class="p">):</span>
</span><span id="check_validations-914"><a href="#check_validations-914"><span class="linenos">914</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="check_validations-915"><a href="#check_validations-915"><span class="linenos">915</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, must be a value greater than `</span><span class="si">%s</span><span class="s2">`&quot;</span>
</span><span id="check_validations-916"><a href="#check_validations-916"><span class="linenos">916</span></a>            <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;exclusive_maximum&quot;</span><span class="p">])</span>
</span><span id="check_validations-917"><a href="#check_validations-917"><span class="linenos">917</span></a>        <span class="p">)</span>
</span><span id="check_validations-918"><a href="#check_validations-918"><span class="linenos">918</span></a>
</span><span id="check_validations-919"><a href="#check_validations-919"><span class="linenos">919</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="check_validations-920"><a href="#check_validations-920"><span class="linenos">920</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;minimum&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="check_validations-921"><a href="#check_validations-921"><span class="linenos">921</span></a>        <span class="ow">and</span> <span class="s2">&quot;inclusive_minimum&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="check_validations-922"><a href="#check_validations-922"><span class="linenos">922</span></a>        <span class="ow">and</span> <span class="n">min_val</span> <span class="o">&lt;</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;inclusive_minimum&quot;</span><span class="p">]</span>
</span><span id="check_validations-923"><a href="#check_validations-923"><span class="linenos">923</span></a>    <span class="p">):</span>
</span><span id="check_validations-924"><a href="#check_validations-924"><span class="linenos">924</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="check_validations-925"><a href="#check_validations-925"><span class="linenos">925</span></a>            <span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, must be a value greater than or equal &quot;</span>
</span><span id="check_validations-926"><a href="#check_validations-926"><span class="linenos">926</span></a>            <span class="s2">&quot;to `</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;inclusive_minimum&quot;</span><span class="p">])</span>
</span><span id="check_validations-927"><a href="#check_validations-927"><span class="linenos">927</span></a>        <span class="p">)</span>
</span><span id="check_validations-928"><a href="#check_validations-928"><span class="linenos">928</span></a>    <span class="n">flags</span> <span class="o">=</span> <span class="n">current_validations</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;regex&quot;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;flags&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span><span id="check_validations-929"><a href="#check_validations-929"><span class="linenos">929</span></a>    <span class="k">if</span> <span class="p">(</span>
</span><span id="check_validations-930"><a href="#check_validations-930"><span class="linenos">930</span></a>        <span class="n">is_json_validation_enabled</span><span class="p">(</span><span class="s2">&quot;pattern&quot;</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="check_validations-931"><a href="#check_validations-931"><span class="linenos">931</span></a>        <span class="ow">and</span> <span class="s2">&quot;regex&quot;</span> <span class="ow">in</span> <span class="n">current_validations</span>
</span><span id="check_validations-932"><a href="#check_validations-932"><span class="linenos">932</span></a>        <span class="ow">and</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;regex&quot;</span><span class="p">][</span><span class="s2">&quot;pattern&quot;</span><span class="p">],</span> <span class="n">input_values</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="n">flags</span><span class="p">)</span>
</span><span id="check_validations-933"><a href="#check_validations-933"><span class="linenos">933</span></a>    <span class="p">):</span>
</span><span id="check_validations-934"><a href="#check_validations-934"><span class="linenos">934</span></a>        <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;Invalid value for `</span><span class="si">%s</span><span class="s2">`, must match regular expression `</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span>
</span><span id="check_validations-935"><a href="#check_validations-935"><span class="linenos">935</span></a>            <span class="n">input_variable_path</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
</span><span id="check_validations-936"><a href="#check_validations-936"><span class="linenos">936</span></a>            <span class="n">current_validations</span><span class="p">[</span><span class="s2">&quot;regex&quot;</span><span class="p">][</span><span class="s2">&quot;pattern&quot;</span><span class="p">],</span>
</span><span id="check_validations-937"><a href="#check_validations-937"><span class="linenos">937</span></a>        <span class="p">)</span>
</span><span id="check_validations-938"><a href="#check_validations-938"><span class="linenos">938</span></a>        <span class="k">if</span> <span class="n">flags</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="check_validations-939"><a href="#check_validations-939"><span class="linenos">939</span></a>            <span class="c1"># Don&#39;t print the regex flags if the flags are not</span>
</span><span id="check_validations-940"><a href="#check_validations-940"><span class="linenos">940</span></a>            <span class="c1"># specified in the OAS document.</span>
</span><span id="check_validations-941"><a href="#check_validations-941"><span class="linenos">941</span></a>            <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> with flags=`</span><span class="si">%s</span><span class="s2">`&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">err_msg</span><span class="p">,</span> <span class="n">flags</span><span class="p">)</span>
</span><span id="check_validations-942"><a href="#check_validations-942"><span class="linenos">942</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span><span class="n">err_msg</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Raises an exception if the input_values are invalid</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>validations (dict):</strong>  the validation dictionary.</li>
<li><strong>input_variable_path (tuple):</strong>  the path to the input variable.</li>
<li><strong>input_values (list/str/int/float/date/datetime):</strong>  the values that we
are checking.</li>
<li><strong>configuration (Configuration):</strong>  the configuration class.</li>
</ul>
</div>


                </section>
                <section id="order_response_types">
                            <input id="order_response_types-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">order_response_types</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">required_types</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="order_response_types-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#order_response_types"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="order_response_types-945"><a href="#order_response_types-945"><span class="linenos">945</span></a><span class="k">def</span> <span class="nf">order_response_types</span><span class="p">(</span><span class="n">required_types</span><span class="p">):</span>
</span><span id="order_response_types-946"><a href="#order_response_types-946"><span class="linenos">946</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the required types sorted in coercion order</span>
</span><span id="order_response_types-947"><a href="#order_response_types-947"><span class="linenos">947</span></a>
</span><span id="order_response_types-948"><a href="#order_response_types-948"><span class="linenos">948</span></a><span class="sd">    Args:</span>
</span><span id="order_response_types-949"><a href="#order_response_types-949"><span class="linenos">949</span></a><span class="sd">        required_types (list/tuple): collection of classes or instance of</span>
</span><span id="order_response_types-950"><a href="#order_response_types-950"><span class="linenos">950</span></a><span class="sd">            list or dict with class information inside it.</span>
</span><span id="order_response_types-951"><a href="#order_response_types-951"><span class="linenos">951</span></a>
</span><span id="order_response_types-952"><a href="#order_response_types-952"><span class="linenos">952</span></a><span class="sd">    Returns:</span>
</span><span id="order_response_types-953"><a href="#order_response_types-953"><span class="linenos">953</span></a><span class="sd">        (list): coercion order sorted collection of classes or instance</span>
</span><span id="order_response_types-954"><a href="#order_response_types-954"><span class="linenos">954</span></a><span class="sd">            of list or dict with class information inside it.</span>
</span><span id="order_response_types-955"><a href="#order_response_types-955"><span class="linenos">955</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="order_response_types-956"><a href="#order_response_types-956"><span class="linenos">956</span></a>
</span><span id="order_response_types-957"><a href="#order_response_types-957"><span class="linenos">957</span></a>    <span class="k">def</span> <span class="nf">index_getter</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">):</span>
</span><span id="order_response_types-958"><a href="#order_response_types-958"><span class="linenos">958</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="order_response_types-959"><a href="#order_response_types-959"><span class="linenos">959</span></a>            <span class="k">return</span> <span class="n">COERCION_INDEX_BY_TYPE</span><span class="p">[</span><span class="nb">list</span><span class="p">]</span>
</span><span id="order_response_types-960"><a href="#order_response_types-960"><span class="linenos">960</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="order_response_types-961"><a href="#order_response_types-961"><span class="linenos">961</span></a>            <span class="k">return</span> <span class="n">COERCION_INDEX_BY_TYPE</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span>
</span><span id="order_response_types-962"><a href="#order_response_types-962"><span class="linenos">962</span></a>        <span class="k">elif</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">):</span>
</span><span id="order_response_types-963"><a href="#order_response_types-963"><span class="linenos">963</span></a>            <span class="k">return</span> <span class="n">COERCION_INDEX_BY_TYPE</span><span class="p">[</span><span class="n">ModelComposed</span><span class="p">]</span>
</span><span id="order_response_types-964"><a href="#order_response_types-964"><span class="linenos">964</span></a>        <span class="k">elif</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">,</span> <span class="n">ModelNormal</span><span class="p">):</span>
</span><span id="order_response_types-965"><a href="#order_response_types-965"><span class="linenos">965</span></a>            <span class="k">return</span> <span class="n">COERCION_INDEX_BY_TYPE</span><span class="p">[</span><span class="n">ModelNormal</span><span class="p">]</span>
</span><span id="order_response_types-966"><a href="#order_response_types-966"><span class="linenos">966</span></a>        <span class="k">elif</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">):</span>
</span><span id="order_response_types-967"><a href="#order_response_types-967"><span class="linenos">967</span></a>            <span class="k">return</span> <span class="n">COERCION_INDEX_BY_TYPE</span><span class="p">[</span><span class="n">ModelSimple</span><span class="p">]</span>
</span><span id="order_response_types-968"><a href="#order_response_types-968"><span class="linenos">968</span></a>        <span class="k">elif</span> <span class="n">class_or_instance</span> <span class="ow">in</span> <span class="n">COERCION_INDEX_BY_TYPE</span><span class="p">:</span>
</span><span id="order_response_types-969"><a href="#order_response_types-969"><span class="linenos">969</span></a>            <span class="k">return</span> <span class="n">COERCION_INDEX_BY_TYPE</span><span class="p">[</span><span class="n">class_or_instance</span><span class="p">]</span>
</span><span id="order_response_types-970"><a href="#order_response_types-970"><span class="linenos">970</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported type: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">class_or_instance</span><span class="p">)</span>
</span><span id="order_response_types-971"><a href="#order_response_types-971"><span class="linenos">971</span></a>
</span><span id="order_response_types-972"><a href="#order_response_types-972"><span class="linenos">972</span></a>    <span class="n">sorted_types</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">required_types</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">class_or_instance</span><span class="p">:</span> <span class="n">index_getter</span><span class="p">(</span><span class="n">class_or_instance</span><span class="p">))</span>
</span><span id="order_response_types-973"><a href="#order_response_types-973"><span class="linenos">973</span></a>    <span class="k">return</span> <span class="n">sorted_types</span>
</span></pre></div>


            <div class="docstring"><p>Returns the required types sorted in coercion order</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>required_types (list/tuple):</strong>  collection of classes or instance of
list or dict with class information inside it.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>(list): coercion order sorted collection of classes or instance
      of list or dict with class information inside it.</p>
</blockquote>
</div>


                </section>
                <section id="remove_uncoercible">
                            <input id="remove_uncoercible-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">remove_uncoercible</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">required_types_classes</span>,</span><span class="param">	<span class="n">current_item</span>,</span><span class="param">	<span class="n">spec_property_naming</span>,</span><span class="param">	<span class="n">must_convert</span><span class="o">=</span><span class="kc">True</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="remove_uncoercible-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#remove_uncoercible"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="remove_uncoercible-976"><a href="#remove_uncoercible-976"><span class="linenos"> 976</span></a><span class="k">def</span> <span class="nf">remove_uncoercible</span><span class="p">(</span><span class="n">required_types_classes</span><span class="p">,</span> <span class="n">current_item</span><span class="p">,</span> <span class="n">spec_property_naming</span><span class="p">,</span> <span class="n">must_convert</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="remove_uncoercible-977"><a href="#remove_uncoercible-977"><span class="linenos"> 977</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Only keeps the type conversions that are possible</span>
</span><span id="remove_uncoercible-978"><a href="#remove_uncoercible-978"><span class="linenos"> 978</span></a>
</span><span id="remove_uncoercible-979"><a href="#remove_uncoercible-979"><span class="linenos"> 979</span></a><span class="sd">    Args:</span>
</span><span id="remove_uncoercible-980"><a href="#remove_uncoercible-980"><span class="linenos"> 980</span></a><span class="sd">        required_types_classes (tuple): tuple of classes that are required</span>
</span><span id="remove_uncoercible-981"><a href="#remove_uncoercible-981"><span class="linenos"> 981</span></a><span class="sd">                          these should be ordered by COERCION_INDEX_BY_TYPE</span>
</span><span id="remove_uncoercible-982"><a href="#remove_uncoercible-982"><span class="linenos"> 982</span></a><span class="sd">        spec_property_naming (bool): True if the variable names in the input</span>
</span><span id="remove_uncoercible-983"><a href="#remove_uncoercible-983"><span class="linenos"> 983</span></a><span class="sd">            data are serialized names as specified in the OpenAPI document.</span>
</span><span id="remove_uncoercible-984"><a href="#remove_uncoercible-984"><span class="linenos"> 984</span></a><span class="sd">            False if the variables names in the input data are python</span>
</span><span id="remove_uncoercible-985"><a href="#remove_uncoercible-985"><span class="linenos"> 985</span></a><span class="sd">            variable names in PEP-8 snake case.</span>
</span><span id="remove_uncoercible-986"><a href="#remove_uncoercible-986"><span class="linenos"> 986</span></a><span class="sd">        current_item (any): the current item (input data) to be converted</span>
</span><span id="remove_uncoercible-987"><a href="#remove_uncoercible-987"><span class="linenos"> 987</span></a>
</span><span id="remove_uncoercible-988"><a href="#remove_uncoercible-988"><span class="linenos"> 988</span></a><span class="sd">    Keyword Args:</span>
</span><span id="remove_uncoercible-989"><a href="#remove_uncoercible-989"><span class="linenos"> 989</span></a><span class="sd">        must_convert (bool): if True the item to convert is of the wrong</span>
</span><span id="remove_uncoercible-990"><a href="#remove_uncoercible-990"><span class="linenos"> 990</span></a><span class="sd">                          type and we want a big list of coercibles</span>
</span><span id="remove_uncoercible-991"><a href="#remove_uncoercible-991"><span class="linenos"> 991</span></a><span class="sd">                          if False, we want a limited list of coercibles</span>
</span><span id="remove_uncoercible-992"><a href="#remove_uncoercible-992"><span class="linenos"> 992</span></a>
</span><span id="remove_uncoercible-993"><a href="#remove_uncoercible-993"><span class="linenos"> 993</span></a><span class="sd">    Returns:</span>
</span><span id="remove_uncoercible-994"><a href="#remove_uncoercible-994"><span class="linenos"> 994</span></a><span class="sd">        (list): the remaining coercible required types, classes only</span>
</span><span id="remove_uncoercible-995"><a href="#remove_uncoercible-995"><span class="linenos"> 995</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="remove_uncoercible-996"><a href="#remove_uncoercible-996"><span class="linenos"> 996</span></a>    <span class="n">current_type_simple</span> <span class="o">=</span> <span class="n">get_simple_class</span><span class="p">(</span><span class="n">current_item</span><span class="p">)</span>
</span><span id="remove_uncoercible-997"><a href="#remove_uncoercible-997"><span class="linenos"> 997</span></a>
</span><span id="remove_uncoercible-998"><a href="#remove_uncoercible-998"><span class="linenos"> 998</span></a>    <span class="n">results_classes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="remove_uncoercible-999"><a href="#remove_uncoercible-999"><span class="linenos"> 999</span></a>    <span class="k">for</span> <span class="n">required_type_class</span> <span class="ow">in</span> <span class="n">required_types_classes</span><span class="p">:</span>
</span><span id="remove_uncoercible-1000"><a href="#remove_uncoercible-1000"><span class="linenos">1000</span></a>        <span class="c1"># convert our models to OpenApiModel</span>
</span><span id="remove_uncoercible-1001"><a href="#remove_uncoercible-1001"><span class="linenos">1001</span></a>        <span class="n">required_type_class_simplified</span> <span class="o">=</span> <span class="n">required_type_class</span>
</span><span id="remove_uncoercible-1002"><a href="#remove_uncoercible-1002"><span class="linenos">1002</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">required_type_class_simplified</span><span class="p">,</span> <span class="nb">type</span><span class="p">):</span>
</span><span id="remove_uncoercible-1003"><a href="#remove_uncoercible-1003"><span class="linenos">1003</span></a>            <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">required_type_class_simplified</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">):</span>
</span><span id="remove_uncoercible-1004"><a href="#remove_uncoercible-1004"><span class="linenos">1004</span></a>                <span class="n">required_type_class_simplified</span> <span class="o">=</span> <span class="n">ModelComposed</span>
</span><span id="remove_uncoercible-1005"><a href="#remove_uncoercible-1005"><span class="linenos">1005</span></a>            <span class="k">elif</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">required_type_class_simplified</span><span class="p">,</span> <span class="n">ModelNormal</span><span class="p">):</span>
</span><span id="remove_uncoercible-1006"><a href="#remove_uncoercible-1006"><span class="linenos">1006</span></a>                <span class="n">required_type_class_simplified</span> <span class="o">=</span> <span class="n">ModelNormal</span>
</span><span id="remove_uncoercible-1007"><a href="#remove_uncoercible-1007"><span class="linenos">1007</span></a>            <span class="k">elif</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">required_type_class_simplified</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">):</span>
</span><span id="remove_uncoercible-1008"><a href="#remove_uncoercible-1008"><span class="linenos">1008</span></a>                <span class="n">required_type_class_simplified</span> <span class="o">=</span> <span class="n">ModelSimple</span>
</span><span id="remove_uncoercible-1009"><a href="#remove_uncoercible-1009"><span class="linenos">1009</span></a>
</span><span id="remove_uncoercible-1010"><a href="#remove_uncoercible-1010"><span class="linenos">1010</span></a>        <span class="k">if</span> <span class="n">required_type_class_simplified</span> <span class="o">==</span> <span class="n">current_type_simple</span><span class="p">:</span>
</span><span id="remove_uncoercible-1011"><a href="#remove_uncoercible-1011"><span class="linenos">1011</span></a>            <span class="c1"># don&#39;t consider converting to one&#39;s own class</span>
</span><span id="remove_uncoercible-1012"><a href="#remove_uncoercible-1012"><span class="linenos">1012</span></a>            <span class="k">continue</span>
</span><span id="remove_uncoercible-1013"><a href="#remove_uncoercible-1013"><span class="linenos">1013</span></a>
</span><span id="remove_uncoercible-1014"><a href="#remove_uncoercible-1014"><span class="linenos">1014</span></a>        <span class="n">class_pair</span> <span class="o">=</span> <span class="p">(</span><span class="n">current_type_simple</span><span class="p">,</span> <span class="n">required_type_class_simplified</span><span class="p">)</span>
</span><span id="remove_uncoercible-1015"><a href="#remove_uncoercible-1015"><span class="linenos">1015</span></a>        <span class="k">if</span> <span class="n">must_convert</span> <span class="ow">and</span> <span class="n">class_pair</span> <span class="ow">in</span> <span class="n">COERCIBLE_TYPE_PAIRS</span><span class="p">[</span><span class="n">spec_property_naming</span><span class="p">]:</span>
</span><span id="remove_uncoercible-1016"><a href="#remove_uncoercible-1016"><span class="linenos">1016</span></a>            <span class="n">results_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">required_type_class</span><span class="p">)</span>
</span><span id="remove_uncoercible-1017"><a href="#remove_uncoercible-1017"><span class="linenos">1017</span></a>        <span class="k">elif</span> <span class="n">class_pair</span> <span class="ow">in</span> <span class="n">UPCONVERSION_TYPE_PAIRS</span><span class="p">:</span>
</span><span id="remove_uncoercible-1018"><a href="#remove_uncoercible-1018"><span class="linenos">1018</span></a>            <span class="n">results_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">required_type_class</span><span class="p">)</span>
</span><span id="remove_uncoercible-1019"><a href="#remove_uncoercible-1019"><span class="linenos">1019</span></a>    <span class="k">return</span> <span class="n">results_classes</span>
</span></pre></div>


            <div class="docstring"><p>Only keeps the type conversions that are possible</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>required_types_classes (tuple):</strong>  tuple of classes that are required
these should be ordered by COERCION_INDEX_BY_TYPE</li>
<li><strong>spec_property_naming (bool):</strong>  True if the variable names in the input
data are serialized names as specified in the OpenAPI document.
False if the variables names in the input data are python
variable names in PEP-8 snake case.</li>
<li><strong>current_item (any):</strong>  the current item (input data) to be converted</li>
</ul>

<h6 id="keyword-args">Keyword Args:</h6>

<blockquote>
  <p>must_convert (bool): if True the item to convert is of the wrong
                    type and we want a big list of coercibles
                    if False, we want a limited list of coercibles</p>
</blockquote>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>(list): the remaining coercible required types, classes only</p>
</blockquote>
</div>


                </section>
                <section id="get_discriminated_classes">
                            <input id="get_discriminated_classes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_discriminated_classes</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="get_discriminated_classes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_discriminated_classes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_discriminated_classes-1022"><a href="#get_discriminated_classes-1022"><span class="linenos">1022</span></a><span class="k">def</span> <span class="nf">get_discriminated_classes</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="get_discriminated_classes-1023"><a href="#get_discriminated_classes-1023"><span class="linenos">1023</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="get_discriminated_classes-1024"><a href="#get_discriminated_classes-1024"><span class="linenos">1024</span></a><span class="sd">    Returns all the classes that a discriminator converts to</span>
</span><span id="get_discriminated_classes-1025"><a href="#get_discriminated_classes-1025"><span class="linenos">1025</span></a><span class="sd">    TODO: lru_cache this</span>
</span><span id="get_discriminated_classes-1026"><a href="#get_discriminated_classes-1026"><span class="linenos">1026</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="get_discriminated_classes-1027"><a href="#get_discriminated_classes-1027"><span class="linenos">1027</span></a>    <span class="n">possible_classes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="get_discriminated_classes-1028"><a href="#get_discriminated_classes-1028"><span class="linenos">1028</span></a>    <span class="n">key</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="get_discriminated_classes-1029"><a href="#get_discriminated_classes-1029"><span class="linenos">1029</span></a>    <span class="k">if</span> <span class="n">is_type_nullable</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="get_discriminated_classes-1030"><a href="#get_discriminated_classes-1030"><span class="linenos">1030</span></a>        <span class="n">possible_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
</span><span id="get_discriminated_classes-1031"><a href="#get_discriminated_classes-1031"><span class="linenos">1031</span></a>    <span class="k">for</span> <span class="n">discr_cls</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="get_discriminated_classes-1032"><a href="#get_discriminated_classes-1032"><span class="linenos">1032</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">discr_cls</span><span class="p">,</span> <span class="s2">&quot;discriminator&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">discr_cls</span><span class="o">.</span><span class="n">discriminator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="get_discriminated_classes-1033"><a href="#get_discriminated_classes-1033"><span class="linenos">1033</span></a>            <span class="n">possible_classes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">get_discriminated_classes</span><span class="p">(</span><span class="n">discr_cls</span><span class="p">))</span>
</span><span id="get_discriminated_classes-1034"><a href="#get_discriminated_classes-1034"><span class="linenos">1034</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="get_discriminated_classes-1035"><a href="#get_discriminated_classes-1035"><span class="linenos">1035</span></a>            <span class="n">possible_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">discr_cls</span><span class="p">)</span>
</span><span id="get_discriminated_classes-1036"><a href="#get_discriminated_classes-1036"><span class="linenos">1036</span></a>    <span class="k">return</span> <span class="n">possible_classes</span>
</span></pre></div>


            <div class="docstring"><p>Returns all the classes that a discriminator converts to
TODO: lru_cache this</p>
</div>


                </section>
                <section id="get_possible_classes">
                            <input id="get_possible_classes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_possible_classes</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="n">from_server_context</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="get_possible_classes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_possible_classes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_possible_classes-1039"><a href="#get_possible_classes-1039"><span class="linenos">1039</span></a><span class="k">def</span> <span class="nf">get_possible_classes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">from_server_context</span><span class="p">):</span>
</span><span id="get_possible_classes-1040"><a href="#get_possible_classes-1040"><span class="linenos">1040</span></a>    <span class="c1"># TODO: lru_cache this</span>
</span><span id="get_possible_classes-1041"><a href="#get_possible_classes-1041"><span class="linenos">1041</span></a>    <span class="n">possible_classes</span> <span class="o">=</span> <span class="p">[</span><span class="bp">cls</span><span class="p">]</span>
</span><span id="get_possible_classes-1042"><a href="#get_possible_classes-1042"><span class="linenos">1042</span></a>    <span class="k">if</span> <span class="n">from_server_context</span><span class="p">:</span>
</span><span id="get_possible_classes-1043"><a href="#get_possible_classes-1043"><span class="linenos">1043</span></a>        <span class="k">return</span> <span class="n">possible_classes</span>
</span><span id="get_possible_classes-1044"><a href="#get_possible_classes-1044"><span class="linenos">1044</span></a>    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s2">&quot;discriminator&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="get_possible_classes-1045"><a href="#get_possible_classes-1045"><span class="linenos">1045</span></a>        <span class="n">possible_classes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="get_possible_classes-1046"><a href="#get_possible_classes-1046"><span class="linenos">1046</span></a>        <span class="n">possible_classes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">get_discriminated_classes</span><span class="p">(</span><span class="bp">cls</span><span class="p">))</span>
</span><span id="get_possible_classes-1047"><a href="#get_possible_classes-1047"><span class="linenos">1047</span></a>    <span class="k">elif</span> <span class="nb">issubclass</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">):</span>
</span><span id="get_possible_classes-1048"><a href="#get_possible_classes-1048"><span class="linenos">1048</span></a>        <span class="n">possible_classes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">composed_model_input_classes</span><span class="p">(</span><span class="bp">cls</span><span class="p">))</span>
</span><span id="get_possible_classes-1049"><a href="#get_possible_classes-1049"><span class="linenos">1049</span></a>    <span class="k">return</span> <span class="n">possible_classes</span>
</span></pre></div>


    

                </section>
                <section id="get_required_type_classes">
                            <input id="get_required_type_classes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_required_type_classes</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">required_types_mixed</span>, </span><span class="param"><span class="n">spec_property_naming</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="get_required_type_classes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_required_type_classes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_required_type_classes-1052"><a href="#get_required_type_classes-1052"><span class="linenos">1052</span></a><span class="k">def</span> <span class="nf">get_required_type_classes</span><span class="p">(</span><span class="n">required_types_mixed</span><span class="p">,</span> <span class="n">spec_property_naming</span><span class="p">):</span>
</span><span id="get_required_type_classes-1053"><a href="#get_required_type_classes-1053"><span class="linenos">1053</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts the tuple required_types into a tuple and a dict described</span>
</span><span id="get_required_type_classes-1054"><a href="#get_required_type_classes-1054"><span class="linenos">1054</span></a><span class="sd">    below</span>
</span><span id="get_required_type_classes-1055"><a href="#get_required_type_classes-1055"><span class="linenos">1055</span></a>
</span><span id="get_required_type_classes-1056"><a href="#get_required_type_classes-1056"><span class="linenos">1056</span></a><span class="sd">    Args:</span>
</span><span id="get_required_type_classes-1057"><a href="#get_required_type_classes-1057"><span class="linenos">1057</span></a><span class="sd">        required_types_mixed (tuple/list): will contain either classes or</span>
</span><span id="get_required_type_classes-1058"><a href="#get_required_type_classes-1058"><span class="linenos">1058</span></a><span class="sd">            instance of list or dict</span>
</span><span id="get_required_type_classes-1059"><a href="#get_required_type_classes-1059"><span class="linenos">1059</span></a><span class="sd">        spec_property_naming (bool): if True these values came from the</span>
</span><span id="get_required_type_classes-1060"><a href="#get_required_type_classes-1060"><span class="linenos">1060</span></a><span class="sd">            server, and we use the data types in our endpoints.</span>
</span><span id="get_required_type_classes-1061"><a href="#get_required_type_classes-1061"><span class="linenos">1061</span></a><span class="sd">            If False, we are client side and we need to include</span>
</span><span id="get_required_type_classes-1062"><a href="#get_required_type_classes-1062"><span class="linenos">1062</span></a><span class="sd">            oneOf and discriminator classes inside the data types in our endpoints</span>
</span><span id="get_required_type_classes-1063"><a href="#get_required_type_classes-1063"><span class="linenos">1063</span></a>
</span><span id="get_required_type_classes-1064"><a href="#get_required_type_classes-1064"><span class="linenos">1064</span></a><span class="sd">    Returns:</span>
</span><span id="get_required_type_classes-1065"><a href="#get_required_type_classes-1065"><span class="linenos">1065</span></a><span class="sd">        (valid_classes, dict_valid_class_to_child_types_mixed):</span>
</span><span id="get_required_type_classes-1066"><a href="#get_required_type_classes-1066"><span class="linenos">1066</span></a><span class="sd">            valid_classes (tuple): the valid classes that the current item</span>
</span><span id="get_required_type_classes-1067"><a href="#get_required_type_classes-1067"><span class="linenos">1067</span></a><span class="sd">                                   should be</span>
</span><span id="get_required_type_classes-1068"><a href="#get_required_type_classes-1068"><span class="linenos">1068</span></a><span class="sd">            dict_valid_class_to_child_types_mixed (dict):</span>
</span><span id="get_required_type_classes-1069"><a href="#get_required_type_classes-1069"><span class="linenos">1069</span></a><span class="sd">                valid_class (class): this is the key</span>
</span><span id="get_required_type_classes-1070"><a href="#get_required_type_classes-1070"><span class="linenos">1070</span></a><span class="sd">                child_types_mixed (list/dict/tuple): describes the valid child</span>
</span><span id="get_required_type_classes-1071"><a href="#get_required_type_classes-1071"><span class="linenos">1071</span></a><span class="sd">                    types</span>
</span><span id="get_required_type_classes-1072"><a href="#get_required_type_classes-1072"><span class="linenos">1072</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="get_required_type_classes-1073"><a href="#get_required_type_classes-1073"><span class="linenos">1073</span></a>    <span class="n">valid_classes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="get_required_type_classes-1074"><a href="#get_required_type_classes-1074"><span class="linenos">1074</span></a>    <span class="n">child_req_types_by_current_type</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="get_required_type_classes-1075"><a href="#get_required_type_classes-1075"><span class="linenos">1075</span></a>    <span class="k">for</span> <span class="n">required_type</span> <span class="ow">in</span> <span class="n">required_types_mixed</span><span class="p">:</span>
</span><span id="get_required_type_classes-1076"><a href="#get_required_type_classes-1076"><span class="linenos">1076</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">required_type</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="get_required_type_classes-1077"><a href="#get_required_type_classes-1077"><span class="linenos">1077</span></a>            <span class="n">valid_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
</span><span id="get_required_type_classes-1078"><a href="#get_required_type_classes-1078"><span class="linenos">1078</span></a>            <span class="n">child_req_types_by_current_type</span><span class="p">[</span><span class="nb">list</span><span class="p">]</span> <span class="o">=</span> <span class="n">required_type</span>
</span><span id="get_required_type_classes-1079"><a href="#get_required_type_classes-1079"><span class="linenos">1079</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">required_type</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
</span><span id="get_required_type_classes-1080"><a href="#get_required_type_classes-1080"><span class="linenos">1080</span></a>            <span class="n">valid_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">tuple</span><span class="p">)</span>
</span><span id="get_required_type_classes-1081"><a href="#get_required_type_classes-1081"><span class="linenos">1081</span></a>            <span class="n">child_req_types_by_current_type</span><span class="p">[</span><span class="nb">tuple</span><span class="p">]</span> <span class="o">=</span> <span class="n">required_type</span>
</span><span id="get_required_type_classes-1082"><a href="#get_required_type_classes-1082"><span class="linenos">1082</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">required_type</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="get_required_type_classes-1083"><a href="#get_required_type_classes-1083"><span class="linenos">1083</span></a>            <span class="n">valid_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>
</span><span id="get_required_type_classes-1084"><a href="#get_required_type_classes-1084"><span class="linenos">1084</span></a>            <span class="n">child_req_types_by_current_type</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="n">required_type</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="get_required_type_classes-1085"><a href="#get_required_type_classes-1085"><span class="linenos">1085</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="get_required_type_classes-1086"><a href="#get_required_type_classes-1086"><span class="linenos">1086</span></a>            <span class="n">valid_classes</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">get_possible_classes</span><span class="p">(</span><span class="n">required_type</span><span class="p">,</span> <span class="n">spec_property_naming</span><span class="p">))</span>
</span><span id="get_required_type_classes-1087"><a href="#get_required_type_classes-1087"><span class="linenos">1087</span></a>    <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">valid_classes</span><span class="p">),</span> <span class="n">child_req_types_by_current_type</span>
</span></pre></div>


            <div class="docstring"><p>Converts the tuple required_types into a tuple and a dict described
below</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>required_types_mixed (tuple/list):</strong>  will contain either classes or
instance of list or dict</li>
<li><strong>spec_property_naming (bool):</strong>  if True these values came from the
server, and we use the data types in our endpoints.
If False, we are client side and we need to include
oneOf and discriminator classes inside the data types in our endpoints</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>(valid_classes, dict_valid_class_to_child_types_mixed):
      valid_classes (tuple): the valid classes that the current item
                             should be
      dict_valid_class_to_child_types_mixed (dict):
          valid_class (class): this is the key
          child_types_mixed (list/dict/tuple): describes the valid child
              types</p>
</blockquote>
</div>


                </section>
                <section id="change_keys_js_to_python">
                            <input id="change_keys_js_to_python-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">change_keys_js_to_python</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">input_dict</span>, </span><span class="param"><span class="n">model_class</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="change_keys_js_to_python-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#change_keys_js_to_python"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="change_keys_js_to_python-1090"><a href="#change_keys_js_to_python-1090"><span class="linenos">1090</span></a><span class="k">def</span> <span class="nf">change_keys_js_to_python</span><span class="p">(</span><span class="n">input_dict</span><span class="p">,</span> <span class="n">model_class</span><span class="p">):</span>
</span><span id="change_keys_js_to_python-1091"><a href="#change_keys_js_to_python-1091"><span class="linenos">1091</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="change_keys_js_to_python-1092"><a href="#change_keys_js_to_python-1092"><span class="linenos">1092</span></a><span class="sd">    Converts from javascript_key keys in the input_dict to python_keys in</span>
</span><span id="change_keys_js_to_python-1093"><a href="#change_keys_js_to_python-1093"><span class="linenos">1093</span></a><span class="sd">    the output dict using the mapping in model_class.</span>
</span><span id="change_keys_js_to_python-1094"><a href="#change_keys_js_to_python-1094"><span class="linenos">1094</span></a><span class="sd">    If the input_dict contains a key which does not declared in the model_class,</span>
</span><span id="change_keys_js_to_python-1095"><a href="#change_keys_js_to_python-1095"><span class="linenos">1095</span></a><span class="sd">    the key is added to the output dict as is. The assumption is the model_class</span>
</span><span id="change_keys_js_to_python-1096"><a href="#change_keys_js_to_python-1096"><span class="linenos">1096</span></a><span class="sd">    may have undeclared properties (additionalProperties attribute in the OAS</span>
</span><span id="change_keys_js_to_python-1097"><a href="#change_keys_js_to_python-1097"><span class="linenos">1097</span></a><span class="sd">    document).</span>
</span><span id="change_keys_js_to_python-1098"><a href="#change_keys_js_to_python-1098"><span class="linenos">1098</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="change_keys_js_to_python-1099"><a href="#change_keys_js_to_python-1099"><span class="linenos">1099</span></a>
</span><span id="change_keys_js_to_python-1100"><a href="#change_keys_js_to_python-1100"><span class="linenos">1100</span></a>    <span class="k">if</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">model_class</span><span class="p">,</span> <span class="s2">&quot;attribute_map&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="change_keys_js_to_python-1101"><a href="#change_keys_js_to_python-1101"><span class="linenos">1101</span></a>        <span class="k">return</span> <span class="n">input_dict</span>
</span><span id="change_keys_js_to_python-1102"><a href="#change_keys_js_to_python-1102"><span class="linenos">1102</span></a>    <span class="n">output_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="change_keys_js_to_python-1103"><a href="#change_keys_js_to_python-1103"><span class="linenos">1103</span></a>    <span class="n">reversed_attr_map</span> <span class="o">=</span> <span class="p">{</span><span class="n">value</span><span class="p">:</span> <span class="n">key</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">model_class</span><span class="o">.</span><span class="n">attribute_map</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</span><span id="change_keys_js_to_python-1104"><a href="#change_keys_js_to_python-1104"><span class="linenos">1104</span></a>    <span class="k">for</span> <span class="n">javascript_key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">input_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="change_keys_js_to_python-1105"><a href="#change_keys_js_to_python-1105"><span class="linenos">1105</span></a>        <span class="n">python_key</span> <span class="o">=</span> <span class="n">reversed_attr_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">javascript_key</span><span class="p">)</span>
</span><span id="change_keys_js_to_python-1106"><a href="#change_keys_js_to_python-1106"><span class="linenos">1106</span></a>        <span class="k">if</span> <span class="n">python_key</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="change_keys_js_to_python-1107"><a href="#change_keys_js_to_python-1107"><span class="linenos">1107</span></a>            <span class="c1"># if the key is unknown, it is in error or it is an</span>
</span><span id="change_keys_js_to_python-1108"><a href="#change_keys_js_to_python-1108"><span class="linenos">1108</span></a>            <span class="c1"># additionalProperties variable</span>
</span><span id="change_keys_js_to_python-1109"><a href="#change_keys_js_to_python-1109"><span class="linenos">1109</span></a>            <span class="n">python_key</span> <span class="o">=</span> <span class="n">javascript_key</span>
</span><span id="change_keys_js_to_python-1110"><a href="#change_keys_js_to_python-1110"><span class="linenos">1110</span></a>        <span class="n">output_dict</span><span class="p">[</span><span class="n">python_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="change_keys_js_to_python-1111"><a href="#change_keys_js_to_python-1111"><span class="linenos">1111</span></a>    <span class="k">return</span> <span class="n">output_dict</span>
</span></pre></div>


            <div class="docstring"><p>Converts from javascript_key keys in the input_dict to python_keys in
the output dict using the mapping in model_class.
If the input_dict contains a key which does not declared in the model_class,
the key is added to the output dict as is. The assumption is the model_class
may have undeclared properties (additionalProperties attribute in the OAS
document).</p>
</div>


                </section>
                <section id="get_type_error">
                            <input id="get_type_error-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_type_error</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">var_value</span>, </span><span class="param"><span class="n">path_to_item</span>, </span><span class="param"><span class="n">valid_classes</span>, </span><span class="param"><span class="n">key_type</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="get_type_error-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_type_error"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_type_error-1114"><a href="#get_type_error-1114"><span class="linenos">1114</span></a><span class="k">def</span> <span class="nf">get_type_error</span><span class="p">(</span><span class="n">var_value</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">,</span> <span class="n">valid_classes</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="get_type_error-1115"><a href="#get_type_error-1115"><span class="linenos">1115</span></a>    <span class="n">error_msg</span> <span class="o">=</span> <span class="n">type_error_message</span><span class="p">(</span>
</span><span id="get_type_error-1116"><a href="#get_type_error-1116"><span class="linenos">1116</span></a>        <span class="n">var_name</span><span class="o">=</span><span class="n">path_to_item</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">var_value</span><span class="o">=</span><span class="n">var_value</span><span class="p">,</span> <span class="n">valid_classes</span><span class="o">=</span><span class="n">valid_classes</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="n">key_type</span>
</span><span id="get_type_error-1117"><a href="#get_type_error-1117"><span class="linenos">1117</span></a>    <span class="p">)</span>
</span><span id="get_type_error-1118"><a href="#get_type_error-1118"><span class="linenos">1118</span></a>    <span class="k">return</span> <span class="n">ApiTypeError</span><span class="p">(</span><span class="n">error_msg</span><span class="p">,</span> <span class="n">path_to_item</span><span class="o">=</span><span class="n">path_to_item</span><span class="p">,</span> <span class="n">valid_classes</span><span class="o">=</span><span class="n">valid_classes</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="n">key_type</span><span class="p">)</span>
</span></pre></div>


    

                </section>
                <section id="deserialize_primitive">
                            <input id="deserialize_primitive-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">deserialize_primitive</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">data</span>, </span><span class="param"><span class="n">klass</span>, </span><span class="param"><span class="n">path_to_item</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="deserialize_primitive-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#deserialize_primitive"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="deserialize_primitive-1121"><a href="#deserialize_primitive-1121"><span class="linenos">1121</span></a><span class="k">def</span> <span class="nf">deserialize_primitive</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">klass</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">):</span>
</span><span id="deserialize_primitive-1122"><a href="#deserialize_primitive-1122"><span class="linenos">1122</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Deserializes string to primitive type.</span>
</span><span id="deserialize_primitive-1123"><a href="#deserialize_primitive-1123"><span class="linenos">1123</span></a>
</span><span id="deserialize_primitive-1124"><a href="#deserialize_primitive-1124"><span class="linenos">1124</span></a><span class="sd">    :param data: str/int/float</span>
</span><span id="deserialize_primitive-1125"><a href="#deserialize_primitive-1125"><span class="linenos">1125</span></a><span class="sd">    :param klass: str/class the class to convert to</span>
</span><span id="deserialize_primitive-1126"><a href="#deserialize_primitive-1126"><span class="linenos">1126</span></a>
</span><span id="deserialize_primitive-1127"><a href="#deserialize_primitive-1127"><span class="linenos">1127</span></a><span class="sd">    :return: int, float, str, bool, date, datetime</span>
</span><span id="deserialize_primitive-1128"><a href="#deserialize_primitive-1128"><span class="linenos">1128</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="deserialize_primitive-1129"><a href="#deserialize_primitive-1129"><span class="linenos">1129</span></a>    <span class="n">additional_message</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span id="deserialize_primitive-1130"><a href="#deserialize_primitive-1130"><span class="linenos">1130</span></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="deserialize_primitive-1131"><a href="#deserialize_primitive-1131"><span class="linenos">1131</span></a>        <span class="k">if</span> <span class="n">klass</span> <span class="ow">in</span> <span class="p">{</span><span class="n">datetime</span><span class="p">,</span> <span class="n">date</span><span class="p">}:</span>
</span><span id="deserialize_primitive-1132"><a href="#deserialize_primitive-1132"><span class="linenos">1132</span></a>            <span class="n">additional_message</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="deserialize_primitive-1133"><a href="#deserialize_primitive-1133"><span class="linenos">1133</span></a>                <span class="s2">&quot;If you need your parameter to have a fallback &quot;</span>
</span><span id="deserialize_primitive-1134"><a href="#deserialize_primitive-1134"><span class="linenos">1134</span></a>                <span class="s2">&quot;string value, please set its type as `type: </span><span class="si">{}</span><span class="s2">` in your &quot;</span>
</span><span id="deserialize_primitive-1135"><a href="#deserialize_primitive-1135"><span class="linenos">1135</span></a>                <span class="s2">&quot;spec. That allows the value to be any type. &quot;</span>
</span><span id="deserialize_primitive-1136"><a href="#deserialize_primitive-1136"><span class="linenos">1136</span></a>            <span class="p">)</span>
</span><span id="deserialize_primitive-1137"><a href="#deserialize_primitive-1137"><span class="linenos">1137</span></a>            <span class="k">if</span> <span class="n">klass</span> <span class="o">==</span> <span class="n">datetime</span><span class="p">:</span>
</span><span id="deserialize_primitive-1138"><a href="#deserialize_primitive-1138"><span class="linenos">1138</span></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">:</span>
</span><span id="deserialize_primitive-1139"><a href="#deserialize_primitive-1139"><span class="linenos">1139</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;This is not a datetime&quot;</span><span class="p">)</span>
</span><span id="deserialize_primitive-1140"><a href="#deserialize_primitive-1140"><span class="linenos">1140</span></a>                <span class="c1"># The string should be in iso8601 datetime format.</span>
</span><span id="deserialize_primitive-1141"><a href="#deserialize_primitive-1141"><span class="linenos">1141</span></a>                <span class="n">parsed_datetime</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="deserialize_primitive-1142"><a href="#deserialize_primitive-1142"><span class="linenos">1142</span></a>                <span class="n">date_only</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="deserialize_primitive-1143"><a href="#deserialize_primitive-1143"><span class="linenos">1143</span></a>                    <span class="n">parsed_datetime</span><span class="o">.</span><span class="n">hour</span> <span class="o">==</span> <span class="mi">0</span>
</span><span id="deserialize_primitive-1144"><a href="#deserialize_primitive-1144"><span class="linenos">1144</span></a>                    <span class="ow">and</span> <span class="n">parsed_datetime</span><span class="o">.</span><span class="n">minute</span> <span class="o">==</span> <span class="mi">0</span>
</span><span id="deserialize_primitive-1145"><a href="#deserialize_primitive-1145"><span class="linenos">1145</span></a>                    <span class="ow">and</span> <span class="n">parsed_datetime</span><span class="o">.</span><span class="n">second</span> <span class="o">==</span> <span class="mi">0</span>
</span><span id="deserialize_primitive-1146"><a href="#deserialize_primitive-1146"><span class="linenos">1146</span></a>                    <span class="ow">and</span> <span class="n">parsed_datetime</span><span class="o">.</span><span class="n">tzinfo</span> <span class="ow">is</span> <span class="kc">None</span>
</span><span id="deserialize_primitive-1147"><a href="#deserialize_primitive-1147"><span class="linenos">1147</span></a>                    <span class="ow">and</span> <span class="mi">8</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">10</span>
</span><span id="deserialize_primitive-1148"><a href="#deserialize_primitive-1148"><span class="linenos">1148</span></a>                <span class="p">)</span>
</span><span id="deserialize_primitive-1149"><a href="#deserialize_primitive-1149"><span class="linenos">1149</span></a>                <span class="k">if</span> <span class="n">date_only</span><span class="p">:</span>
</span><span id="deserialize_primitive-1150"><a href="#deserialize_primitive-1150"><span class="linenos">1150</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;This is a date, not a datetime&quot;</span><span class="p">)</span>
</span><span id="deserialize_primitive-1151"><a href="#deserialize_primitive-1151"><span class="linenos">1151</span></a>                <span class="k">return</span> <span class="n">parsed_datetime</span>
</span><span id="deserialize_primitive-1152"><a href="#deserialize_primitive-1152"><span class="linenos">1152</span></a>            <span class="k">elif</span> <span class="n">klass</span> <span class="o">==</span> <span class="n">date</span><span class="p">:</span>
</span><span id="deserialize_primitive-1153"><a href="#deserialize_primitive-1153"><span class="linenos">1153</span></a>                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">:</span>
</span><span id="deserialize_primitive-1154"><a href="#deserialize_primitive-1154"><span class="linenos">1154</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;This is not a date&quot;</span><span class="p">)</span>
</span><span id="deserialize_primitive-1155"><a href="#deserialize_primitive-1155"><span class="linenos">1155</span></a>                <span class="k">return</span> <span class="n">parse</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>
</span><span id="deserialize_primitive-1156"><a href="#deserialize_primitive-1156"><span class="linenos">1156</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="deserialize_primitive-1157"><a href="#deserialize_primitive-1157"><span class="linenos">1157</span></a>            <span class="n">converted_value</span> <span class="o">=</span> <span class="n">klass</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="deserialize_primitive-1158"><a href="#deserialize_primitive-1158"><span class="linenos">1158</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">klass</span> <span class="o">==</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="deserialize_primitive-1159"><a href="#deserialize_primitive-1159"><span class="linenos">1159</span></a>                <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">converted_value</span><span class="p">)</span> <span class="o">!=</span> <span class="n">data</span><span class="p">:</span>
</span><span id="deserialize_primitive-1160"><a href="#deserialize_primitive-1160"><span class="linenos">1160</span></a>                    <span class="c1"># &#39;7&#39; -&gt; 7.0 -&gt; &#39;7.0&#39; != &#39;7&#39;</span>
</span><span id="deserialize_primitive-1161"><a href="#deserialize_primitive-1161"><span class="linenos">1161</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;This is not a float&quot;</span><span class="p">)</span>
</span><span id="deserialize_primitive-1162"><a href="#deserialize_primitive-1162"><span class="linenos">1162</span></a>            <span class="k">return</span> <span class="n">converted_value</span>
</span><span id="deserialize_primitive-1163"><a href="#deserialize_primitive-1163"><span class="linenos">1163</span></a>    <span class="k">except</span> <span class="p">(</span><span class="ne">OverflowError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">)</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="deserialize_primitive-1164"><a href="#deserialize_primitive-1164"><span class="linenos">1164</span></a>        <span class="c1"># parse can raise OverflowError</span>
</span><span id="deserialize_primitive-1165"><a href="#deserialize_primitive-1165"><span class="linenos">1165</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="deserialize_primitive-1166"><a href="#deserialize_primitive-1166"><span class="linenos">1166</span></a>            <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">Failed to parse </span><span class="si">{1}</span><span class="s2"> as </span><span class="si">{2}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">additional_message</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">klass</span><span class="o">.</span><span class="vm">__name__</span><span class="p">),</span>
</span><span id="deserialize_primitive-1167"><a href="#deserialize_primitive-1167"><span class="linenos">1167</span></a>            <span class="n">path_to_item</span><span class="o">=</span><span class="n">path_to_item</span><span class="p">,</span>
</span><span id="deserialize_primitive-1168"><a href="#deserialize_primitive-1168"><span class="linenos">1168</span></a>        <span class="p">)</span> <span class="kn">from</span> <span class="nn">ex</span>
</span></pre></div>


            <div class="docstring"><p>Deserializes string to primitive type.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>data</strong>:  str/int/float</li>
<li><strong>klass</strong>:  str/class the class to convert to</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>int, float, str, bool, date, datetime</p>
</blockquote>
</div>


                </section>
                <section id="get_discriminator_class">
                            <input id="get_discriminator_class-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_discriminator_class</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">model_class</span>, </span><span class="param"><span class="n">discr_name</span>, </span><span class="param"><span class="n">discr_value</span>, </span><span class="param"><span class="n">cls_visited</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="get_discriminator_class-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_discriminator_class"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_discriminator_class-1171"><a href="#get_discriminator_class-1171"><span class="linenos">1171</span></a><span class="k">def</span> <span class="nf">get_discriminator_class</span><span class="p">(</span><span class="n">model_class</span><span class="p">,</span> <span class="n">discr_name</span><span class="p">,</span> <span class="n">discr_value</span><span class="p">,</span> <span class="n">cls_visited</span><span class="p">):</span>
</span><span id="get_discriminator_class-1172"><a href="#get_discriminator_class-1172"><span class="linenos">1172</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the child class specified by the discriminator.</span>
</span><span id="get_discriminator_class-1173"><a href="#get_discriminator_class-1173"><span class="linenos">1173</span></a>
</span><span id="get_discriminator_class-1174"><a href="#get_discriminator_class-1174"><span class="linenos">1174</span></a><span class="sd">    Args:</span>
</span><span id="get_discriminator_class-1175"><a href="#get_discriminator_class-1175"><span class="linenos">1175</span></a><span class="sd">        model_class (OpenApiModel): the model class.</span>
</span><span id="get_discriminator_class-1176"><a href="#get_discriminator_class-1176"><span class="linenos">1176</span></a><span class="sd">        discr_name (string): the name of the discriminator property.</span>
</span><span id="get_discriminator_class-1177"><a href="#get_discriminator_class-1177"><span class="linenos">1177</span></a><span class="sd">        discr_value (any): the discriminator value.</span>
</span><span id="get_discriminator_class-1178"><a href="#get_discriminator_class-1178"><span class="linenos">1178</span></a><span class="sd">        cls_visited (list): list of model classes that have been visited.</span>
</span><span id="get_discriminator_class-1179"><a href="#get_discriminator_class-1179"><span class="linenos">1179</span></a><span class="sd">            Used to determine the discriminator class without</span>
</span><span id="get_discriminator_class-1180"><a href="#get_discriminator_class-1180"><span class="linenos">1180</span></a><span class="sd">            visiting circular references indefinitely.</span>
</span><span id="get_discriminator_class-1181"><a href="#get_discriminator_class-1181"><span class="linenos">1181</span></a>
</span><span id="get_discriminator_class-1182"><a href="#get_discriminator_class-1182"><span class="linenos">1182</span></a><span class="sd">    Returns:</span>
</span><span id="get_discriminator_class-1183"><a href="#get_discriminator_class-1183"><span class="linenos">1183</span></a><span class="sd">        used_model_class (class/None): the chosen child class that will be used</span>
</span><span id="get_discriminator_class-1184"><a href="#get_discriminator_class-1184"><span class="linenos">1184</span></a><span class="sd">            to deserialize the data, for example dog.Dog.</span>
</span><span id="get_discriminator_class-1185"><a href="#get_discriminator_class-1185"><span class="linenos">1185</span></a><span class="sd">            If a class is not found, None is returned.</span>
</span><span id="get_discriminator_class-1186"><a href="#get_discriminator_class-1186"><span class="linenos">1186</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="get_discriminator_class-1187"><a href="#get_discriminator_class-1187"><span class="linenos">1187</span></a>
</span><span id="get_discriminator_class-1188"><a href="#get_discriminator_class-1188"><span class="linenos">1188</span></a>    <span class="k">if</span> <span class="n">model_class</span> <span class="ow">in</span> <span class="n">cls_visited</span><span class="p">:</span>
</span><span id="get_discriminator_class-1189"><a href="#get_discriminator_class-1189"><span class="linenos">1189</span></a>        <span class="c1"># The class has already been visited and no suitable class was found.</span>
</span><span id="get_discriminator_class-1190"><a href="#get_discriminator_class-1190"><span class="linenos">1190</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="get_discriminator_class-1191"><a href="#get_discriminator_class-1191"><span class="linenos">1191</span></a>    <span class="n">cls_visited</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">model_class</span><span class="p">)</span>
</span><span id="get_discriminator_class-1192"><a href="#get_discriminator_class-1192"><span class="linenos">1192</span></a>    <span class="n">used_model_class</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="get_discriminator_class-1193"><a href="#get_discriminator_class-1193"><span class="linenos">1193</span></a>    <span class="k">if</span> <span class="n">discr_name</span> <span class="ow">in</span> <span class="n">model_class</span><span class="o">.</span><span class="n">discriminator</span><span class="p">:</span>
</span><span id="get_discriminator_class-1194"><a href="#get_discriminator_class-1194"><span class="linenos">1194</span></a>        <span class="n">class_name_to_discr_class</span> <span class="o">=</span> <span class="n">model_class</span><span class="o">.</span><span class="n">discriminator</span><span class="p">[</span><span class="n">discr_name</span><span class="p">]</span>
</span><span id="get_discriminator_class-1195"><a href="#get_discriminator_class-1195"><span class="linenos">1195</span></a>        <span class="n">used_model_class</span> <span class="o">=</span> <span class="n">class_name_to_discr_class</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">discr_value</span><span class="p">)</span>
</span><span id="get_discriminator_class-1196"><a href="#get_discriminator_class-1196"><span class="linenos">1196</span></a>    <span class="k">if</span> <span class="n">used_model_class</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="get_discriminator_class-1197"><a href="#get_discriminator_class-1197"><span class="linenos">1197</span></a>        <span class="c1"># We didn&#39;t find a discriminated class in class_name_to_discr_class.</span>
</span><span id="get_discriminator_class-1198"><a href="#get_discriminator_class-1198"><span class="linenos">1198</span></a>        <span class="c1"># So look in the ancestor or descendant discriminators</span>
</span><span id="get_discriminator_class-1199"><a href="#get_discriminator_class-1199"><span class="linenos">1199</span></a>        <span class="c1"># The discriminator mapping may exist in a descendant (anyOf, oneOf)</span>
</span><span id="get_discriminator_class-1200"><a href="#get_discriminator_class-1200"><span class="linenos">1200</span></a>        <span class="c1"># or ancestor (allOf).</span>
</span><span id="get_discriminator_class-1201"><a href="#get_discriminator_class-1201"><span class="linenos">1201</span></a>        <span class="c1"># Ancestor example: in the GrandparentAnimal -&gt; ParentPet -&gt; ChildCat</span>
</span><span id="get_discriminator_class-1202"><a href="#get_discriminator_class-1202"><span class="linenos">1202</span></a>        <span class="c1">#   hierarchy, the discriminator mappings may be defined at any level</span>
</span><span id="get_discriminator_class-1203"><a href="#get_discriminator_class-1203"><span class="linenos">1203</span></a>        <span class="c1">#   in the hierarchy.</span>
</span><span id="get_discriminator_class-1204"><a href="#get_discriminator_class-1204"><span class="linenos">1204</span></a>        <span class="c1"># Descendant example:  mammal -&gt; whale/zebra/Pig -&gt; BasquePig/DanishPig</span>
</span><span id="get_discriminator_class-1205"><a href="#get_discriminator_class-1205"><span class="linenos">1205</span></a>        <span class="c1">#   if we try to make BasquePig from mammal, we need to travel through</span>
</span><span id="get_discriminator_class-1206"><a href="#get_discriminator_class-1206"><span class="linenos">1206</span></a>        <span class="c1">#   the oneOf descendant discriminators to find BasquePig</span>
</span><span id="get_discriminator_class-1207"><a href="#get_discriminator_class-1207"><span class="linenos">1207</span></a>        <span class="n">descendant_classes</span> <span class="o">=</span> <span class="n">model_class</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oneOf&quot;</span><span class="p">,</span> <span class="p">())</span> <span class="o">+</span> <span class="n">model_class</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="get_discriminator_class-1208"><a href="#get_discriminator_class-1208"><span class="linenos">1208</span></a>            <span class="s2">&quot;anyOf&quot;</span><span class="p">,</span> <span class="p">()</span>
</span><span id="get_discriminator_class-1209"><a href="#get_discriminator_class-1209"><span class="linenos">1209</span></a>        <span class="p">)</span>
</span><span id="get_discriminator_class-1210"><a href="#get_discriminator_class-1210"><span class="linenos">1210</span></a>        <span class="n">ancestor_classes</span> <span class="o">=</span> <span class="n">model_class</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;allOf&quot;</span><span class="p">,</span> <span class="p">())</span>
</span><span id="get_discriminator_class-1211"><a href="#get_discriminator_class-1211"><span class="linenos">1211</span></a>        <span class="n">possible_classes</span> <span class="o">=</span> <span class="n">descendant_classes</span> <span class="o">+</span> <span class="n">ancestor_classes</span>
</span><span id="get_discriminator_class-1212"><a href="#get_discriminator_class-1212"><span class="linenos">1212</span></a>        <span class="k">for</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">possible_classes</span><span class="p">:</span>
</span><span id="get_discriminator_class-1213"><a href="#get_discriminator_class-1213"><span class="linenos">1213</span></a>            <span class="c1"># Check if the schema has inherited discriminators.</span>
</span><span id="get_discriminator_class-1214"><a href="#get_discriminator_class-1214"><span class="linenos">1214</span></a>            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s2">&quot;discriminator&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">cls</span><span class="o">.</span><span class="n">discriminator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="get_discriminator_class-1215"><a href="#get_discriminator_class-1215"><span class="linenos">1215</span></a>                <span class="n">used_model_class</span> <span class="o">=</span> <span class="n">get_discriminator_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">discr_name</span><span class="p">,</span> <span class="n">discr_value</span><span class="p">,</span> <span class="n">cls_visited</span><span class="p">)</span>
</span><span id="get_discriminator_class-1216"><a href="#get_discriminator_class-1216"><span class="linenos">1216</span></a>                <span class="k">if</span> <span class="n">used_model_class</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="get_discriminator_class-1217"><a href="#get_discriminator_class-1217"><span class="linenos">1217</span></a>                    <span class="k">return</span> <span class="n">used_model_class</span>
</span><span id="get_discriminator_class-1218"><a href="#get_discriminator_class-1218"><span class="linenos">1218</span></a>    <span class="k">return</span> <span class="n">used_model_class</span>
</span></pre></div>


            <div class="docstring"><p>Returns the child class specified by the discriminator.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>model_class (OpenApiModel):</strong>  the model class.</li>
<li><strong>discr_name (string):</strong>  the name of the discriminator property.</li>
<li><strong>discr_value (any):</strong>  the discriminator value.</li>
<li><strong>cls_visited (list):</strong>  list of model classes that have been visited.
Used to determine the discriminator class without
visiting circular references indefinitely.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>used_model_class (class/None): the chosen child class that will be used
      to deserialize the data, for example dog.Dog.
      If a class is not found, None is returned.</p>
</blockquote>
</div>


                </section>
                <section id="deserialize_model">
                            <input id="deserialize_model-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">deserialize_model</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">model_data</span>,</span><span class="param">	<span class="n">model_class</span>,</span><span class="param">	<span class="n">path_to_item</span>,</span><span class="param">	<span class="n">check_type</span>,</span><span class="param">	<span class="n">configuration</span>,</span><span class="param">	<span class="n">spec_property_naming</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="deserialize_model-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#deserialize_model"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="deserialize_model-1221"><a href="#deserialize_model-1221"><span class="linenos">1221</span></a><span class="k">def</span> <span class="nf">deserialize_model</span><span class="p">(</span><span class="n">model_data</span><span class="p">,</span> <span class="n">model_class</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">,</span> <span class="n">check_type</span><span class="p">,</span> <span class="n">configuration</span><span class="p">,</span> <span class="n">spec_property_naming</span><span class="p">):</span>
</span><span id="deserialize_model-1222"><a href="#deserialize_model-1222"><span class="linenos">1222</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Deserializes model_data to model instance.</span>
</span><span id="deserialize_model-1223"><a href="#deserialize_model-1223"><span class="linenos">1223</span></a>
</span><span id="deserialize_model-1224"><a href="#deserialize_model-1224"><span class="linenos">1224</span></a><span class="sd">    Args:</span>
</span><span id="deserialize_model-1225"><a href="#deserialize_model-1225"><span class="linenos">1225</span></a><span class="sd">        model_data (int/str/float/bool/none_type/list/dict): data to instantiate the model</span>
</span><span id="deserialize_model-1226"><a href="#deserialize_model-1226"><span class="linenos">1226</span></a><span class="sd">        model_class (OpenApiModel): the model class</span>
</span><span id="deserialize_model-1227"><a href="#deserialize_model-1227"><span class="linenos">1227</span></a><span class="sd">        path_to_item (list): path to the model in the received data</span>
</span><span id="deserialize_model-1228"><a href="#deserialize_model-1228"><span class="linenos">1228</span></a><span class="sd">        check_type (bool): whether to check the data tupe for the values in</span>
</span><span id="deserialize_model-1229"><a href="#deserialize_model-1229"><span class="linenos">1229</span></a><span class="sd">            the model</span>
</span><span id="deserialize_model-1230"><a href="#deserialize_model-1230"><span class="linenos">1230</span></a><span class="sd">        configuration (Configuration): the instance to use to convert files</span>
</span><span id="deserialize_model-1231"><a href="#deserialize_model-1231"><span class="linenos">1231</span></a><span class="sd">        spec_property_naming (bool): True if the variable names in the input</span>
</span><span id="deserialize_model-1232"><a href="#deserialize_model-1232"><span class="linenos">1232</span></a><span class="sd">            data are serialized names as specified in the OpenAPI document.</span>
</span><span id="deserialize_model-1233"><a href="#deserialize_model-1233"><span class="linenos">1233</span></a><span class="sd">            False if the variables names in the input data are python</span>
</span><span id="deserialize_model-1234"><a href="#deserialize_model-1234"><span class="linenos">1234</span></a><span class="sd">            variable names in PEP-8 snake case.</span>
</span><span id="deserialize_model-1235"><a href="#deserialize_model-1235"><span class="linenos">1235</span></a>
</span><span id="deserialize_model-1236"><a href="#deserialize_model-1236"><span class="linenos">1236</span></a><span class="sd">    Returns:</span>
</span><span id="deserialize_model-1237"><a href="#deserialize_model-1237"><span class="linenos">1237</span></a><span class="sd">        model instance</span>
</span><span id="deserialize_model-1238"><a href="#deserialize_model-1238"><span class="linenos">1238</span></a>
</span><span id="deserialize_model-1239"><a href="#deserialize_model-1239"><span class="linenos">1239</span></a><span class="sd">    Raise:</span>
</span><span id="deserialize_model-1240"><a href="#deserialize_model-1240"><span class="linenos">1240</span></a><span class="sd">        ApiTypeError</span>
</span><span id="deserialize_model-1241"><a href="#deserialize_model-1241"><span class="linenos">1241</span></a><span class="sd">        ApiValueError</span>
</span><span id="deserialize_model-1242"><a href="#deserialize_model-1242"><span class="linenos">1242</span></a><span class="sd">        ApiKeyError</span>
</span><span id="deserialize_model-1243"><a href="#deserialize_model-1243"><span class="linenos">1243</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="deserialize_model-1244"><a href="#deserialize_model-1244"><span class="linenos">1244</span></a>
</span><span id="deserialize_model-1245"><a href="#deserialize_model-1245"><span class="linenos">1245</span></a>    <span class="n">kw_args</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
</span><span id="deserialize_model-1246"><a href="#deserialize_model-1246"><span class="linenos">1246</span></a>        <span class="n">_check_type</span><span class="o">=</span><span class="n">check_type</span><span class="p">,</span>
</span><span id="deserialize_model-1247"><a href="#deserialize_model-1247"><span class="linenos">1247</span></a>        <span class="n">_path_to_item</span><span class="o">=</span><span class="n">path_to_item</span><span class="p">,</span>
</span><span id="deserialize_model-1248"><a href="#deserialize_model-1248"><span class="linenos">1248</span></a>        <span class="n">_configuration</span><span class="o">=</span><span class="n">configuration</span><span class="p">,</span>
</span><span id="deserialize_model-1249"><a href="#deserialize_model-1249"><span class="linenos">1249</span></a>        <span class="n">_spec_property_naming</span><span class="o">=</span><span class="n">spec_property_naming</span><span class="p">,</span>
</span><span id="deserialize_model-1250"><a href="#deserialize_model-1250"><span class="linenos">1250</span></a>    <span class="p">)</span>
</span><span id="deserialize_model-1251"><a href="#deserialize_model-1251"><span class="linenos">1251</span></a>
</span><span id="deserialize_model-1252"><a href="#deserialize_model-1252"><span class="linenos">1252</span></a>    <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">model_class</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">):</span>
</span><span id="deserialize_model-1253"><a href="#deserialize_model-1253"><span class="linenos">1253</span></a>        <span class="k">return</span> <span class="n">model_class</span><span class="o">.</span><span class="n">_new_from_openapi_data</span><span class="p">(</span><span class="n">model_data</span><span class="p">,</span> <span class="o">**</span><span class="n">kw_args</span><span class="p">)</span>
</span><span id="deserialize_model-1254"><a href="#deserialize_model-1254"><span class="linenos">1254</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model_data</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="deserialize_model-1255"><a href="#deserialize_model-1255"><span class="linenos">1255</span></a>        <span class="k">return</span> <span class="n">model_class</span><span class="o">.</span><span class="n">_new_from_openapi_data</span><span class="p">(</span><span class="o">*</span><span class="n">model_data</span><span class="p">,</span> <span class="o">**</span><span class="n">kw_args</span><span class="p">)</span>
</span><span id="deserialize_model-1256"><a href="#deserialize_model-1256"><span class="linenos">1256</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model_data</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="deserialize_model-1257"><a href="#deserialize_model-1257"><span class="linenos">1257</span></a>        <span class="n">kw_args</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">model_data</span><span class="p">)</span>
</span><span id="deserialize_model-1258"><a href="#deserialize_model-1258"><span class="linenos">1258</span></a>        <span class="k">return</span> <span class="n">model_class</span><span class="o">.</span><span class="n">_new_from_openapi_data</span><span class="p">(</span><span class="o">**</span><span class="n">kw_args</span><span class="p">)</span>
</span><span id="deserialize_model-1259"><a href="#deserialize_model-1259"><span class="linenos">1259</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model_data</span><span class="p">,</span> <span class="n">PRIMITIVE_TYPES</span><span class="p">):</span>
</span><span id="deserialize_model-1260"><a href="#deserialize_model-1260"><span class="linenos">1260</span></a>        <span class="k">return</span> <span class="n">model_class</span><span class="o">.</span><span class="n">_new_from_openapi_data</span><span class="p">(</span><span class="n">model_data</span><span class="p">,</span> <span class="o">**</span><span class="n">kw_args</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Deserializes model_data to model instance.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>model_data (int/str/float/bool/none_type/list/dict):</strong>  data to instantiate the model</li>
<li><strong>model_class (OpenApiModel):</strong>  the model class</li>
<li><strong>path_to_item (list):</strong>  path to the model in the received data</li>
<li><strong>check_type (bool):</strong>  whether to check the data tupe for the values in
the model</li>
<li><strong>configuration (Configuration):</strong>  the instance to use to convert files</li>
<li><strong>spec_property_naming (bool):</strong>  True if the variable names in the input
data are serialized names as specified in the OpenAPI document.
False if the variables names in the input data are python
variable names in PEP-8 snake case.</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>model instance</p>
</blockquote>

<h6 id="raise">Raise:</h6>

<blockquote>
  <p>ApiTypeError
  ApiValueError
  ApiKeyError</p>
</blockquote>
</div>


                </section>
                <section id="deserialize_file">
                            <input id="deserialize_file-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">deserialize_file</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">response_data</span>, </span><span class="param"><span class="n">configuration</span>, </span><span class="param"><span class="n">content_disposition</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="deserialize_file-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#deserialize_file"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="deserialize_file-1263"><a href="#deserialize_file-1263"><span class="linenos">1263</span></a><span class="k">def</span> <span class="nf">deserialize_file</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="n">configuration</span><span class="p">,</span> <span class="n">content_disposition</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="deserialize_file-1264"><a href="#deserialize_file-1264"><span class="linenos">1264</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Deserializes body to file</span>
</span><span id="deserialize_file-1265"><a href="#deserialize_file-1265"><span class="linenos">1265</span></a>
</span><span id="deserialize_file-1266"><a href="#deserialize_file-1266"><span class="linenos">1266</span></a><span class="sd">    Saves response body into a file in a temporary folder,</span>
</span><span id="deserialize_file-1267"><a href="#deserialize_file-1267"><span class="linenos">1267</span></a><span class="sd">    using the filename from the `Content-Disposition` header if provided.</span>
</span><span id="deserialize_file-1268"><a href="#deserialize_file-1268"><span class="linenos">1268</span></a>
</span><span id="deserialize_file-1269"><a href="#deserialize_file-1269"><span class="linenos">1269</span></a><span class="sd">    Args:</span>
</span><span id="deserialize_file-1270"><a href="#deserialize_file-1270"><span class="linenos">1270</span></a><span class="sd">        param response_data (str):  the file data to write</span>
</span><span id="deserialize_file-1271"><a href="#deserialize_file-1271"><span class="linenos">1271</span></a><span class="sd">        configuration (Configuration): the instance to use to convert files</span>
</span><span id="deserialize_file-1272"><a href="#deserialize_file-1272"><span class="linenos">1272</span></a>
</span><span id="deserialize_file-1273"><a href="#deserialize_file-1273"><span class="linenos">1273</span></a><span class="sd">    Keyword Args:</span>
</span><span id="deserialize_file-1274"><a href="#deserialize_file-1274"><span class="linenos">1274</span></a><span class="sd">        content_disposition (str):  the value of the Content-Disposition</span>
</span><span id="deserialize_file-1275"><a href="#deserialize_file-1275"><span class="linenos">1275</span></a><span class="sd">            header</span>
</span><span id="deserialize_file-1276"><a href="#deserialize_file-1276"><span class="linenos">1276</span></a>
</span><span id="deserialize_file-1277"><a href="#deserialize_file-1277"><span class="linenos">1277</span></a><span class="sd">    Returns:</span>
</span><span id="deserialize_file-1278"><a href="#deserialize_file-1278"><span class="linenos">1278</span></a><span class="sd">        (file_type): the deserialized file which is open</span>
</span><span id="deserialize_file-1279"><a href="#deserialize_file-1279"><span class="linenos">1279</span></a><span class="sd">            The user is responsible for closing and reading the file</span>
</span><span id="deserialize_file-1280"><a href="#deserialize_file-1280"><span class="linenos">1280</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="deserialize_file-1281"><a href="#deserialize_file-1281"><span class="linenos">1281</span></a>    <span class="n">fd</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkstemp</span><span class="p">(</span><span class="nb">dir</span><span class="o">=</span><span class="n">configuration</span><span class="o">.</span><span class="n">temp_folder_path</span><span class="p">)</span>
</span><span id="deserialize_file-1282"><a href="#deserialize_file-1282"><span class="linenos">1282</span></a>    <span class="n">os</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">fd</span><span class="p">)</span>
</span><span id="deserialize_file-1283"><a href="#deserialize_file-1283"><span class="linenos">1283</span></a>    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</span><span id="deserialize_file-1284"><a href="#deserialize_file-1284"><span class="linenos">1284</span></a>
</span><span id="deserialize_file-1285"><a href="#deserialize_file-1285"><span class="linenos">1285</span></a>    <span class="k">if</span> <span class="n">content_disposition</span><span class="p">:</span>
</span><span id="deserialize_file-1286"><a href="#deserialize_file-1286"><span class="linenos">1286</span></a>        <span class="n">filename</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;filename=[</span><span class="se">\&#39;</span><span class="s1">&quot;]?([^</span><span class="se">\&#39;</span><span class="s1">&quot;\s]+)[</span><span class="se">\&#39;</span><span class="s1">&quot;]?&#39;</span><span class="p">,</span> <span class="n">content_disposition</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="deserialize_file-1287"><a href="#deserialize_file-1287"><span class="linenos">1287</span></a>        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">path</span><span class="p">),</span> <span class="n">filename</span><span class="p">)</span>
</span><span id="deserialize_file-1288"><a href="#deserialize_file-1288"><span class="linenos">1288</span></a>
</span><span id="deserialize_file-1289"><a href="#deserialize_file-1289"><span class="linenos">1289</span></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><span id="deserialize_file-1290"><a href="#deserialize_file-1290"><span class="linenos">1290</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_data</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="deserialize_file-1291"><a href="#deserialize_file-1291"><span class="linenos">1291</span></a>            <span class="c1"># change str to bytes so we can write it</span>
</span><span id="deserialize_file-1292"><a href="#deserialize_file-1292"><span class="linenos">1292</span></a>            <span class="n">response_data</span> <span class="o">=</span> <span class="n">response_data</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</span><span id="deserialize_file-1293"><a href="#deserialize_file-1293"><span class="linenos">1293</span></a>        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">response_data</span><span class="p">)</span>
</span><span id="deserialize_file-1294"><a href="#deserialize_file-1294"><span class="linenos">1294</span></a>
</span><span id="deserialize_file-1295"><a href="#deserialize_file-1295"><span class="linenos">1295</span></a>    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
</span><span id="deserialize_file-1296"><a href="#deserialize_file-1296"><span class="linenos">1296</span></a>    <span class="k">return</span> <span class="n">f</span>
</span></pre></div>


            <div class="docstring"><p>Deserializes body to file</p>

<p>Saves response body into a file in a temporary folder,
using the filename from the <code>Content-Disposition</code> header if provided.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>param response_data (str):</strong>   the file data to write</li>
<li><strong>configuration (Configuration):</strong>  the instance to use to convert files</li>
</ul>

<h6 id="keyword-args">Keyword Args:</h6>

<blockquote>
  <p>content_disposition (str):  the value of the Content-Disposition
      header</p>
</blockquote>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>(file_type): the deserialized file which is open
      The user is responsible for closing and reading the file</p>
</blockquote>
</div>


                </section>
                <section id="attempt_convert_item">
                            <input id="attempt_convert_item-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">attempt_convert_item</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">input_value</span>,</span><span class="param">	<span class="n">valid_classes</span>,</span><span class="param">	<span class="n">path_to_item</span>,</span><span class="param">	<span class="n">configuration</span>,</span><span class="param">	<span class="n">spec_property_naming</span>,</span><span class="param">	<span class="n">key_type</span><span class="o">=</span><span class="kc">False</span>,</span><span class="param">	<span class="n">must_convert</span><span class="o">=</span><span class="kc">False</span>,</span><span class="param">	<span class="n">check_type</span><span class="o">=</span><span class="kc">True</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="attempt_convert_item-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#attempt_convert_item"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="attempt_convert_item-1299"><a href="#attempt_convert_item-1299"><span class="linenos">1299</span></a><span class="k">def</span> <span class="nf">attempt_convert_item</span><span class="p">(</span>
</span><span id="attempt_convert_item-1300"><a href="#attempt_convert_item-1300"><span class="linenos">1300</span></a>    <span class="n">input_value</span><span class="p">,</span>
</span><span id="attempt_convert_item-1301"><a href="#attempt_convert_item-1301"><span class="linenos">1301</span></a>    <span class="n">valid_classes</span><span class="p">,</span>
</span><span id="attempt_convert_item-1302"><a href="#attempt_convert_item-1302"><span class="linenos">1302</span></a>    <span class="n">path_to_item</span><span class="p">,</span>
</span><span id="attempt_convert_item-1303"><a href="#attempt_convert_item-1303"><span class="linenos">1303</span></a>    <span class="n">configuration</span><span class="p">,</span>
</span><span id="attempt_convert_item-1304"><a href="#attempt_convert_item-1304"><span class="linenos">1304</span></a>    <span class="n">spec_property_naming</span><span class="p">,</span>
</span><span id="attempt_convert_item-1305"><a href="#attempt_convert_item-1305"><span class="linenos">1305</span></a>    <span class="n">key_type</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="attempt_convert_item-1306"><a href="#attempt_convert_item-1306"><span class="linenos">1306</span></a>    <span class="n">must_convert</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="attempt_convert_item-1307"><a href="#attempt_convert_item-1307"><span class="linenos">1307</span></a>    <span class="n">check_type</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="attempt_convert_item-1308"><a href="#attempt_convert_item-1308"><span class="linenos">1308</span></a><span class="p">):</span>
</span><span id="attempt_convert_item-1309"><a href="#attempt_convert_item-1309"><span class="linenos">1309</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="attempt_convert_item-1310"><a href="#attempt_convert_item-1310"><span class="linenos">1310</span></a><span class="sd">    Args:</span>
</span><span id="attempt_convert_item-1311"><a href="#attempt_convert_item-1311"><span class="linenos">1311</span></a><span class="sd">        input_value (any): the data to convert</span>
</span><span id="attempt_convert_item-1312"><a href="#attempt_convert_item-1312"><span class="linenos">1312</span></a><span class="sd">        valid_classes (any): the classes that are valid</span>
</span><span id="attempt_convert_item-1313"><a href="#attempt_convert_item-1313"><span class="linenos">1313</span></a><span class="sd">        path_to_item (list): the path to the item to convert</span>
</span><span id="attempt_convert_item-1314"><a href="#attempt_convert_item-1314"><span class="linenos">1314</span></a><span class="sd">        configuration (Configuration): the instance to use to convert files</span>
</span><span id="attempt_convert_item-1315"><a href="#attempt_convert_item-1315"><span class="linenos">1315</span></a><span class="sd">        spec_property_naming (bool): True if the variable names in the input</span>
</span><span id="attempt_convert_item-1316"><a href="#attempt_convert_item-1316"><span class="linenos">1316</span></a><span class="sd">            data are serialized names as specified in the OpenAPI document.</span>
</span><span id="attempt_convert_item-1317"><a href="#attempt_convert_item-1317"><span class="linenos">1317</span></a><span class="sd">            False if the variables names in the input data are python</span>
</span><span id="attempt_convert_item-1318"><a href="#attempt_convert_item-1318"><span class="linenos">1318</span></a><span class="sd">            variable names in PEP-8 snake case.</span>
</span><span id="attempt_convert_item-1319"><a href="#attempt_convert_item-1319"><span class="linenos">1319</span></a><span class="sd">        key_type (bool): if True we need to convert a key type (not supported)</span>
</span><span id="attempt_convert_item-1320"><a href="#attempt_convert_item-1320"><span class="linenos">1320</span></a><span class="sd">        must_convert (bool): if True we must convert</span>
</span><span id="attempt_convert_item-1321"><a href="#attempt_convert_item-1321"><span class="linenos">1321</span></a><span class="sd">        check_type (bool): if True we check the type or the returned data in</span>
</span><span id="attempt_convert_item-1322"><a href="#attempt_convert_item-1322"><span class="linenos">1322</span></a><span class="sd">            ModelComposed/ModelNormal/ModelSimple instances</span>
</span><span id="attempt_convert_item-1323"><a href="#attempt_convert_item-1323"><span class="linenos">1323</span></a>
</span><span id="attempt_convert_item-1324"><a href="#attempt_convert_item-1324"><span class="linenos">1324</span></a><span class="sd">    Returns:</span>
</span><span id="attempt_convert_item-1325"><a href="#attempt_convert_item-1325"><span class="linenos">1325</span></a><span class="sd">        instance (any) the fixed item</span>
</span><span id="attempt_convert_item-1326"><a href="#attempt_convert_item-1326"><span class="linenos">1326</span></a>
</span><span id="attempt_convert_item-1327"><a href="#attempt_convert_item-1327"><span class="linenos">1327</span></a><span class="sd">    Raises:</span>
</span><span id="attempt_convert_item-1328"><a href="#attempt_convert_item-1328"><span class="linenos">1328</span></a><span class="sd">        ApiTypeError</span>
</span><span id="attempt_convert_item-1329"><a href="#attempt_convert_item-1329"><span class="linenos">1329</span></a><span class="sd">        ApiValueError</span>
</span><span id="attempt_convert_item-1330"><a href="#attempt_convert_item-1330"><span class="linenos">1330</span></a><span class="sd">        ApiKeyError</span>
</span><span id="attempt_convert_item-1331"><a href="#attempt_convert_item-1331"><span class="linenos">1331</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="attempt_convert_item-1332"><a href="#attempt_convert_item-1332"><span class="linenos">1332</span></a>    <span class="n">valid_classes_ordered</span> <span class="o">=</span> <span class="n">order_response_types</span><span class="p">(</span><span class="n">valid_classes</span><span class="p">)</span>
</span><span id="attempt_convert_item-1333"><a href="#attempt_convert_item-1333"><span class="linenos">1333</span></a>    <span class="n">valid_classes_coercible</span> <span class="o">=</span> <span class="n">remove_uncoercible</span><span class="p">(</span><span class="n">valid_classes_ordered</span><span class="p">,</span> <span class="n">input_value</span><span class="p">,</span> <span class="n">spec_property_naming</span><span class="p">)</span>
</span><span id="attempt_convert_item-1334"><a href="#attempt_convert_item-1334"><span class="linenos">1334</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">valid_classes_coercible</span> <span class="ow">or</span> <span class="n">key_type</span><span class="p">:</span>
</span><span id="attempt_convert_item-1335"><a href="#attempt_convert_item-1335"><span class="linenos">1335</span></a>        <span class="c1"># we do not handle keytype errors, json will take care</span>
</span><span id="attempt_convert_item-1336"><a href="#attempt_convert_item-1336"><span class="linenos">1336</span></a>        <span class="c1"># of this for us</span>
</span><span id="attempt_convert_item-1337"><a href="#attempt_convert_item-1337"><span class="linenos">1337</span></a>        <span class="k">if</span> <span class="n">configuration</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">configuration</span><span class="o">.</span><span class="n">discard_unknown_keys</span><span class="p">:</span>
</span><span id="attempt_convert_item-1338"><a href="#attempt_convert_item-1338"><span class="linenos">1338</span></a>            <span class="k">raise</span> <span class="n">get_type_error</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">,</span> <span class="n">valid_classes</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="n">key_type</span><span class="p">)</span>
</span><span id="attempt_convert_item-1339"><a href="#attempt_convert_item-1339"><span class="linenos">1339</span></a>    <span class="k">for</span> <span class="n">valid_class</span> <span class="ow">in</span> <span class="n">valid_classes_coercible</span><span class="p">:</span>
</span><span id="attempt_convert_item-1340"><a href="#attempt_convert_item-1340"><span class="linenos">1340</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="attempt_convert_item-1341"><a href="#attempt_convert_item-1341"><span class="linenos">1341</span></a>            <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">valid_class</span><span class="p">,</span> <span class="n">OpenApiModel</span><span class="p">):</span>
</span><span id="attempt_convert_item-1342"><a href="#attempt_convert_item-1342"><span class="linenos">1342</span></a>                <span class="k">return</span> <span class="n">deserialize_model</span><span class="p">(</span>
</span><span id="attempt_convert_item-1343"><a href="#attempt_convert_item-1343"><span class="linenos">1343</span></a>                    <span class="n">input_value</span><span class="p">,</span> <span class="n">valid_class</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">,</span> <span class="n">check_type</span><span class="p">,</span> <span class="n">configuration</span><span class="p">,</span> <span class="n">spec_property_naming</span>
</span><span id="attempt_convert_item-1344"><a href="#attempt_convert_item-1344"><span class="linenos">1344</span></a>                <span class="p">)</span>
</span><span id="attempt_convert_item-1345"><a href="#attempt_convert_item-1345"><span class="linenos">1345</span></a>            <span class="k">elif</span> <span class="n">valid_class</span> <span class="o">==</span> <span class="n">file_type</span><span class="p">:</span>
</span><span id="attempt_convert_item-1346"><a href="#attempt_convert_item-1346"><span class="linenos">1346</span></a>                <span class="k">return</span> <span class="n">deserialize_file</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="n">configuration</span><span class="p">)</span>
</span><span id="attempt_convert_item-1347"><a href="#attempt_convert_item-1347"><span class="linenos">1347</span></a>            <span class="k">return</span> <span class="n">deserialize_primitive</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="n">valid_class</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">)</span>
</span><span id="attempt_convert_item-1348"><a href="#attempt_convert_item-1348"><span class="linenos">1348</span></a>        <span class="k">except</span> <span class="p">(</span><span class="n">ApiTypeError</span><span class="p">,</span> <span class="n">ApiValueError</span><span class="p">,</span> <span class="n">ApiKeyError</span><span class="p">)</span> <span class="k">as</span> <span class="n">conversion_exc</span><span class="p">:</span>
</span><span id="attempt_convert_item-1349"><a href="#attempt_convert_item-1349"><span class="linenos">1349</span></a>            <span class="k">if</span> <span class="n">must_convert</span><span class="p">:</span>
</span><span id="attempt_convert_item-1350"><a href="#attempt_convert_item-1350"><span class="linenos">1350</span></a>                <span class="k">raise</span> <span class="n">conversion_exc</span>
</span><span id="attempt_convert_item-1351"><a href="#attempt_convert_item-1351"><span class="linenos">1351</span></a>            <span class="c1"># if we have conversion errors when must_convert == False</span>
</span><span id="attempt_convert_item-1352"><a href="#attempt_convert_item-1352"><span class="linenos">1352</span></a>            <span class="c1"># we ignore the exception and move on to the next class</span>
</span><span id="attempt_convert_item-1353"><a href="#attempt_convert_item-1353"><span class="linenos">1353</span></a>            <span class="k">continue</span>
</span><span id="attempt_convert_item-1354"><a href="#attempt_convert_item-1354"><span class="linenos">1354</span></a>    <span class="c1"># we were unable to convert, must_convert == False</span>
</span><span id="attempt_convert_item-1355"><a href="#attempt_convert_item-1355"><span class="linenos">1355</span></a>    <span class="k">return</span> <span class="n">input_value</span>
</span></pre></div>


            <div class="docstring"><h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>input_value (any):</strong>  the data to convert</li>
<li><strong>valid_classes (any):</strong>  the classes that are valid</li>
<li><strong>path_to_item (list):</strong>  the path to the item to convert</li>
<li><strong>configuration (Configuration):</strong>  the instance to use to convert files</li>
<li><strong>spec_property_naming (bool):</strong>  True if the variable names in the input
data are serialized names as specified in the OpenAPI document.
False if the variables names in the input data are python
variable names in PEP-8 snake case.</li>
<li><strong>key_type (bool):</strong>  if True we need to convert a key type (not supported)</li>
<li><strong>must_convert (bool):</strong>  if True we must convert</li>
<li><strong>check_type (bool):</strong>  if True we check the type or the returned data in
ModelComposed/ModelNormal/ModelSimple instances</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>instance (any) the fixed item</p>
</blockquote>

<h6 id="raises">Raises:</h6>

<ul>
<li>ApiTypeError</li>
<li>ApiValueError</li>
<li>ApiKeyError</li>
</ul>
</div>


                </section>
                <section id="is_type_nullable">
                            <input id="is_type_nullable-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_type_nullable</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">input_type</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="is_type_nullable-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#is_type_nullable"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="is_type_nullable-1358"><a href="#is_type_nullable-1358"><span class="linenos">1358</span></a><span class="k">def</span> <span class="nf">is_type_nullable</span><span class="p">(</span><span class="n">input_type</span><span class="p">):</span>
</span><span id="is_type_nullable-1359"><a href="#is_type_nullable-1359"><span class="linenos">1359</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="is_type_nullable-1360"><a href="#is_type_nullable-1360"><span class="linenos">1360</span></a><span class="sd">    Returns true if None is an allowed value for the specified input_type.</span>
</span><span id="is_type_nullable-1361"><a href="#is_type_nullable-1361"><span class="linenos">1361</span></a>
</span><span id="is_type_nullable-1362"><a href="#is_type_nullable-1362"><span class="linenos">1362</span></a><span class="sd">    A type is nullable if at least one of the following conditions is true:</span>
</span><span id="is_type_nullable-1363"><a href="#is_type_nullable-1363"><span class="linenos">1363</span></a><span class="sd">    1. The OAS &#39;nullable&#39; attribute has been specified,</span>
</span><span id="is_type_nullable-1364"><a href="#is_type_nullable-1364"><span class="linenos">1364</span></a><span class="sd">    1. The type is the &#39;null&#39; type,</span>
</span><span id="is_type_nullable-1365"><a href="#is_type_nullable-1365"><span class="linenos">1365</span></a><span class="sd">    1. The type is a anyOf/oneOf composed schema, and a child schema is</span>
</span><span id="is_type_nullable-1366"><a href="#is_type_nullable-1366"><span class="linenos">1366</span></a><span class="sd">       the &#39;null&#39; type.</span>
</span><span id="is_type_nullable-1367"><a href="#is_type_nullable-1367"><span class="linenos">1367</span></a><span class="sd">    Args:</span>
</span><span id="is_type_nullable-1368"><a href="#is_type_nullable-1368"><span class="linenos">1368</span></a><span class="sd">        input_type (type): the class of the input_value that we are</span>
</span><span id="is_type_nullable-1369"><a href="#is_type_nullable-1369"><span class="linenos">1369</span></a><span class="sd">            checking</span>
</span><span id="is_type_nullable-1370"><a href="#is_type_nullable-1370"><span class="linenos">1370</span></a><span class="sd">    Returns:</span>
</span><span id="is_type_nullable-1371"><a href="#is_type_nullable-1371"><span class="linenos">1371</span></a><span class="sd">        bool</span>
</span><span id="is_type_nullable-1372"><a href="#is_type_nullable-1372"><span class="linenos">1372</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="is_type_nullable-1373"><a href="#is_type_nullable-1373"><span class="linenos">1373</span></a>    <span class="k">if</span> <span class="n">input_type</span> <span class="ow">is</span> <span class="n">none_type</span><span class="p">:</span>
</span><span id="is_type_nullable-1374"><a href="#is_type_nullable-1374"><span class="linenos">1374</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="is_type_nullable-1375"><a href="#is_type_nullable-1375"><span class="linenos">1375</span></a>    <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">input_type</span><span class="p">,</span> <span class="n">OpenApiModel</span><span class="p">)</span> <span class="ow">and</span> <span class="n">input_type</span><span class="o">.</span><span class="n">_nullable</span><span class="p">:</span>
</span><span id="is_type_nullable-1376"><a href="#is_type_nullable-1376"><span class="linenos">1376</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="is_type_nullable-1377"><a href="#is_type_nullable-1377"><span class="linenos">1377</span></a>    <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">input_type</span><span class="p">,</span> <span class="n">ModelComposed</span><span class="p">):</span>
</span><span id="is_type_nullable-1378"><a href="#is_type_nullable-1378"><span class="linenos">1378</span></a>        <span class="c1"># If oneOf/anyOf, check if the &#39;null&#39; type is one of the allowed types.</span>
</span><span id="is_type_nullable-1379"><a href="#is_type_nullable-1379"><span class="linenos">1379</span></a>        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">input_type</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;oneOf&quot;</span><span class="p">,</span> <span class="p">()):</span>
</span><span id="is_type_nullable-1380"><a href="#is_type_nullable-1380"><span class="linenos">1380</span></a>            <span class="k">if</span> <span class="n">is_type_nullable</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
</span><span id="is_type_nullable-1381"><a href="#is_type_nullable-1381"><span class="linenos">1381</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="is_type_nullable-1382"><a href="#is_type_nullable-1382"><span class="linenos">1382</span></a>        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">input_type</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;anyOf&quot;</span><span class="p">,</span> <span class="p">()):</span>
</span><span id="is_type_nullable-1383"><a href="#is_type_nullable-1383"><span class="linenos">1383</span></a>            <span class="k">if</span> <span class="n">is_type_nullable</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
</span><span id="is_type_nullable-1384"><a href="#is_type_nullable-1384"><span class="linenos">1384</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="is_type_nullable-1385"><a href="#is_type_nullable-1385"><span class="linenos">1385</span></a>    <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Returns true if None is an allowed value for the specified input_type.</p>

<p>A type is nullable if at least one of the following conditions is true:</p>

<ol>
<li>The OAS 'nullable' attribute has been specified,</li>
<li>The type is the 'null' type,</li>
<li>The type is a anyOf/oneOf composed schema, and a child schema is
the 'null' type.</li>
</ol>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>input_type (type):</strong>  the class of the input_value that we are
checking</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>bool</p>
</blockquote>
</div>


                </section>
                <section id="is_valid_type">
                            <input id="is_valid_type-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_valid_type</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">input_class_simple</span>, </span><span class="param"><span class="n">valid_classes</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="is_valid_type-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#is_valid_type"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="is_valid_type-1388"><a href="#is_valid_type-1388"><span class="linenos">1388</span></a><span class="k">def</span> <span class="nf">is_valid_type</span><span class="p">(</span><span class="n">input_class_simple</span><span class="p">,</span> <span class="n">valid_classes</span><span class="p">):</span>
</span><span id="is_valid_type-1389"><a href="#is_valid_type-1389"><span class="linenos">1389</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="is_valid_type-1390"><a href="#is_valid_type-1390"><span class="linenos">1390</span></a><span class="sd">    Args:</span>
</span><span id="is_valid_type-1391"><a href="#is_valid_type-1391"><span class="linenos">1391</span></a><span class="sd">        input_class_simple (class): the class of the input_value that we are</span>
</span><span id="is_valid_type-1392"><a href="#is_valid_type-1392"><span class="linenos">1392</span></a><span class="sd">            checking</span>
</span><span id="is_valid_type-1393"><a href="#is_valid_type-1393"><span class="linenos">1393</span></a><span class="sd">        valid_classes (tuple): the valid classes that the current item</span>
</span><span id="is_valid_type-1394"><a href="#is_valid_type-1394"><span class="linenos">1394</span></a><span class="sd">            should be</span>
</span><span id="is_valid_type-1395"><a href="#is_valid_type-1395"><span class="linenos">1395</span></a><span class="sd">    Returns:</span>
</span><span id="is_valid_type-1396"><a href="#is_valid_type-1396"><span class="linenos">1396</span></a><span class="sd">        bool</span>
</span><span id="is_valid_type-1397"><a href="#is_valid_type-1397"><span class="linenos">1397</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="is_valid_type-1398"><a href="#is_valid_type-1398"><span class="linenos">1398</span></a>    <span class="n">valid_type</span> <span class="o">=</span> <span class="n">input_class_simple</span> <span class="ow">in</span> <span class="n">valid_classes</span>
</span><span id="is_valid_type-1399"><a href="#is_valid_type-1399"><span class="linenos">1399</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">valid_type</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">issubclass</span><span class="p">(</span><span class="n">input_class_simple</span><span class="p">,</span> <span class="n">OpenApiModel</span><span class="p">)</span> <span class="ow">or</span> <span class="n">input_class_simple</span> <span class="ow">is</span> <span class="n">none_type</span><span class="p">):</span>
</span><span id="is_valid_type-1400"><a href="#is_valid_type-1400"><span class="linenos">1400</span></a>        <span class="k">for</span> <span class="n">valid_class</span> <span class="ow">in</span> <span class="n">valid_classes</span><span class="p">:</span>
</span><span id="is_valid_type-1401"><a href="#is_valid_type-1401"><span class="linenos">1401</span></a>            <span class="k">if</span> <span class="n">input_class_simple</span> <span class="ow">is</span> <span class="n">none_type</span> <span class="ow">and</span> <span class="n">is_type_nullable</span><span class="p">(</span><span class="n">valid_class</span><span class="p">):</span>
</span><span id="is_valid_type-1402"><a href="#is_valid_type-1402"><span class="linenos">1402</span></a>                <span class="c1"># Schema is oneOf/anyOf and the &#39;null&#39; type is one of the allowed types.</span>
</span><span id="is_valid_type-1403"><a href="#is_valid_type-1403"><span class="linenos">1403</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="is_valid_type-1404"><a href="#is_valid_type-1404"><span class="linenos">1404</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">issubclass</span><span class="p">(</span><span class="n">valid_class</span><span class="p">,</span> <span class="n">OpenApiModel</span><span class="p">)</span> <span class="ow">and</span> <span class="n">valid_class</span><span class="o">.</span><span class="n">discriminator</span><span class="p">):</span>
</span><span id="is_valid_type-1405"><a href="#is_valid_type-1405"><span class="linenos">1405</span></a>                <span class="k">continue</span>
</span><span id="is_valid_type-1406"><a href="#is_valid_type-1406"><span class="linenos">1406</span></a>            <span class="n">discr_propertyname_py</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">valid_class</span><span class="o">.</span><span class="n">discriminator</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="is_valid_type-1407"><a href="#is_valid_type-1407"><span class="linenos">1407</span></a>            <span class="n">discriminator_classes</span> <span class="o">=</span> <span class="n">valid_class</span><span class="o">.</span><span class="n">discriminator</span><span class="p">[</span><span class="n">discr_propertyname_py</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</span><span id="is_valid_type-1408"><a href="#is_valid_type-1408"><span class="linenos">1408</span></a>            <span class="n">valid_type</span> <span class="o">=</span> <span class="n">is_valid_type</span><span class="p">(</span><span class="n">input_class_simple</span><span class="p">,</span> <span class="n">discriminator_classes</span><span class="p">)</span>
</span><span id="is_valid_type-1409"><a href="#is_valid_type-1409"><span class="linenos">1409</span></a>            <span class="k">if</span> <span class="n">valid_type</span><span class="p">:</span>
</span><span id="is_valid_type-1410"><a href="#is_valid_type-1410"><span class="linenos">1410</span></a>                <span class="k">return</span> <span class="kc">True</span>
</span><span id="is_valid_type-1411"><a href="#is_valid_type-1411"><span class="linenos">1411</span></a>    <span class="k">return</span> <span class="n">valid_type</span>
</span></pre></div>


            <div class="docstring"><h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>input_class_simple (class):</strong>  the class of the input_value that we are
checking</li>
<li><strong>valid_classes (tuple):</strong>  the valid classes that the current item
should be</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>bool</p>
</blockquote>
</div>


                </section>
                <section id="validate_and_convert_types">
                            <input id="validate_and_convert_types-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">validate_and_convert_types</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">input_value</span>,</span><span class="param">	<span class="n">required_types_mixed</span>,</span><span class="param">	<span class="n">path_to_item</span>,</span><span class="param">	<span class="n">spec_property_naming</span>,</span><span class="param">	<span class="n">_check_type</span>,</span><span class="param">	<span class="n">configuration</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="validate_and_convert_types-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#validate_and_convert_types"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="validate_and_convert_types-1414"><a href="#validate_and_convert_types-1414"><span class="linenos">1414</span></a><span class="k">def</span> <span class="nf">validate_and_convert_types</span><span class="p">(</span>
</span><span id="validate_and_convert_types-1415"><a href="#validate_and_convert_types-1415"><span class="linenos">1415</span></a>    <span class="n">input_value</span><span class="p">,</span> <span class="n">required_types_mixed</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">,</span> <span class="n">spec_property_naming</span><span class="p">,</span> <span class="n">_check_type</span><span class="p">,</span> <span class="n">configuration</span><span class="o">=</span><span class="kc">None</span>
</span><span id="validate_and_convert_types-1416"><a href="#validate_and_convert_types-1416"><span class="linenos">1416</span></a><span class="p">):</span>
</span><span id="validate_and_convert_types-1417"><a href="#validate_and_convert_types-1417"><span class="linenos">1417</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Raises a TypeError is there is a problem, otherwise returns value</span>
</span><span id="validate_and_convert_types-1418"><a href="#validate_and_convert_types-1418"><span class="linenos">1418</span></a>
</span><span id="validate_and_convert_types-1419"><a href="#validate_and_convert_types-1419"><span class="linenos">1419</span></a><span class="sd">    Args:</span>
</span><span id="validate_and_convert_types-1420"><a href="#validate_and_convert_types-1420"><span class="linenos">1420</span></a><span class="sd">        input_value (any): the data to validate/convert</span>
</span><span id="validate_and_convert_types-1421"><a href="#validate_and_convert_types-1421"><span class="linenos">1421</span></a><span class="sd">        required_types_mixed (list/dict/tuple): A list of</span>
</span><span id="validate_and_convert_types-1422"><a href="#validate_and_convert_types-1422"><span class="linenos">1422</span></a><span class="sd">            valid classes, or a list tuples of valid classes, or a dict where</span>
</span><span id="validate_and_convert_types-1423"><a href="#validate_and_convert_types-1423"><span class="linenos">1423</span></a><span class="sd">            the value is a tuple of value classes</span>
</span><span id="validate_and_convert_types-1424"><a href="#validate_and_convert_types-1424"><span class="linenos">1424</span></a><span class="sd">        path_to_item: (list) the path to the data being validated</span>
</span><span id="validate_and_convert_types-1425"><a href="#validate_and_convert_types-1425"><span class="linenos">1425</span></a><span class="sd">            this stores a list of keys or indices to get to the data being</span>
</span><span id="validate_and_convert_types-1426"><a href="#validate_and_convert_types-1426"><span class="linenos">1426</span></a><span class="sd">            validated</span>
</span><span id="validate_and_convert_types-1427"><a href="#validate_and_convert_types-1427"><span class="linenos">1427</span></a><span class="sd">        spec_property_naming (bool): True if the variable names in the input</span>
</span><span id="validate_and_convert_types-1428"><a href="#validate_and_convert_types-1428"><span class="linenos">1428</span></a><span class="sd">            data are serialized names as specified in the OpenAPI document.</span>
</span><span id="validate_and_convert_types-1429"><a href="#validate_and_convert_types-1429"><span class="linenos">1429</span></a><span class="sd">            False if the variables names in the input data are python</span>
</span><span id="validate_and_convert_types-1430"><a href="#validate_and_convert_types-1430"><span class="linenos">1430</span></a><span class="sd">            variable names in PEP-8 snake case.</span>
</span><span id="validate_and_convert_types-1431"><a href="#validate_and_convert_types-1431"><span class="linenos">1431</span></a><span class="sd">        _check_type: (boolean) if true, type will be checked and conversion</span>
</span><span id="validate_and_convert_types-1432"><a href="#validate_and_convert_types-1432"><span class="linenos">1432</span></a><span class="sd">            will be attempted.</span>
</span><span id="validate_and_convert_types-1433"><a href="#validate_and_convert_types-1433"><span class="linenos">1433</span></a><span class="sd">        configuration: (Configuration): the configuration class to use</span>
</span><span id="validate_and_convert_types-1434"><a href="#validate_and_convert_types-1434"><span class="linenos">1434</span></a><span class="sd">            when converting file_type items.</span>
</span><span id="validate_and_convert_types-1435"><a href="#validate_and_convert_types-1435"><span class="linenos">1435</span></a><span class="sd">            If passed, conversion will be attempted when possible</span>
</span><span id="validate_and_convert_types-1436"><a href="#validate_and_convert_types-1436"><span class="linenos">1436</span></a><span class="sd">            If not passed, no conversions will be attempted and</span>
</span><span id="validate_and_convert_types-1437"><a href="#validate_and_convert_types-1437"><span class="linenos">1437</span></a><span class="sd">            exceptions will be raised</span>
</span><span id="validate_and_convert_types-1438"><a href="#validate_and_convert_types-1438"><span class="linenos">1438</span></a>
</span><span id="validate_and_convert_types-1439"><a href="#validate_and_convert_types-1439"><span class="linenos">1439</span></a><span class="sd">    Returns:</span>
</span><span id="validate_and_convert_types-1440"><a href="#validate_and_convert_types-1440"><span class="linenos">1440</span></a><span class="sd">        the correctly typed value</span>
</span><span id="validate_and_convert_types-1441"><a href="#validate_and_convert_types-1441"><span class="linenos">1441</span></a>
</span><span id="validate_and_convert_types-1442"><a href="#validate_and_convert_types-1442"><span class="linenos">1442</span></a><span class="sd">    Raises:</span>
</span><span id="validate_and_convert_types-1443"><a href="#validate_and_convert_types-1443"><span class="linenos">1443</span></a><span class="sd">        ApiTypeError</span>
</span><span id="validate_and_convert_types-1444"><a href="#validate_and_convert_types-1444"><span class="linenos">1444</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="validate_and_convert_types-1445"><a href="#validate_and_convert_types-1445"><span class="linenos">1445</span></a>    <span class="n">results</span> <span class="o">=</span> <span class="n">get_required_type_classes</span><span class="p">(</span><span class="n">required_types_mixed</span><span class="p">,</span> <span class="n">spec_property_naming</span><span class="p">)</span>
</span><span id="validate_and_convert_types-1446"><a href="#validate_and_convert_types-1446"><span class="linenos">1446</span></a>    <span class="n">valid_classes</span><span class="p">,</span> <span class="n">child_req_types_by_current_type</span> <span class="o">=</span> <span class="n">results</span>
</span><span id="validate_and_convert_types-1447"><a href="#validate_and_convert_types-1447"><span class="linenos">1447</span></a>
</span><span id="validate_and_convert_types-1448"><a href="#validate_and_convert_types-1448"><span class="linenos">1448</span></a>    <span class="n">input_class_simple</span> <span class="o">=</span> <span class="n">get_simple_class</span><span class="p">(</span><span class="n">input_value</span><span class="p">)</span>
</span><span id="validate_and_convert_types-1449"><a href="#validate_and_convert_types-1449"><span class="linenos">1449</span></a>    <span class="n">valid_type</span> <span class="o">=</span> <span class="n">is_valid_type</span><span class="p">(</span><span class="n">input_class_simple</span><span class="p">,</span> <span class="n">valid_classes</span><span class="p">)</span>
</span><span id="validate_and_convert_types-1450"><a href="#validate_and_convert_types-1450"><span class="linenos">1450</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="n">valid_type</span><span class="p">:</span>
</span><span id="validate_and_convert_types-1451"><a href="#validate_and_convert_types-1451"><span class="linenos">1451</span></a>        <span class="k">if</span> <span class="n">configuration</span><span class="p">:</span>
</span><span id="validate_and_convert_types-1452"><a href="#validate_and_convert_types-1452"><span class="linenos">1452</span></a>            <span class="c1"># if input_value is not valid_type try to convert it</span>
</span><span id="validate_and_convert_types-1453"><a href="#validate_and_convert_types-1453"><span class="linenos">1453</span></a>            <span class="n">converted_instance</span> <span class="o">=</span> <span class="n">attempt_convert_item</span><span class="p">(</span>
</span><span id="validate_and_convert_types-1454"><a href="#validate_and_convert_types-1454"><span class="linenos">1454</span></a>                <span class="n">input_value</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1455"><a href="#validate_and_convert_types-1455"><span class="linenos">1455</span></a>                <span class="n">valid_classes</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1456"><a href="#validate_and_convert_types-1456"><span class="linenos">1456</span></a>                <span class="n">path_to_item</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1457"><a href="#validate_and_convert_types-1457"><span class="linenos">1457</span></a>                <span class="n">configuration</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1458"><a href="#validate_and_convert_types-1458"><span class="linenos">1458</span></a>                <span class="n">spec_property_naming</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1459"><a href="#validate_and_convert_types-1459"><span class="linenos">1459</span></a>                <span class="n">key_type</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1460"><a href="#validate_and_convert_types-1460"><span class="linenos">1460</span></a>                <span class="n">must_convert</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1461"><a href="#validate_and_convert_types-1461"><span class="linenos">1461</span></a>                <span class="n">check_type</span><span class="o">=</span><span class="n">_check_type</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1462"><a href="#validate_and_convert_types-1462"><span class="linenos">1462</span></a>            <span class="p">)</span>
</span><span id="validate_and_convert_types-1463"><a href="#validate_and_convert_types-1463"><span class="linenos">1463</span></a>            <span class="k">return</span> <span class="n">converted_instance</span>
</span><span id="validate_and_convert_types-1464"><a href="#validate_and_convert_types-1464"><span class="linenos">1464</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="validate_and_convert_types-1465"><a href="#validate_and_convert_types-1465"><span class="linenos">1465</span></a>            <span class="k">raise</span> <span class="n">get_type_error</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="n">path_to_item</span><span class="p">,</span> <span class="n">valid_classes</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="validate_and_convert_types-1466"><a href="#validate_and_convert_types-1466"><span class="linenos">1466</span></a>
</span><span id="validate_and_convert_types-1467"><a href="#validate_and_convert_types-1467"><span class="linenos">1467</span></a>    <span class="c1"># input_value&#39;s type is in valid_classes</span>
</span><span id="validate_and_convert_types-1468"><a href="#validate_and_convert_types-1468"><span class="linenos">1468</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">valid_classes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">configuration</span><span class="p">:</span>
</span><span id="validate_and_convert_types-1469"><a href="#validate_and_convert_types-1469"><span class="linenos">1469</span></a>        <span class="c1"># there are valid classes which are not the current class</span>
</span><span id="validate_and_convert_types-1470"><a href="#validate_and_convert_types-1470"><span class="linenos">1470</span></a>        <span class="n">valid_classes_coercible</span> <span class="o">=</span> <span class="n">remove_uncoercible</span><span class="p">(</span>
</span><span id="validate_and_convert_types-1471"><a href="#validate_and_convert_types-1471"><span class="linenos">1471</span></a>            <span class="n">valid_classes</span><span class="p">,</span> <span class="n">input_value</span><span class="p">,</span> <span class="n">spec_property_naming</span><span class="p">,</span> <span class="n">must_convert</span><span class="o">=</span><span class="kc">False</span>
</span><span id="validate_and_convert_types-1472"><a href="#validate_and_convert_types-1472"><span class="linenos">1472</span></a>        <span class="p">)</span>
</span><span id="validate_and_convert_types-1473"><a href="#validate_and_convert_types-1473"><span class="linenos">1473</span></a>        <span class="k">if</span> <span class="n">valid_classes_coercible</span><span class="p">:</span>
</span><span id="validate_and_convert_types-1474"><a href="#validate_and_convert_types-1474"><span class="linenos">1474</span></a>            <span class="n">converted_instance</span> <span class="o">=</span> <span class="n">attempt_convert_item</span><span class="p">(</span>
</span><span id="validate_and_convert_types-1475"><a href="#validate_and_convert_types-1475"><span class="linenos">1475</span></a>                <span class="n">input_value</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1476"><a href="#validate_and_convert_types-1476"><span class="linenos">1476</span></a>                <span class="n">valid_classes_coercible</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1477"><a href="#validate_and_convert_types-1477"><span class="linenos">1477</span></a>                <span class="n">path_to_item</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1478"><a href="#validate_and_convert_types-1478"><span class="linenos">1478</span></a>                <span class="n">configuration</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1479"><a href="#validate_and_convert_types-1479"><span class="linenos">1479</span></a>                <span class="n">spec_property_naming</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1480"><a href="#validate_and_convert_types-1480"><span class="linenos">1480</span></a>                <span class="n">key_type</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1481"><a href="#validate_and_convert_types-1481"><span class="linenos">1481</span></a>                <span class="n">must_convert</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1482"><a href="#validate_and_convert_types-1482"><span class="linenos">1482</span></a>                <span class="n">check_type</span><span class="o">=</span><span class="n">_check_type</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1483"><a href="#validate_and_convert_types-1483"><span class="linenos">1483</span></a>            <span class="p">)</span>
</span><span id="validate_and_convert_types-1484"><a href="#validate_and_convert_types-1484"><span class="linenos">1484</span></a>            <span class="k">return</span> <span class="n">converted_instance</span>
</span><span id="validate_and_convert_types-1485"><a href="#validate_and_convert_types-1485"><span class="linenos">1485</span></a>
</span><span id="validate_and_convert_types-1486"><a href="#validate_and_convert_types-1486"><span class="linenos">1486</span></a>    <span class="k">if</span> <span class="n">child_req_types_by_current_type</span> <span class="o">==</span> <span class="p">{}:</span>
</span><span id="validate_and_convert_types-1487"><a href="#validate_and_convert_types-1487"><span class="linenos">1487</span></a>        <span class="c1"># all types are of the required types and there are no more inner</span>
</span><span id="validate_and_convert_types-1488"><a href="#validate_and_convert_types-1488"><span class="linenos">1488</span></a>        <span class="c1"># variables left to look at</span>
</span><span id="validate_and_convert_types-1489"><a href="#validate_and_convert_types-1489"><span class="linenos">1489</span></a>        <span class="k">return</span> <span class="n">input_value</span>
</span><span id="validate_and_convert_types-1490"><a href="#validate_and_convert_types-1490"><span class="linenos">1490</span></a>    <span class="n">inner_required_types</span> <span class="o">=</span> <span class="n">child_req_types_by_current_type</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">input_value</span><span class="p">))</span>
</span><span id="validate_and_convert_types-1491"><a href="#validate_and_convert_types-1491"><span class="linenos">1491</span></a>    <span class="k">if</span> <span class="n">inner_required_types</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="validate_and_convert_types-1492"><a href="#validate_and_convert_types-1492"><span class="linenos">1492</span></a>        <span class="c1"># for this type, there are not more inner variables left to look at</span>
</span><span id="validate_and_convert_types-1493"><a href="#validate_and_convert_types-1493"><span class="linenos">1493</span></a>        <span class="k">return</span> <span class="n">input_value</span>
</span><span id="validate_and_convert_types-1494"><a href="#validate_and_convert_types-1494"><span class="linenos">1494</span></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="validate_and_convert_types-1495"><a href="#validate_and_convert_types-1495"><span class="linenos">1495</span></a>        <span class="k">if</span> <span class="n">input_value</span> <span class="o">==</span> <span class="p">[]:</span>
</span><span id="validate_and_convert_types-1496"><a href="#validate_and_convert_types-1496"><span class="linenos">1496</span></a>            <span class="c1"># allow an empty list</span>
</span><span id="validate_and_convert_types-1497"><a href="#validate_and_convert_types-1497"><span class="linenos">1497</span></a>            <span class="k">return</span> <span class="n">input_value</span>
</span><span id="validate_and_convert_types-1498"><a href="#validate_and_convert_types-1498"><span class="linenos">1498</span></a>        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">inner_value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">input_value</span><span class="p">):</span>
</span><span id="validate_and_convert_types-1499"><a href="#validate_and_convert_types-1499"><span class="linenos">1499</span></a>            <span class="n">inner_path</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">path_to_item</span><span class="p">)</span>
</span><span id="validate_and_convert_types-1500"><a href="#validate_and_convert_types-1500"><span class="linenos">1500</span></a>            <span class="n">inner_path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
</span><span id="validate_and_convert_types-1501"><a href="#validate_and_convert_types-1501"><span class="linenos">1501</span></a>            <span class="n">input_value</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">validate_and_convert_types</span><span class="p">(</span>
</span><span id="validate_and_convert_types-1502"><a href="#validate_and_convert_types-1502"><span class="linenos">1502</span></a>                <span class="n">inner_value</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1503"><a href="#validate_and_convert_types-1503"><span class="linenos">1503</span></a>                <span class="n">inner_required_types</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1504"><a href="#validate_and_convert_types-1504"><span class="linenos">1504</span></a>                <span class="n">inner_path</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1505"><a href="#validate_and_convert_types-1505"><span class="linenos">1505</span></a>                <span class="n">spec_property_naming</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1506"><a href="#validate_and_convert_types-1506"><span class="linenos">1506</span></a>                <span class="n">_check_type</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1507"><a href="#validate_and_convert_types-1507"><span class="linenos">1507</span></a>                <span class="n">configuration</span><span class="o">=</span><span class="n">configuration</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1508"><a href="#validate_and_convert_types-1508"><span class="linenos">1508</span></a>            <span class="p">)</span>
</span><span id="validate_and_convert_types-1509"><a href="#validate_and_convert_types-1509"><span class="linenos">1509</span></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">input_value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="validate_and_convert_types-1510"><a href="#validate_and_convert_types-1510"><span class="linenos">1510</span></a>        <span class="k">if</span> <span class="n">input_value</span> <span class="o">==</span> <span class="p">{}:</span>
</span><span id="validate_and_convert_types-1511"><a href="#validate_and_convert_types-1511"><span class="linenos">1511</span></a>            <span class="c1"># allow an empty dict</span>
</span><span id="validate_and_convert_types-1512"><a href="#validate_and_convert_types-1512"><span class="linenos">1512</span></a>            <span class="k">return</span> <span class="n">input_value</span>
</span><span id="validate_and_convert_types-1513"><a href="#validate_and_convert_types-1513"><span class="linenos">1513</span></a>        <span class="k">for</span> <span class="n">inner_key</span><span class="p">,</span> <span class="n">inner_val</span> <span class="ow">in</span> <span class="n">input_value</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="validate_and_convert_types-1514"><a href="#validate_and_convert_types-1514"><span class="linenos">1514</span></a>            <span class="n">inner_path</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">path_to_item</span><span class="p">)</span>
</span><span id="validate_and_convert_types-1515"><a href="#validate_and_convert_types-1515"><span class="linenos">1515</span></a>            <span class="n">inner_path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">inner_key</span><span class="p">)</span>
</span><span id="validate_and_convert_types-1516"><a href="#validate_and_convert_types-1516"><span class="linenos">1516</span></a>            <span class="k">if</span> <span class="n">get_simple_class</span><span class="p">(</span><span class="n">inner_key</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="validate_and_convert_types-1517"><a href="#validate_and_convert_types-1517"><span class="linenos">1517</span></a>                <span class="k">raise</span> <span class="n">get_type_error</span><span class="p">(</span><span class="n">inner_key</span><span class="p">,</span> <span class="n">inner_path</span><span class="p">,</span> <span class="n">valid_classes</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="validate_and_convert_types-1518"><a href="#validate_and_convert_types-1518"><span class="linenos">1518</span></a>            <span class="n">input_value</span><span class="p">[</span><span class="n">inner_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">validate_and_convert_types</span><span class="p">(</span>
</span><span id="validate_and_convert_types-1519"><a href="#validate_and_convert_types-1519"><span class="linenos">1519</span></a>                <span class="n">inner_val</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1520"><a href="#validate_and_convert_types-1520"><span class="linenos">1520</span></a>                <span class="n">inner_required_types</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1521"><a href="#validate_and_convert_types-1521"><span class="linenos">1521</span></a>                <span class="n">inner_path</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1522"><a href="#validate_and_convert_types-1522"><span class="linenos">1522</span></a>                <span class="n">spec_property_naming</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1523"><a href="#validate_and_convert_types-1523"><span class="linenos">1523</span></a>                <span class="n">_check_type</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1524"><a href="#validate_and_convert_types-1524"><span class="linenos">1524</span></a>                <span class="n">configuration</span><span class="o">=</span><span class="n">configuration</span><span class="p">,</span>
</span><span id="validate_and_convert_types-1525"><a href="#validate_and_convert_types-1525"><span class="linenos">1525</span></a>            <span class="p">)</span>
</span><span id="validate_and_convert_types-1526"><a href="#validate_and_convert_types-1526"><span class="linenos">1526</span></a>    <span class="k">return</span> <span class="n">input_value</span>
</span></pre></div>


            <div class="docstring"><p>Raises a TypeError is there is a problem, otherwise returns value</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>input_value (any):</strong>  the data to validate/convert</li>
<li><strong>required_types_mixed (list/dict/tuple):</strong>  A list of
valid classes, or a list tuples of valid classes, or a dict where
the value is a tuple of value classes</li>
<li><strong>path_to_item:</strong>  (list) the path to the data being validated
this stores a list of keys or indices to get to the data being
validated</li>
<li><strong>spec_property_naming (bool):</strong>  True if the variable names in the input
data are serialized names as specified in the OpenAPI document.
False if the variables names in the input data are python
variable names in PEP-8 snake case.</li>
<li><strong>_check_type:</strong>  (boolean) if true, type will be checked and conversion
will be attempted.</li>
<li><strong>configuration:</strong>  (Configuration): the configuration class to use
when converting file_type items.
If passed, conversion will be attempted when possible
If not passed, no conversions will be attempted and
exceptions will be raised</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>the correctly typed value</p>
</blockquote>

<h6 id="raises">Raises:</h6>

<ul>
<li>ApiTypeError</li>
</ul>
</div>


                </section>
                <section id="model_to_dict">
                            <input id="model_to_dict-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">model_to_dict</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">model_instance</span>, </span><span class="param"><span class="n">serialize</span><span class="o">=</span><span class="kc">True</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="model_to_dict-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#model_to_dict"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="model_to_dict-1529"><a href="#model_to_dict-1529"><span class="linenos">1529</span></a><span class="k">def</span> <span class="nf">model_to_dict</span><span class="p">(</span><span class="n">model_instance</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="model_to_dict-1530"><a href="#model_to_dict-1530"><span class="linenos">1530</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the model properties as a dict</span>
</span><span id="model_to_dict-1531"><a href="#model_to_dict-1531"><span class="linenos">1531</span></a>
</span><span id="model_to_dict-1532"><a href="#model_to_dict-1532"><span class="linenos">1532</span></a><span class="sd">    Args:</span>
</span><span id="model_to_dict-1533"><a href="#model_to_dict-1533"><span class="linenos">1533</span></a><span class="sd">        model_instance (one of your model instances): the model instance that</span>
</span><span id="model_to_dict-1534"><a href="#model_to_dict-1534"><span class="linenos">1534</span></a><span class="sd">            will be converted to a dict.</span>
</span><span id="model_to_dict-1535"><a href="#model_to_dict-1535"><span class="linenos">1535</span></a>
</span><span id="model_to_dict-1536"><a href="#model_to_dict-1536"><span class="linenos">1536</span></a><span class="sd">    Keyword Args:</span>
</span><span id="model_to_dict-1537"><a href="#model_to_dict-1537"><span class="linenos">1537</span></a><span class="sd">        serialize (bool): if True, the keys in the dict will be values from</span>
</span><span id="model_to_dict-1538"><a href="#model_to_dict-1538"><span class="linenos">1538</span></a><span class="sd">            attribute_map</span>
</span><span id="model_to_dict-1539"><a href="#model_to_dict-1539"><span class="linenos">1539</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="model_to_dict-1540"><a href="#model_to_dict-1540"><span class="linenos">1540</span></a>    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="model_to_dict-1541"><a href="#model_to_dict-1541"><span class="linenos">1541</span></a>
</span><span id="model_to_dict-1542"><a href="#model_to_dict-1542"><span class="linenos">1542</span></a>    <span class="n">model_instances</span> <span class="o">=</span> <span class="p">[</span><span class="n">model_instance</span><span class="p">]</span>
</span><span id="model_to_dict-1543"><a href="#model_to_dict-1543"><span class="linenos">1543</span></a>    <span class="k">if</span> <span class="n">model_instance</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">:</span>
</span><span id="model_to_dict-1544"><a href="#model_to_dict-1544"><span class="linenos">1544</span></a>        <span class="n">model_instances</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">model_instance</span><span class="o">.</span><span class="n">_composed_instances</span><span class="p">)</span>
</span><span id="model_to_dict-1545"><a href="#model_to_dict-1545"><span class="linenos">1545</span></a>    <span class="n">seen_json_attribute_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="model_to_dict-1546"><a href="#model_to_dict-1546"><span class="linenos">1546</span></a>    <span class="n">used_fallback_python_attribute_names</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="model_to_dict-1547"><a href="#model_to_dict-1547"><span class="linenos">1547</span></a>    <span class="n">py_to_json_map</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="model_to_dict-1548"><a href="#model_to_dict-1548"><span class="linenos">1548</span></a>    <span class="k">for</span> <span class="n">model_instance</span> <span class="ow">in</span> <span class="n">model_instances</span><span class="p">:</span>
</span><span id="model_to_dict-1549"><a href="#model_to_dict-1549"><span class="linenos">1549</span></a>        <span class="k">for</span> <span class="n">attr</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">model_instance</span><span class="o">.</span><span class="n">_data_store</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="model_to_dict-1550"><a href="#model_to_dict-1550"><span class="linenos">1550</span></a>            <span class="k">if</span> <span class="n">serialize</span><span class="p">:</span>
</span><span id="model_to_dict-1551"><a href="#model_to_dict-1551"><span class="linenos">1551</span></a>                <span class="c1"># we use get here because additional property key names do not</span>
</span><span id="model_to_dict-1552"><a href="#model_to_dict-1552"><span class="linenos">1552</span></a>                <span class="c1"># exist in attribute_map</span>
</span><span id="model_to_dict-1553"><a href="#model_to_dict-1553"><span class="linenos">1553</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="model_to_dict-1554"><a href="#model_to_dict-1554"><span class="linenos">1554</span></a>                    <span class="n">attr</span> <span class="o">=</span> <span class="n">model_instance</span><span class="o">.</span><span class="n">attribute_map</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span>
</span><span id="model_to_dict-1555"><a href="#model_to_dict-1555"><span class="linenos">1555</span></a>                    <span class="n">py_to_json_map</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">model_instance</span><span class="o">.</span><span class="n">attribute_map</span><span class="p">)</span>
</span><span id="model_to_dict-1556"><a href="#model_to_dict-1556"><span class="linenos">1556</span></a>                    <span class="n">seen_json_attribute_names</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
</span><span id="model_to_dict-1557"><a href="#model_to_dict-1557"><span class="linenos">1557</span></a>                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
</span><span id="model_to_dict-1558"><a href="#model_to_dict-1558"><span class="linenos">1558</span></a>                    <span class="n">used_fallback_python_attribute_names</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span>
</span><span id="model_to_dict-1559"><a href="#model_to_dict-1559"><span class="linenos">1559</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="model_to_dict-1560"><a href="#model_to_dict-1560"><span class="linenos">1560</span></a>                <span class="k">if</span> <span class="ow">not</span> <span class="n">value</span><span class="p">:</span>
</span><span id="model_to_dict-1561"><a href="#model_to_dict-1561"><span class="linenos">1561</span></a>                    <span class="c1"># empty list or None</span>
</span><span id="model_to_dict-1562"><a href="#model_to_dict-1562"><span class="linenos">1562</span></a>                    <span class="n">result</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="model_to_dict-1563"><a href="#model_to_dict-1563"><span class="linenos">1563</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="model_to_dict-1564"><a href="#model_to_dict-1564"><span class="linenos">1564</span></a>                    <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="model_to_dict-1565"><a href="#model_to_dict-1565"><span class="linenos">1565</span></a>                    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
</span><span id="model_to_dict-1566"><a href="#model_to_dict-1566"><span class="linenos">1566</span></a>                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">PRIMITIVE_TYPES</span><span class="p">)</span> <span class="ow">or</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="model_to_dict-1567"><a href="#model_to_dict-1567"><span class="linenos">1567</span></a>                            <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</span><span id="model_to_dict-1568"><a href="#model_to_dict-1568"><span class="linenos">1568</span></a>                        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">):</span>
</span><span id="model_to_dict-1569"><a href="#model_to_dict-1569"><span class="linenos">1569</span></a>                            <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</span><span id="model_to_dict-1570"><a href="#model_to_dict-1570"><span class="linenos">1570</span></a>                        <span class="k">else</span><span class="p">:</span>
</span><span id="model_to_dict-1571"><a href="#model_to_dict-1571"><span class="linenos">1571</span></a>                            <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">model_to_dict</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="n">serialize</span><span class="p">))</span>
</span><span id="model_to_dict-1572"><a href="#model_to_dict-1572"><span class="linenos">1572</span></a>                    <span class="n">result</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="n">res</span>
</span><span id="model_to_dict-1573"><a href="#model_to_dict-1573"><span class="linenos">1573</span></a>            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="model_to_dict-1574"><a href="#model_to_dict-1574"><span class="linenos">1574</span></a>                <span class="n">result</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
</span><span id="model_to_dict-1575"><a href="#model_to_dict-1575"><span class="linenos">1575</span></a>                    <span class="nb">map</span><span class="p">(</span>
</span><span id="model_to_dict-1576"><a href="#model_to_dict-1576"><span class="linenos">1576</span></a>                        <span class="k">lambda</span> <span class="n">item</span><span class="p">:</span> <span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">model_to_dict</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">serialize</span><span class="o">=</span><span class="n">serialize</span><span class="p">))</span>
</span><span id="model_to_dict-1577"><a href="#model_to_dict-1577"><span class="linenos">1577</span></a>                        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;_data_store&quot;</span><span class="p">)</span>
</span><span id="model_to_dict-1578"><a href="#model_to_dict-1578"><span class="linenos">1578</span></a>                        <span class="k">else</span> <span class="n">item</span><span class="p">,</span>
</span><span id="model_to_dict-1579"><a href="#model_to_dict-1579"><span class="linenos">1579</span></a>                        <span class="n">value</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span>
</span><span id="model_to_dict-1580"><a href="#model_to_dict-1580"><span class="linenos">1580</span></a>                    <span class="p">)</span>
</span><span id="model_to_dict-1581"><a href="#model_to_dict-1581"><span class="linenos">1581</span></a>                <span class="p">)</span>
</span><span id="model_to_dict-1582"><a href="#model_to_dict-1582"><span class="linenos">1582</span></a>            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">):</span>
</span><span id="model_to_dict-1583"><a href="#model_to_dict-1583"><span class="linenos">1583</span></a>                <span class="n">result</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">value</span>
</span><span id="model_to_dict-1584"><a href="#model_to_dict-1584"><span class="linenos">1584</span></a>            <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s2">&quot;_data_store&quot;</span><span class="p">):</span>
</span><span id="model_to_dict-1585"><a href="#model_to_dict-1585"><span class="linenos">1585</span></a>                <span class="n">result</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="n">model_to_dict</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="n">serialize</span><span class="p">)</span>
</span><span id="model_to_dict-1586"><a href="#model_to_dict-1586"><span class="linenos">1586</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="model_to_dict-1587"><a href="#model_to_dict-1587"><span class="linenos">1587</span></a>                <span class="n">result</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="model_to_dict-1588"><a href="#model_to_dict-1588"><span class="linenos">1588</span></a>    <span class="k">if</span> <span class="n">serialize</span><span class="p">:</span>
</span><span id="model_to_dict-1589"><a href="#model_to_dict-1589"><span class="linenos">1589</span></a>        <span class="k">for</span> <span class="n">python_key</span> <span class="ow">in</span> <span class="n">used_fallback_python_attribute_names</span><span class="p">:</span>
</span><span id="model_to_dict-1590"><a href="#model_to_dict-1590"><span class="linenos">1590</span></a>            <span class="n">json_key</span> <span class="o">=</span> <span class="n">py_to_json_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">python_key</span><span class="p">)</span>
</span><span id="model_to_dict-1591"><a href="#model_to_dict-1591"><span class="linenos">1591</span></a>            <span class="k">if</span> <span class="n">json_key</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="model_to_dict-1592"><a href="#model_to_dict-1592"><span class="linenos">1592</span></a>                <span class="k">continue</span>
</span><span id="model_to_dict-1593"><a href="#model_to_dict-1593"><span class="linenos">1593</span></a>            <span class="k">if</span> <span class="n">python_key</span> <span class="o">==</span> <span class="n">json_key</span><span class="p">:</span>
</span><span id="model_to_dict-1594"><a href="#model_to_dict-1594"><span class="linenos">1594</span></a>                <span class="k">continue</span>
</span><span id="model_to_dict-1595"><a href="#model_to_dict-1595"><span class="linenos">1595</span></a>            <span class="n">json_key_assigned_no_need_for_python_key</span> <span class="o">=</span> <span class="n">json_key</span> <span class="ow">in</span> <span class="n">seen_json_attribute_names</span>
</span><span id="model_to_dict-1596"><a href="#model_to_dict-1596"><span class="linenos">1596</span></a>            <span class="k">if</span> <span class="n">json_key_assigned_no_need_for_python_key</span><span class="p">:</span>
</span><span id="model_to_dict-1597"><a href="#model_to_dict-1597"><span class="linenos">1597</span></a>                <span class="k">del</span> <span class="n">result</span><span class="p">[</span><span class="n">python_key</span><span class="p">]</span>
</span><span id="model_to_dict-1598"><a href="#model_to_dict-1598"><span class="linenos">1598</span></a>
</span><span id="model_to_dict-1599"><a href="#model_to_dict-1599"><span class="linenos">1599</span></a>    <span class="k">return</span> <span class="n">result</span>
</span></pre></div>


            <div class="docstring"><p>Returns the model properties as a dict</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>model_instance (one of your model instances):</strong>  the model instance that
will be converted to a dict.</li>
</ul>

<h6 id="keyword-args">Keyword Args:</h6>

<blockquote>
  <p>serialize (bool): if True, the keys in the dict will be values from
      attribute_map</p>
</blockquote>
</div>


                </section>
                <section id="type_error_message">
                            <input id="type_error_message-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">type_error_message</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">var_value</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">var_name</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">valid_classes</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">key_type</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="type_error_message-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#type_error_message"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="type_error_message-1602"><a href="#type_error_message-1602"><span class="linenos">1602</span></a><span class="k">def</span> <span class="nf">type_error_message</span><span class="p">(</span><span class="n">var_value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">var_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">valid_classes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">key_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="type_error_message-1603"><a href="#type_error_message-1603"><span class="linenos">1603</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="type_error_message-1604"><a href="#type_error_message-1604"><span class="linenos">1604</span></a><span class="sd">    Keyword Args:</span>
</span><span id="type_error_message-1605"><a href="#type_error_message-1605"><span class="linenos">1605</span></a><span class="sd">        var_value (any): the variable which has the type_error</span>
</span><span id="type_error_message-1606"><a href="#type_error_message-1606"><span class="linenos">1606</span></a><span class="sd">        var_name (str): the name of the variable which has the typ error</span>
</span><span id="type_error_message-1607"><a href="#type_error_message-1607"><span class="linenos">1607</span></a><span class="sd">        valid_classes (tuple): the accepted classes for current_item&#39;s</span>
</span><span id="type_error_message-1608"><a href="#type_error_message-1608"><span class="linenos">1608</span></a><span class="sd">                                  value</span>
</span><span id="type_error_message-1609"><a href="#type_error_message-1609"><span class="linenos">1609</span></a><span class="sd">        key_type (bool): False if our value is a value in a dict</span>
</span><span id="type_error_message-1610"><a href="#type_error_message-1610"><span class="linenos">1610</span></a><span class="sd">                         True if it is a key in a dict</span>
</span><span id="type_error_message-1611"><a href="#type_error_message-1611"><span class="linenos">1611</span></a><span class="sd">                         False if our item is an item in a list</span>
</span><span id="type_error_message-1612"><a href="#type_error_message-1612"><span class="linenos">1612</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="type_error_message-1613"><a href="#type_error_message-1613"><span class="linenos">1613</span></a>    <span class="n">key_or_value</span> <span class="o">=</span> <span class="s2">&quot;value&quot;</span>
</span><span id="type_error_message-1614"><a href="#type_error_message-1614"><span class="linenos">1614</span></a>    <span class="k">if</span> <span class="n">key_type</span><span class="p">:</span>
</span><span id="type_error_message-1615"><a href="#type_error_message-1615"><span class="linenos">1615</span></a>        <span class="n">key_or_value</span> <span class="o">=</span> <span class="s2">&quot;key&quot;</span>
</span><span id="type_error_message-1616"><a href="#type_error_message-1616"><span class="linenos">1616</span></a>    <span class="n">valid_classes_phrase</span> <span class="o">=</span> <span class="n">get_valid_classes_phrase</span><span class="p">(</span><span class="n">valid_classes</span><span class="p">)</span>
</span><span id="type_error_message-1617"><a href="#type_error_message-1617"><span class="linenos">1617</span></a>    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Invalid type for variable &#39;</span><span class="si">{0}</span><span class="s2">&#39;. Required </span><span class="si">{1}</span><span class="s2"> type </span><span class="si">{2}</span><span class="s2"> and &quot;</span> <span class="s2">&quot;passed type was </span><span class="si">{3}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
</span><span id="type_error_message-1618"><a href="#type_error_message-1618"><span class="linenos">1618</span></a>        <span class="n">var_name</span><span class="p">,</span>
</span><span id="type_error_message-1619"><a href="#type_error_message-1619"><span class="linenos">1619</span></a>        <span class="n">key_or_value</span><span class="p">,</span>
</span><span id="type_error_message-1620"><a href="#type_error_message-1620"><span class="linenos">1620</span></a>        <span class="n">valid_classes_phrase</span><span class="p">,</span>
</span><span id="type_error_message-1621"><a href="#type_error_message-1621"><span class="linenos">1621</span></a>        <span class="nb">type</span><span class="p">(</span><span class="n">var_value</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
</span><span id="type_error_message-1622"><a href="#type_error_message-1622"><span class="linenos">1622</span></a>    <span class="p">)</span>
</span><span id="type_error_message-1623"><a href="#type_error_message-1623"><span class="linenos">1623</span></a>    <span class="k">return</span> <span class="n">msg</span>
</span></pre></div>


            <div class="docstring"><h6 id="keyword-args">Keyword Args:</h6>

<blockquote>
  <p>var_value (any): the variable which has the type_error
  var_name (str): the name of the variable which has the typ error
  valid_classes (tuple): the accepted classes for current_item's
                            value
  key_type (bool): False if our value is a value in a dict
                   True if it is a key in a dict
                   False if our item is an item in a list</p>
</blockquote>
</div>


                </section>
                <section id="get_valid_classes_phrase">
                            <input id="get_valid_classes_phrase-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_valid_classes_phrase</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">input_classes</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="get_valid_classes_phrase-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_valid_classes_phrase"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_valid_classes_phrase-1626"><a href="#get_valid_classes_phrase-1626"><span class="linenos">1626</span></a><span class="k">def</span> <span class="nf">get_valid_classes_phrase</span><span class="p">(</span><span class="n">input_classes</span><span class="p">):</span>
</span><span id="get_valid_classes_phrase-1627"><a href="#get_valid_classes_phrase-1627"><span class="linenos">1627</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a string phrase describing what types are allowed&quot;&quot;&quot;</span>
</span><span id="get_valid_classes_phrase-1628"><a href="#get_valid_classes_phrase-1628"><span class="linenos">1628</span></a>    <span class="n">all_classes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">input_classes</span><span class="p">)</span>
</span><span id="get_valid_classes_phrase-1629"><a href="#get_valid_classes_phrase-1629"><span class="linenos">1629</span></a>    <span class="n">all_classes</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">all_classes</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="bp">cls</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="get_valid_classes_phrase-1630"><a href="#get_valid_classes_phrase-1630"><span class="linenos">1630</span></a>    <span class="n">all_class_names</span> <span class="o">=</span> <span class="p">[</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">for</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">all_classes</span><span class="p">]</span>
</span><span id="get_valid_classes_phrase-1631"><a href="#get_valid_classes_phrase-1631"><span class="linenos">1631</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_class_names</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="get_valid_classes_phrase-1632"><a href="#get_valid_classes_phrase-1632"><span class="linenos">1632</span></a>        <span class="k">return</span> <span class="s2">&quot;is </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">all_class_names</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="get_valid_classes_phrase-1633"><a href="#get_valid_classes_phrase-1633"><span class="linenos">1633</span></a>    <span class="k">return</span> <span class="s2">&quot;is one of [</span><span class="si">{0}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">all_class_names</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Returns a string phrase describing what types are allowed</p>
</div>


                </section>
                <section id="get_allof_instances">
                            <input id="get_allof_instances-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_allof_instances</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">model_args</span>, </span><span class="param"><span class="n">constant_args</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="get_allof_instances-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_allof_instances"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_allof_instances-1636"><a href="#get_allof_instances-1636"><span class="linenos">1636</span></a><span class="k">def</span> <span class="nf">get_allof_instances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model_args</span><span class="p">,</span> <span class="n">constant_args</span><span class="p">):</span>
</span><span id="get_allof_instances-1637"><a href="#get_allof_instances-1637"><span class="linenos">1637</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="get_allof_instances-1638"><a href="#get_allof_instances-1638"><span class="linenos">1638</span></a><span class="sd">    Args:</span>
</span><span id="get_allof_instances-1639"><a href="#get_allof_instances-1639"><span class="linenos">1639</span></a><span class="sd">        self: the class we are handling</span>
</span><span id="get_allof_instances-1640"><a href="#get_allof_instances-1640"><span class="linenos">1640</span></a><span class="sd">        model_args (dict): var_name to var_value</span>
</span><span id="get_allof_instances-1641"><a href="#get_allof_instances-1641"><span class="linenos">1641</span></a><span class="sd">            used to make instances</span>
</span><span id="get_allof_instances-1642"><a href="#get_allof_instances-1642"><span class="linenos">1642</span></a><span class="sd">        constant_args (dict):</span>
</span><span id="get_allof_instances-1643"><a href="#get_allof_instances-1643"><span class="linenos">1643</span></a><span class="sd">            metadata arguments:</span>
</span><span id="get_allof_instances-1644"><a href="#get_allof_instances-1644"><span class="linenos">1644</span></a><span class="sd">            _check_type</span>
</span><span id="get_allof_instances-1645"><a href="#get_allof_instances-1645"><span class="linenos">1645</span></a><span class="sd">            _path_to_item</span>
</span><span id="get_allof_instances-1646"><a href="#get_allof_instances-1646"><span class="linenos">1646</span></a><span class="sd">            _spec_property_naming</span>
</span><span id="get_allof_instances-1647"><a href="#get_allof_instances-1647"><span class="linenos">1647</span></a><span class="sd">            _configuration</span>
</span><span id="get_allof_instances-1648"><a href="#get_allof_instances-1648"><span class="linenos">1648</span></a><span class="sd">            _visited_composed_classes</span>
</span><span id="get_allof_instances-1649"><a href="#get_allof_instances-1649"><span class="linenos">1649</span></a>
</span><span id="get_allof_instances-1650"><a href="#get_allof_instances-1650"><span class="linenos">1650</span></a><span class="sd">    Returns</span>
</span><span id="get_allof_instances-1651"><a href="#get_allof_instances-1651"><span class="linenos">1651</span></a><span class="sd">        composed_instances (list)</span>
</span><span id="get_allof_instances-1652"><a href="#get_allof_instances-1652"><span class="linenos">1652</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="get_allof_instances-1653"><a href="#get_allof_instances-1653"><span class="linenos">1653</span></a>    <span class="n">composed_instances</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="get_allof_instances-1654"><a href="#get_allof_instances-1654"><span class="linenos">1654</span></a>    <span class="k">for</span> <span class="n">allof_class</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;allOf&quot;</span><span class="p">]:</span>
</span><span id="get_allof_instances-1655"><a href="#get_allof_instances-1655"><span class="linenos">1655</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="get_allof_instances-1656"><a href="#get_allof_instances-1656"><span class="linenos">1656</span></a>            <span class="n">allof_instance</span> <span class="o">=</span> <span class="n">allof_class</span><span class="p">(</span><span class="o">**</span><span class="n">model_args</span><span class="p">,</span> <span class="o">**</span><span class="n">constant_args</span><span class="p">)</span>
</span><span id="get_allof_instances-1657"><a href="#get_allof_instances-1657"><span class="linenos">1657</span></a>            <span class="n">composed_instances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">allof_instance</span><span class="p">)</span>
</span><span id="get_allof_instances-1658"><a href="#get_allof_instances-1658"><span class="linenos">1658</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
</span><span id="get_allof_instances-1659"><a href="#get_allof_instances-1659"><span class="linenos">1659</span></a>            <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="get_allof_instances-1660"><a href="#get_allof_instances-1660"><span class="linenos">1660</span></a>                <span class="s2">&quot;Invalid inputs given to generate an instance of &#39;</span><span class="si">%s</span><span class="s2">&#39;. The &quot;</span>
</span><span id="get_allof_instances-1661"><a href="#get_allof_instances-1661"><span class="linenos">1661</span></a>                <span class="s2">&quot;input data was invalid for the allOf schema &#39;</span><span class="si">%s</span><span class="s2">&#39; in the composed &quot;</span>
</span><span id="get_allof_instances-1662"><a href="#get_allof_instances-1662"><span class="linenos">1662</span></a>                <span class="s2">&quot;schema &#39;</span><span class="si">%s</span><span class="s2">&#39;. Error=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">allof_class</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">allof_class</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span>
</span><span id="get_allof_instances-1663"><a href="#get_allof_instances-1663"><span class="linenos">1663</span></a>            <span class="p">)</span> <span class="kn">from</span> <span class="nn">ex</span>
</span><span id="get_allof_instances-1664"><a href="#get_allof_instances-1664"><span class="linenos">1664</span></a>    <span class="k">return</span> <span class="n">composed_instances</span>
</span></pre></div>


            <div class="docstring"><h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>self:</strong>  the class we are handling</li>
<li><strong>model_args (dict):</strong>  var_name to var_value
used to make instances</li>
<li><strong>constant_args (dict):</strong>  metadata arguments:
_check_type
_path_to_item
_spec_property_naming
_configuration
_visited_composed_classes</li>
</ul>

<p>Returns
    composed_instances (list)</p>
</div>


                </section>
                <section id="get_oneof_instance">
                            <input id="get_oneof_instance-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_oneof_instance</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span>, </span><span class="param"><span class="n">model_kwargs</span>, </span><span class="param"><span class="n">constant_kwargs</span>, </span><span class="param"><span class="n">model_arg</span><span class="o">=</span><span class="kc">None</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="get_oneof_instance-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_oneof_instance"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_oneof_instance-1667"><a href="#get_oneof_instance-1667"><span class="linenos">1667</span></a><span class="k">def</span> <span class="nf">get_oneof_instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">model_kwargs</span><span class="p">,</span> <span class="n">constant_kwargs</span><span class="p">,</span> <span class="n">model_arg</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="get_oneof_instance-1668"><a href="#get_oneof_instance-1668"><span class="linenos">1668</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="get_oneof_instance-1669"><a href="#get_oneof_instance-1669"><span class="linenos">1669</span></a><span class="sd">    Find the oneOf schema that matches the input data (e.g. payload).</span>
</span><span id="get_oneof_instance-1670"><a href="#get_oneof_instance-1670"><span class="linenos">1670</span></a><span class="sd">    If exactly one schema matches the input data, an instance of that schema</span>
</span><span id="get_oneof_instance-1671"><a href="#get_oneof_instance-1671"><span class="linenos">1671</span></a><span class="sd">    is returned.</span>
</span><span id="get_oneof_instance-1672"><a href="#get_oneof_instance-1672"><span class="linenos">1672</span></a><span class="sd">    If zero or more than one schema match the input data, an exception is raised.</span>
</span><span id="get_oneof_instance-1673"><a href="#get_oneof_instance-1673"><span class="linenos">1673</span></a><span class="sd">    In OAS 3.x, the payload MUST, by validation, match exactly one of the</span>
</span><span id="get_oneof_instance-1674"><a href="#get_oneof_instance-1674"><span class="linenos">1674</span></a><span class="sd">    schemas described by oneOf.</span>
</span><span id="get_oneof_instance-1675"><a href="#get_oneof_instance-1675"><span class="linenos">1675</span></a>
</span><span id="get_oneof_instance-1676"><a href="#get_oneof_instance-1676"><span class="linenos">1676</span></a><span class="sd">    Args:</span>
</span><span id="get_oneof_instance-1677"><a href="#get_oneof_instance-1677"><span class="linenos">1677</span></a><span class="sd">        cls: the class we are handling</span>
</span><span id="get_oneof_instance-1678"><a href="#get_oneof_instance-1678"><span class="linenos">1678</span></a><span class="sd">        model_kwargs (dict): var_name to var_value</span>
</span><span id="get_oneof_instance-1679"><a href="#get_oneof_instance-1679"><span class="linenos">1679</span></a><span class="sd">            The input data, e.g. the payload that must match a oneOf schema</span>
</span><span id="get_oneof_instance-1680"><a href="#get_oneof_instance-1680"><span class="linenos">1680</span></a><span class="sd">            in the OpenAPI document.</span>
</span><span id="get_oneof_instance-1681"><a href="#get_oneof_instance-1681"><span class="linenos">1681</span></a><span class="sd">        constant_kwargs (dict): var_name to var_value</span>
</span><span id="get_oneof_instance-1682"><a href="#get_oneof_instance-1682"><span class="linenos">1682</span></a><span class="sd">            args that every model requires, including configuration, server</span>
</span><span id="get_oneof_instance-1683"><a href="#get_oneof_instance-1683"><span class="linenos">1683</span></a><span class="sd">            and path to item.</span>
</span><span id="get_oneof_instance-1684"><a href="#get_oneof_instance-1684"><span class="linenos">1684</span></a>
</span><span id="get_oneof_instance-1685"><a href="#get_oneof_instance-1685"><span class="linenos">1685</span></a><span class="sd">    Kwargs:</span>
</span><span id="get_oneof_instance-1686"><a href="#get_oneof_instance-1686"><span class="linenos">1686</span></a><span class="sd">        model_arg: (int, float, bool, str, date, datetime, ModelSimple, None):</span>
</span><span id="get_oneof_instance-1687"><a href="#get_oneof_instance-1687"><span class="linenos">1687</span></a><span class="sd">            the value to assign to a primitive class or ModelSimple class</span>
</span><span id="get_oneof_instance-1688"><a href="#get_oneof_instance-1688"><span class="linenos">1688</span></a><span class="sd">            Notes:</span>
</span><span id="get_oneof_instance-1689"><a href="#get_oneof_instance-1689"><span class="linenos">1689</span></a><span class="sd">            - this is only passed in when oneOf includes types which are not object</span>
</span><span id="get_oneof_instance-1690"><a href="#get_oneof_instance-1690"><span class="linenos">1690</span></a><span class="sd">            - None is used to suppress handling of model_arg, nullable models are handled in __new__</span>
</span><span id="get_oneof_instance-1691"><a href="#get_oneof_instance-1691"><span class="linenos">1691</span></a>
</span><span id="get_oneof_instance-1692"><a href="#get_oneof_instance-1692"><span class="linenos">1692</span></a><span class="sd">    Returns</span>
</span><span id="get_oneof_instance-1693"><a href="#get_oneof_instance-1693"><span class="linenos">1693</span></a><span class="sd">        oneof_instance (instance)</span>
</span><span id="get_oneof_instance-1694"><a href="#get_oneof_instance-1694"><span class="linenos">1694</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="get_oneof_instance-1695"><a href="#get_oneof_instance-1695"><span class="linenos">1695</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;oneOf&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="get_oneof_instance-1696"><a href="#get_oneof_instance-1696"><span class="linenos">1696</span></a>        <span class="k">return</span> <span class="kc">None</span>
</span><span id="get_oneof_instance-1697"><a href="#get_oneof_instance-1697"><span class="linenos">1697</span></a>
</span><span id="get_oneof_instance-1698"><a href="#get_oneof_instance-1698"><span class="linenos">1698</span></a>    <span class="n">oneof_instances</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="get_oneof_instance-1699"><a href="#get_oneof_instance-1699"><span class="linenos">1699</span></a>    <span class="c1"># Iterate over each oneOf schema and determine if the input data</span>
</span><span id="get_oneof_instance-1700"><a href="#get_oneof_instance-1700"><span class="linenos">1700</span></a>    <span class="c1"># matches the oneOf schemas.</span>
</span><span id="get_oneof_instance-1701"><a href="#get_oneof_instance-1701"><span class="linenos">1701</span></a>    <span class="k">for</span> <span class="n">oneof_class</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;oneOf&quot;</span><span class="p">]:</span>
</span><span id="get_oneof_instance-1702"><a href="#get_oneof_instance-1702"><span class="linenos">1702</span></a>        <span class="c1"># The composed oneOf schema allows the &#39;null&#39; type and the input data</span>
</span><span id="get_oneof_instance-1703"><a href="#get_oneof_instance-1703"><span class="linenos">1703</span></a>        <span class="c1"># is the null value. This is a OAS &gt;= 3.1 feature.</span>
</span><span id="get_oneof_instance-1704"><a href="#get_oneof_instance-1704"><span class="linenos">1704</span></a>        <span class="k">if</span> <span class="n">oneof_class</span> <span class="ow">is</span> <span class="n">none_type</span><span class="p">:</span>
</span><span id="get_oneof_instance-1705"><a href="#get_oneof_instance-1705"><span class="linenos">1705</span></a>            <span class="c1"># skip none_types because we are deserializing dict data.</span>
</span><span id="get_oneof_instance-1706"><a href="#get_oneof_instance-1706"><span class="linenos">1706</span></a>            <span class="c1"># none_type deserialization is handled in the __new__ method</span>
</span><span id="get_oneof_instance-1707"><a href="#get_oneof_instance-1707"><span class="linenos">1707</span></a>            <span class="k">continue</span>
</span><span id="get_oneof_instance-1708"><a href="#get_oneof_instance-1708"><span class="linenos">1708</span></a>
</span><span id="get_oneof_instance-1709"><a href="#get_oneof_instance-1709"><span class="linenos">1709</span></a>        <span class="n">single_value_input</span> <span class="o">=</span> <span class="n">allows_single_value_input</span><span class="p">(</span><span class="n">oneof_class</span><span class="p">)</span>
</span><span id="get_oneof_instance-1710"><a href="#get_oneof_instance-1710"><span class="linenos">1710</span></a>
</span><span id="get_oneof_instance-1711"><a href="#get_oneof_instance-1711"><span class="linenos">1711</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="get_oneof_instance-1712"><a href="#get_oneof_instance-1712"><span class="linenos">1712</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">single_value_input</span><span class="p">:</span>
</span><span id="get_oneof_instance-1713"><a href="#get_oneof_instance-1713"><span class="linenos">1713</span></a>                <span class="n">oneof_instance</span> <span class="o">=</span> <span class="n">oneof_class</span><span class="p">(</span><span class="o">**</span><span class="n">model_kwargs</span><span class="p">,</span> <span class="o">**</span><span class="n">constant_kwargs</span><span class="p">)</span>
</span><span id="get_oneof_instance-1714"><a href="#get_oneof_instance-1714"><span class="linenos">1714</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="get_oneof_instance-1715"><a href="#get_oneof_instance-1715"><span class="linenos">1715</span></a>                <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">oneof_class</span><span class="p">,</span> <span class="n">ModelSimple</span><span class="p">):</span>
</span><span id="get_oneof_instance-1716"><a href="#get_oneof_instance-1716"><span class="linenos">1716</span></a>                    <span class="n">oneof_instance</span> <span class="o">=</span> <span class="n">oneof_class</span><span class="p">(</span><span class="n">model_arg</span><span class="p">,</span> <span class="o">**</span><span class="n">constant_kwargs</span><span class="p">)</span>
</span><span id="get_oneof_instance-1717"><a href="#get_oneof_instance-1717"><span class="linenos">1717</span></a>                <span class="k">elif</span> <span class="n">oneof_class</span> <span class="ow">in</span> <span class="n">PRIMITIVE_TYPES</span><span class="p">:</span>
</span><span id="get_oneof_instance-1718"><a href="#get_oneof_instance-1718"><span class="linenos">1718</span></a>                    <span class="n">oneof_instance</span> <span class="o">=</span> <span class="n">validate_and_convert_types</span><span class="p">(</span>
</span><span id="get_oneof_instance-1719"><a href="#get_oneof_instance-1719"><span class="linenos">1719</span></a>                        <span class="n">model_arg</span><span class="p">,</span>
</span><span id="get_oneof_instance-1720"><a href="#get_oneof_instance-1720"><span class="linenos">1720</span></a>                        <span class="p">(</span><span class="n">oneof_class</span><span class="p">,),</span>
</span><span id="get_oneof_instance-1721"><a href="#get_oneof_instance-1721"><span class="linenos">1721</span></a>                        <span class="n">constant_kwargs</span><span class="p">[</span><span class="s2">&quot;_path_to_item&quot;</span><span class="p">],</span>
</span><span id="get_oneof_instance-1722"><a href="#get_oneof_instance-1722"><span class="linenos">1722</span></a>                        <span class="n">constant_kwargs</span><span class="p">[</span><span class="s2">&quot;_spec_property_naming&quot;</span><span class="p">],</span>
</span><span id="get_oneof_instance-1723"><a href="#get_oneof_instance-1723"><span class="linenos">1723</span></a>                        <span class="n">constant_kwargs</span><span class="p">[</span><span class="s2">&quot;_check_type&quot;</span><span class="p">],</span>
</span><span id="get_oneof_instance-1724"><a href="#get_oneof_instance-1724"><span class="linenos">1724</span></a>                        <span class="n">configuration</span><span class="o">=</span><span class="n">constant_kwargs</span><span class="p">[</span><span class="s2">&quot;_configuration&quot;</span><span class="p">],</span>
</span><span id="get_oneof_instance-1725"><a href="#get_oneof_instance-1725"><span class="linenos">1725</span></a>                    <span class="p">)</span>
</span><span id="get_oneof_instance-1726"><a href="#get_oneof_instance-1726"><span class="linenos">1726</span></a>            <span class="n">oneof_instances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">oneof_instance</span><span class="p">)</span>
</span><span id="get_oneof_instance-1727"><a href="#get_oneof_instance-1727"><span class="linenos">1727</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="get_oneof_instance-1728"><a href="#get_oneof_instance-1728"><span class="linenos">1728</span></a>            <span class="k">pass</span>
</span><span id="get_oneof_instance-1729"><a href="#get_oneof_instance-1729"><span class="linenos">1729</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">oneof_instances</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="get_oneof_instance-1730"><a href="#get_oneof_instance-1730"><span class="linenos">1730</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="get_oneof_instance-1731"><a href="#get_oneof_instance-1731"><span class="linenos">1731</span></a>            <span class="s2">&quot;Invalid inputs given to generate an instance of </span><span class="si">%s</span><span class="s2">. None &quot;</span>
</span><span id="get_oneof_instance-1732"><a href="#get_oneof_instance-1732"><span class="linenos">1732</span></a>            <span class="s2">&quot;of the oneOf schemas matched the input data.&quot;</span> <span class="o">%</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="get_oneof_instance-1733"><a href="#get_oneof_instance-1733"><span class="linenos">1733</span></a>        <span class="p">)</span>
</span><span id="get_oneof_instance-1734"><a href="#get_oneof_instance-1734"><span class="linenos">1734</span></a>    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">oneof_instances</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="get_oneof_instance-1735"><a href="#get_oneof_instance-1735"><span class="linenos">1735</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="get_oneof_instance-1736"><a href="#get_oneof_instance-1736"><span class="linenos">1736</span></a>            <span class="s2">&quot;Invalid inputs given to generate an instance of </span><span class="si">%s</span><span class="s2">. Multiple &quot;</span>
</span><span id="get_oneof_instance-1737"><a href="#get_oneof_instance-1737"><span class="linenos">1737</span></a>            <span class="s2">&quot;oneOf schemas matched the inputs, but a max of one is allowed.&quot;</span> <span class="o">%</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="get_oneof_instance-1738"><a href="#get_oneof_instance-1738"><span class="linenos">1738</span></a>        <span class="p">)</span>
</span><span id="get_oneof_instance-1739"><a href="#get_oneof_instance-1739"><span class="linenos">1739</span></a>    <span class="k">return</span> <span class="n">oneof_instances</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Find the oneOf schema that matches the input data (e.g. payload).
If exactly one schema matches the input data, an instance of that schema
is returned.
If zero or more than one schema match the input data, an exception is raised.
In OAS 3.x, the payload MUST, by validation, match exactly one of the
schemas described by oneOf.</p>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>cls:</strong>  the class we are handling</li>
<li><strong>model_kwargs (dict):</strong>  var_name to var_value
The input data, e.g. the payload that must match a oneOf schema
in the OpenAPI document.</li>
<li><strong>constant_kwargs (dict):</strong>  var_name to var_value
args that every model requires, including configuration, server
and path to item.</li>
</ul>

<h6 id="kwargs">Kwargs:</h6>

<blockquote>
  <p>model_arg: (int, float, bool, str, date, datetime, ModelSimple, None):
      the value to assign to a primitive class or ModelSimple class
      Notes:
      - this is only passed in when oneOf includes types which are not object
      - None is used to suppress handling of model_arg, nullable models are handled in __new__</p>
</blockquote>

<p>Returns
    oneof_instance (instance)</p>
</div>


                </section>
                <section id="get_anyof_instances">
                            <input id="get_anyof_instances-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_anyof_instances</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">model_args</span>, </span><span class="param"><span class="n">constant_args</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="get_anyof_instances-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_anyof_instances"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_anyof_instances-1742"><a href="#get_anyof_instances-1742"><span class="linenos">1742</span></a><span class="k">def</span> <span class="nf">get_anyof_instances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model_args</span><span class="p">,</span> <span class="n">constant_args</span><span class="p">):</span>
</span><span id="get_anyof_instances-1743"><a href="#get_anyof_instances-1743"><span class="linenos">1743</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="get_anyof_instances-1744"><a href="#get_anyof_instances-1744"><span class="linenos">1744</span></a><span class="sd">    Args:</span>
</span><span id="get_anyof_instances-1745"><a href="#get_anyof_instances-1745"><span class="linenos">1745</span></a><span class="sd">        self: the class we are handling</span>
</span><span id="get_anyof_instances-1746"><a href="#get_anyof_instances-1746"><span class="linenos">1746</span></a><span class="sd">        model_args (dict): var_name to var_value</span>
</span><span id="get_anyof_instances-1747"><a href="#get_anyof_instances-1747"><span class="linenos">1747</span></a><span class="sd">            The input data, e.g. the payload that must match at least one</span>
</span><span id="get_anyof_instances-1748"><a href="#get_anyof_instances-1748"><span class="linenos">1748</span></a><span class="sd">            anyOf child schema in the OpenAPI document.</span>
</span><span id="get_anyof_instances-1749"><a href="#get_anyof_instances-1749"><span class="linenos">1749</span></a><span class="sd">        constant_args (dict): var_name to var_value</span>
</span><span id="get_anyof_instances-1750"><a href="#get_anyof_instances-1750"><span class="linenos">1750</span></a><span class="sd">            args that every model requires, including configuration, server</span>
</span><span id="get_anyof_instances-1751"><a href="#get_anyof_instances-1751"><span class="linenos">1751</span></a><span class="sd">            and path to item.</span>
</span><span id="get_anyof_instances-1752"><a href="#get_anyof_instances-1752"><span class="linenos">1752</span></a>
</span><span id="get_anyof_instances-1753"><a href="#get_anyof_instances-1753"><span class="linenos">1753</span></a><span class="sd">    Returns</span>
</span><span id="get_anyof_instances-1754"><a href="#get_anyof_instances-1754"><span class="linenos">1754</span></a><span class="sd">        anyof_instances (list)</span>
</span><span id="get_anyof_instances-1755"><a href="#get_anyof_instances-1755"><span class="linenos">1755</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="get_anyof_instances-1756"><a href="#get_anyof_instances-1756"><span class="linenos">1756</span></a>    <span class="n">anyof_instances</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="get_anyof_instances-1757"><a href="#get_anyof_instances-1757"><span class="linenos">1757</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;anyOf&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="get_anyof_instances-1758"><a href="#get_anyof_instances-1758"><span class="linenos">1758</span></a>        <span class="k">return</span> <span class="n">anyof_instances</span>
</span><span id="get_anyof_instances-1759"><a href="#get_anyof_instances-1759"><span class="linenos">1759</span></a>
</span><span id="get_anyof_instances-1760"><a href="#get_anyof_instances-1760"><span class="linenos">1760</span></a>    <span class="k">for</span> <span class="n">anyof_class</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;anyOf&quot;</span><span class="p">]:</span>
</span><span id="get_anyof_instances-1761"><a href="#get_anyof_instances-1761"><span class="linenos">1761</span></a>        <span class="c1"># The composed oneOf schema allows the &#39;null&#39; type and the input data</span>
</span><span id="get_anyof_instances-1762"><a href="#get_anyof_instances-1762"><span class="linenos">1762</span></a>        <span class="c1"># is the null value. This is a OAS &gt;= 3.1 feature.</span>
</span><span id="get_anyof_instances-1763"><a href="#get_anyof_instances-1763"><span class="linenos">1763</span></a>        <span class="k">if</span> <span class="n">anyof_class</span> <span class="ow">is</span> <span class="n">none_type</span><span class="p">:</span>
</span><span id="get_anyof_instances-1764"><a href="#get_anyof_instances-1764"><span class="linenos">1764</span></a>            <span class="c1"># skip none_types because we are deserializing dict data.</span>
</span><span id="get_anyof_instances-1765"><a href="#get_anyof_instances-1765"><span class="linenos">1765</span></a>            <span class="c1"># none_type deserialization is handled in the __new__ method</span>
</span><span id="get_anyof_instances-1766"><a href="#get_anyof_instances-1766"><span class="linenos">1766</span></a>            <span class="k">continue</span>
</span><span id="get_anyof_instances-1767"><a href="#get_anyof_instances-1767"><span class="linenos">1767</span></a>
</span><span id="get_anyof_instances-1768"><a href="#get_anyof_instances-1768"><span class="linenos">1768</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="get_anyof_instances-1769"><a href="#get_anyof_instances-1769"><span class="linenos">1769</span></a>            <span class="n">anyof_instance</span> <span class="o">=</span> <span class="n">anyof_class</span><span class="p">(</span><span class="o">**</span><span class="n">model_args</span><span class="p">,</span> <span class="o">**</span><span class="n">constant_args</span><span class="p">)</span>
</span><span id="get_anyof_instances-1770"><a href="#get_anyof_instances-1770"><span class="linenos">1770</span></a>            <span class="n">anyof_instances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">anyof_instance</span><span class="p">)</span>
</span><span id="get_anyof_instances-1771"><a href="#get_anyof_instances-1771"><span class="linenos">1771</span></a>        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="get_anyof_instances-1772"><a href="#get_anyof_instances-1772"><span class="linenos">1772</span></a>            <span class="k">pass</span>
</span><span id="get_anyof_instances-1773"><a href="#get_anyof_instances-1773"><span class="linenos">1773</span></a>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">anyof_instances</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="get_anyof_instances-1774"><a href="#get_anyof_instances-1774"><span class="linenos">1774</span></a>        <span class="k">raise</span> <span class="n">ApiValueError</span><span class="p">(</span>
</span><span id="get_anyof_instances-1775"><a href="#get_anyof_instances-1775"><span class="linenos">1775</span></a>            <span class="s2">&quot;Invalid inputs given to generate an instance of </span><span class="si">%s</span><span class="s2">. None of the &quot;</span>
</span><span id="get_anyof_instances-1776"><a href="#get_anyof_instances-1776"><span class="linenos">1776</span></a>            <span class="s2">&quot;anyOf schemas matched the inputs.&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
</span><span id="get_anyof_instances-1777"><a href="#get_anyof_instances-1777"><span class="linenos">1777</span></a>        <span class="p">)</span>
</span><span id="get_anyof_instances-1778"><a href="#get_anyof_instances-1778"><span class="linenos">1778</span></a>    <span class="k">return</span> <span class="n">anyof_instances</span>
</span></pre></div>


            <div class="docstring"><h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>self:</strong>  the class we are handling</li>
<li><strong>model_args (dict):</strong>  var_name to var_value
The input data, e.g. the payload that must match at least one
anyOf child schema in the OpenAPI document.</li>
<li><strong>constant_args (dict):</strong>  var_name to var_value
args that every model requires, including configuration, server
and path to item.</li>
</ul>

<p>Returns
    anyof_instances (list)</p>
</div>


                </section>
                <section id="get_discarded_args">
                            <input id="get_discarded_args-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_discarded_args</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">composed_instances</span>, </span><span class="param"><span class="n">model_args</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="get_discarded_args-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#get_discarded_args"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="get_discarded_args-1781"><a href="#get_discarded_args-1781"><span class="linenos">1781</span></a><span class="k">def</span> <span class="nf">get_discarded_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">composed_instances</span><span class="p">,</span> <span class="n">model_args</span><span class="p">):</span>
</span><span id="get_discarded_args-1782"><a href="#get_discarded_args-1782"><span class="linenos">1782</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="get_discarded_args-1783"><a href="#get_discarded_args-1783"><span class="linenos">1783</span></a><span class="sd">    Gathers the args that were discarded by configuration.discard_unknown_keys</span>
</span><span id="get_discarded_args-1784"><a href="#get_discarded_args-1784"><span class="linenos">1784</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="get_discarded_args-1785"><a href="#get_discarded_args-1785"><span class="linenos">1785</span></a>    <span class="n">model_arg_keys</span> <span class="o">=</span> <span class="n">model_args</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</span><span id="get_discarded_args-1786"><a href="#get_discarded_args-1786"><span class="linenos">1786</span></a>    <span class="n">discarded_args</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</span><span id="get_discarded_args-1787"><a href="#get_discarded_args-1787"><span class="linenos">1787</span></a>    <span class="c1"># arguments passed to self were already converted to python names</span>
</span><span id="get_discarded_args-1788"><a href="#get_discarded_args-1788"><span class="linenos">1788</span></a>    <span class="c1"># before __init__ was called</span>
</span><span id="get_discarded_args-1789"><a href="#get_discarded_args-1789"><span class="linenos">1789</span></a>    <span class="k">for</span> <span class="n">instance</span> <span class="ow">in</span> <span class="n">composed_instances</span><span class="p">:</span>
</span><span id="get_discarded_args-1790"><a href="#get_discarded_args-1790"><span class="linenos">1790</span></a>        <span class="k">if</span> <span class="n">instance</span><span class="o">.</span><span class="vm">__class__</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_composed_schemas</span><span class="p">[</span><span class="s2">&quot;allOf&quot;</span><span class="p">]:</span>
</span><span id="get_discarded_args-1791"><a href="#get_discarded_args-1791"><span class="linenos">1791</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="get_discarded_args-1792"><a href="#get_discarded_args-1792"><span class="linenos">1792</span></a>                <span class="n">keys</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</span><span id="get_discarded_args-1793"><a href="#get_discarded_args-1793"><span class="linenos">1793</span></a>                <span class="n">discarded_keys</span> <span class="o">=</span> <span class="n">model_args</span> <span class="o">-</span> <span class="n">keys</span>
</span><span id="get_discarded_args-1794"><a href="#get_discarded_args-1794"><span class="linenos">1794</span></a>                <span class="n">discarded_args</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">discarded_keys</span><span class="p">)</span>
</span><span id="get_discarded_args-1795"><a href="#get_discarded_args-1795"><span class="linenos">1795</span></a>            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="get_discarded_args-1796"><a href="#get_discarded_args-1796"><span class="linenos">1796</span></a>                <span class="c1"># allOf integer schema will throw exception</span>
</span><span id="get_discarded_args-1797"><a href="#get_discarded_args-1797"><span class="linenos">1797</span></a>                <span class="k">pass</span>
</span><span id="get_discarded_args-1798"><a href="#get_discarded_args-1798"><span class="linenos">1798</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="get_discarded_args-1799"><a href="#get_discarded_args-1799"><span class="linenos">1799</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="get_discarded_args-1800"><a href="#get_discarded_args-1800"><span class="linenos">1800</span></a>                <span class="n">all_keys</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">model_to_dict</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</span><span id="get_discarded_args-1801"><a href="#get_discarded_args-1801"><span class="linenos">1801</span></a>                <span class="n">js_keys</span> <span class="o">=</span> <span class="n">model_to_dict</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">serialize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</span><span id="get_discarded_args-1802"><a href="#get_discarded_args-1802"><span class="linenos">1802</span></a>                <span class="n">all_keys</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">js_keys</span><span class="p">)</span>
</span><span id="get_discarded_args-1803"><a href="#get_discarded_args-1803"><span class="linenos">1803</span></a>                <span class="n">discarded_keys</span> <span class="o">=</span> <span class="n">model_arg_keys</span> <span class="o">-</span> <span class="n">all_keys</span>
</span><span id="get_discarded_args-1804"><a href="#get_discarded_args-1804"><span class="linenos">1804</span></a>                <span class="n">discarded_args</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">discarded_keys</span><span class="p">)</span>
</span><span id="get_discarded_args-1805"><a href="#get_discarded_args-1805"><span class="linenos">1805</span></a>            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
</span><span id="get_discarded_args-1806"><a href="#get_discarded_args-1806"><span class="linenos">1806</span></a>                <span class="c1"># allOf integer schema will throw exception</span>
</span><span id="get_discarded_args-1807"><a href="#get_discarded_args-1807"><span class="linenos">1807</span></a>                <span class="k">pass</span>
</span><span id="get_discarded_args-1808"><a href="#get_discarded_args-1808"><span class="linenos">1808</span></a>    <span class="k">return</span> <span class="n">discarded_args</span>
</span></pre></div>


            <div class="docstring"><p>Gathers the args that were discarded by configuration.discard_unknown_keys</p>
</div>


                </section>
                <section id="validate_get_composed_info">
                            <input id="validate_get_composed_info-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">validate_get_composed_info</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">constant_args</span>, </span><span class="param"><span class="n">model_args</span>, </span><span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="validate_get_composed_info-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#validate_get_composed_info"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="validate_get_composed_info-1811"><a href="#validate_get_composed_info-1811"><span class="linenos">1811</span></a><span class="k">def</span> <span class="nf">validate_get_composed_info</span><span class="p">(</span><span class="n">constant_args</span><span class="p">,</span> <span class="n">model_args</span><span class="p">,</span> <span class="bp">self</span><span class="p">):</span>
</span><span id="validate_get_composed_info-1812"><a href="#validate_get_composed_info-1812"><span class="linenos">1812</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="validate_get_composed_info-1813"><a href="#validate_get_composed_info-1813"><span class="linenos">1813</span></a><span class="sd">    For composed schemas, generate schema instances for</span>
</span><span id="validate_get_composed_info-1814"><a href="#validate_get_composed_info-1814"><span class="linenos">1814</span></a><span class="sd">    all schemas in the oneOf/anyOf/allOf definition. If additional</span>
</span><span id="validate_get_composed_info-1815"><a href="#validate_get_composed_info-1815"><span class="linenos">1815</span></a><span class="sd">    properties are allowed, also assign those properties on</span>
</span><span id="validate_get_composed_info-1816"><a href="#validate_get_composed_info-1816"><span class="linenos">1816</span></a><span class="sd">    all matched schemas that contain additionalProperties.</span>
</span><span id="validate_get_composed_info-1817"><a href="#validate_get_composed_info-1817"><span class="linenos">1817</span></a><span class="sd">    Openapi schemas are python classes.</span>
</span><span id="validate_get_composed_info-1818"><a href="#validate_get_composed_info-1818"><span class="linenos">1818</span></a>
</span><span id="validate_get_composed_info-1819"><a href="#validate_get_composed_info-1819"><span class="linenos">1819</span></a><span class="sd">    Exceptions are raised if:</span>
</span><span id="validate_get_composed_info-1820"><a href="#validate_get_composed_info-1820"><span class="linenos">1820</span></a><span class="sd">    - 0 or &gt; 1 oneOf schema matches the model_args input data</span>
</span><span id="validate_get_composed_info-1821"><a href="#validate_get_composed_info-1821"><span class="linenos">1821</span></a><span class="sd">    - no anyOf schema matches the model_args input data</span>
</span><span id="validate_get_composed_info-1822"><a href="#validate_get_composed_info-1822"><span class="linenos">1822</span></a><span class="sd">    - any of the allOf schemas do not match the model_args input data</span>
</span><span id="validate_get_composed_info-1823"><a href="#validate_get_composed_info-1823"><span class="linenos">1823</span></a>
</span><span id="validate_get_composed_info-1824"><a href="#validate_get_composed_info-1824"><span class="linenos">1824</span></a><span class="sd">    Args:</span>
</span><span id="validate_get_composed_info-1825"><a href="#validate_get_composed_info-1825"><span class="linenos">1825</span></a><span class="sd">        constant_args (dict): these are the args that every model requires</span>
</span><span id="validate_get_composed_info-1826"><a href="#validate_get_composed_info-1826"><span class="linenos">1826</span></a><span class="sd">        model_args (dict): these are the required and optional spec args that</span>
</span><span id="validate_get_composed_info-1827"><a href="#validate_get_composed_info-1827"><span class="linenos">1827</span></a><span class="sd">            were passed in to make this model</span>
</span><span id="validate_get_composed_info-1828"><a href="#validate_get_composed_info-1828"><span class="linenos">1828</span></a><span class="sd">        self (class): the class that we are instantiating</span>
</span><span id="validate_get_composed_info-1829"><a href="#validate_get_composed_info-1829"><span class="linenos">1829</span></a><span class="sd">            This class contains self._composed_schemas</span>
</span><span id="validate_get_composed_info-1830"><a href="#validate_get_composed_info-1830"><span class="linenos">1830</span></a>
</span><span id="validate_get_composed_info-1831"><a href="#validate_get_composed_info-1831"><span class="linenos">1831</span></a><span class="sd">    Returns:</span>
</span><span id="validate_get_composed_info-1832"><a href="#validate_get_composed_info-1832"><span class="linenos">1832</span></a><span class="sd">        composed_info (list): length three</span>
</span><span id="validate_get_composed_info-1833"><a href="#validate_get_composed_info-1833"><span class="linenos">1833</span></a><span class="sd">            composed_instances (list): the composed instances which are not</span>
</span><span id="validate_get_composed_info-1834"><a href="#validate_get_composed_info-1834"><span class="linenos">1834</span></a><span class="sd">                self</span>
</span><span id="validate_get_composed_info-1835"><a href="#validate_get_composed_info-1835"><span class="linenos">1835</span></a><span class="sd">            var_name_to_model_instances (dict): a dict going from var_name</span>
</span><span id="validate_get_composed_info-1836"><a href="#validate_get_composed_info-1836"><span class="linenos">1836</span></a><span class="sd">                to the model_instance which holds that var_name</span>
</span><span id="validate_get_composed_info-1837"><a href="#validate_get_composed_info-1837"><span class="linenos">1837</span></a><span class="sd">                the model_instance may be self or an instance of one of the</span>
</span><span id="validate_get_composed_info-1838"><a href="#validate_get_composed_info-1838"><span class="linenos">1838</span></a><span class="sd">                classes in self.composed_instances()</span>
</span><span id="validate_get_composed_info-1839"><a href="#validate_get_composed_info-1839"><span class="linenos">1839</span></a><span class="sd">            additional_properties_model_instances (list): a list of the</span>
</span><span id="validate_get_composed_info-1840"><a href="#validate_get_composed_info-1840"><span class="linenos">1840</span></a><span class="sd">                model instances which have the property</span>
</span><span id="validate_get_composed_info-1841"><a href="#validate_get_composed_info-1841"><span class="linenos">1841</span></a><span class="sd">                additional_properties_type. This list can include self</span>
</span><span id="validate_get_composed_info-1842"><a href="#validate_get_composed_info-1842"><span class="linenos">1842</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="validate_get_composed_info-1843"><a href="#validate_get_composed_info-1843"><span class="linenos">1843</span></a>    <span class="c1"># create composed_instances</span>
</span><span id="validate_get_composed_info-1844"><a href="#validate_get_composed_info-1844"><span class="linenos">1844</span></a>    <span class="n">composed_instances</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="validate_get_composed_info-1845"><a href="#validate_get_composed_info-1845"><span class="linenos">1845</span></a>    <span class="n">allof_instances</span> <span class="o">=</span> <span class="n">get_allof_instances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model_args</span><span class="p">,</span> <span class="n">constant_args</span><span class="p">)</span>
</span><span id="validate_get_composed_info-1846"><a href="#validate_get_composed_info-1846"><span class="linenos">1846</span></a>    <span class="n">composed_instances</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">allof_instances</span><span class="p">)</span>
</span><span id="validate_get_composed_info-1847"><a href="#validate_get_composed_info-1847"><span class="linenos">1847</span></a>    <span class="n">oneof_instance</span> <span class="o">=</span> <span class="n">get_oneof_instance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="n">model_args</span><span class="p">,</span> <span class="n">constant_args</span><span class="p">)</span>
</span><span id="validate_get_composed_info-1848"><a href="#validate_get_composed_info-1848"><span class="linenos">1848</span></a>    <span class="k">if</span> <span class="n">oneof_instance</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="validate_get_composed_info-1849"><a href="#validate_get_composed_info-1849"><span class="linenos">1849</span></a>        <span class="n">composed_instances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">oneof_instance</span><span class="p">)</span>
</span><span id="validate_get_composed_info-1850"><a href="#validate_get_composed_info-1850"><span class="linenos">1850</span></a>    <span class="n">anyof_instances</span> <span class="o">=</span> <span class="n">get_anyof_instances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model_args</span><span class="p">,</span> <span class="n">constant_args</span><span class="p">)</span>
</span><span id="validate_get_composed_info-1851"><a href="#validate_get_composed_info-1851"><span class="linenos">1851</span></a>    <span class="n">composed_instances</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">anyof_instances</span><span class="p">)</span>
</span><span id="validate_get_composed_info-1852"><a href="#validate_get_composed_info-1852"><span class="linenos">1852</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="validate_get_composed_info-1853"><a href="#validate_get_composed_info-1853"><span class="linenos">1853</span></a><span class="sd">    set additional_properties_model_instances</span>
</span><span id="validate_get_composed_info-1854"><a href="#validate_get_composed_info-1854"><span class="linenos">1854</span></a><span class="sd">    additional properties must be evaluated at the schema level</span>
</span><span id="validate_get_composed_info-1855"><a href="#validate_get_composed_info-1855"><span class="linenos">1855</span></a><span class="sd">    so self&#39;s additional properties are most important</span>
</span><span id="validate_get_composed_info-1856"><a href="#validate_get_composed_info-1856"><span class="linenos">1856</span></a><span class="sd">    If self is a composed schema with:</span>
</span><span id="validate_get_composed_info-1857"><a href="#validate_get_composed_info-1857"><span class="linenos">1857</span></a><span class="sd">    - no properties defined in self</span>
</span><span id="validate_get_composed_info-1858"><a href="#validate_get_composed_info-1858"><span class="linenos">1858</span></a><span class="sd">    - additionalProperties: False</span>
</span><span id="validate_get_composed_info-1859"><a href="#validate_get_composed_info-1859"><span class="linenos">1859</span></a><span class="sd">    Then for object payloads every property is an additional property</span>
</span><span id="validate_get_composed_info-1860"><a href="#validate_get_composed_info-1860"><span class="linenos">1860</span></a><span class="sd">    and they are not allowed, so only empty dict is allowed</span>
</span><span id="validate_get_composed_info-1861"><a href="#validate_get_composed_info-1861"><span class="linenos">1861</span></a>
</span><span id="validate_get_composed_info-1862"><a href="#validate_get_composed_info-1862"><span class="linenos">1862</span></a><span class="sd">    Properties must be set on all matching schemas</span>
</span><span id="validate_get_composed_info-1863"><a href="#validate_get_composed_info-1863"><span class="linenos">1863</span></a><span class="sd">    so when a property is assigned toa composed instance, it must be set on all</span>
</span><span id="validate_get_composed_info-1864"><a href="#validate_get_composed_info-1864"><span class="linenos">1864</span></a><span class="sd">    composed instances regardless of additionalProperties presence</span>
</span><span id="validate_get_composed_info-1865"><a href="#validate_get_composed_info-1865"><span class="linenos">1865</span></a><span class="sd">    keeping it to prevent breaking changes in v5.0.1</span>
</span><span id="validate_get_composed_info-1866"><a href="#validate_get_composed_info-1866"><span class="linenos">1866</span></a><span class="sd">    TODO remove cls._additional_properties_model_instances in 6.0.0</span>
</span><span id="validate_get_composed_info-1867"><a href="#validate_get_composed_info-1867"><span class="linenos">1867</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="validate_get_composed_info-1868"><a href="#validate_get_composed_info-1868"><span class="linenos">1868</span></a>    <span class="n">additional_properties_model_instances</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="validate_get_composed_info-1869"><a href="#validate_get_composed_info-1869"><span class="linenos">1869</span></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">additional_properties_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="validate_get_composed_info-1870"><a href="#validate_get_composed_info-1870"><span class="linenos">1870</span></a>        <span class="n">additional_properties_model_instances</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>
</span><span id="validate_get_composed_info-1871"><a href="#validate_get_composed_info-1871"><span class="linenos">1871</span></a>
</span><span id="validate_get_composed_info-1872"><a href="#validate_get_composed_info-1872"><span class="linenos">1872</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="validate_get_composed_info-1873"><a href="#validate_get_composed_info-1873"><span class="linenos">1873</span></a><span class="sd">    no need to set properties on self in here, they will be set in __init__</span>
</span><span id="validate_get_composed_info-1874"><a href="#validate_get_composed_info-1874"><span class="linenos">1874</span></a><span class="sd">    By here all composed schema oneOf/anyOf/allOf instances have their properties set using</span>
</span><span id="validate_get_composed_info-1875"><a href="#validate_get_composed_info-1875"><span class="linenos">1875</span></a><span class="sd">    model_args</span>
</span><span id="validate_get_composed_info-1876"><a href="#validate_get_composed_info-1876"><span class="linenos">1876</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="validate_get_composed_info-1877"><a href="#validate_get_composed_info-1877"><span class="linenos">1877</span></a>    <span class="n">discarded_args</span> <span class="o">=</span> <span class="n">get_discarded_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">composed_instances</span><span class="p">,</span> <span class="n">model_args</span><span class="p">)</span>
</span><span id="validate_get_composed_info-1878"><a href="#validate_get_composed_info-1878"><span class="linenos">1878</span></a>
</span><span id="validate_get_composed_info-1879"><a href="#validate_get_composed_info-1879"><span class="linenos">1879</span></a>    <span class="c1"># map variable names to composed_instances</span>
</span><span id="validate_get_composed_info-1880"><a href="#validate_get_composed_info-1880"><span class="linenos">1880</span></a>    <span class="n">var_name_to_model_instances</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="validate_get_composed_info-1881"><a href="#validate_get_composed_info-1881"><span class="linenos">1881</span></a>    <span class="k">for</span> <span class="n">prop_name</span> <span class="ow">in</span> <span class="n">model_args</span><span class="p">:</span>
</span><span id="validate_get_composed_info-1882"><a href="#validate_get_composed_info-1882"><span class="linenos">1882</span></a>        <span class="k">if</span> <span class="n">prop_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">discarded_args</span><span class="p">:</span>
</span><span id="validate_get_composed_info-1883"><a href="#validate_get_composed_info-1883"><span class="linenos">1883</span></a>            <span class="n">var_name_to_model_instances</span><span class="p">[</span><span class="n">prop_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span> <span class="o">+</span> <span class="n">composed_instances</span>
</span><span id="validate_get_composed_info-1884"><a href="#validate_get_composed_info-1884"><span class="linenos">1884</span></a>
</span><span id="validate_get_composed_info-1885"><a href="#validate_get_composed_info-1885"><span class="linenos">1885</span></a>    <span class="k">return</span> <span class="p">[</span><span class="n">composed_instances</span><span class="p">,</span> <span class="n">var_name_to_model_instances</span><span class="p">,</span> <span class="n">additional_properties_model_instances</span><span class="p">,</span> <span class="n">discarded_args</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>For composed schemas, generate schema instances for
all schemas in the oneOf/anyOf/allOf definition. If additional
properties are allowed, also assign those properties on
all matched schemas that contain additionalProperties.
Openapi schemas are python classes.</p>

<p>Exceptions are raised if:</p>

<ul>
<li>0 or &gt; 1 oneOf schema matches the model_args input data</li>
<li>no anyOf schema matches the model_args input data</li>
<li>any of the allOf schemas do not match the model_args input data</li>
</ul>

<h6 id="arguments">Arguments:</h6>

<ul>
<li><strong>constant_args (dict):</strong>  these are the args that every model requires</li>
<li><strong>model_args (dict):</strong>  these are the required and optional spec args that
were passed in to make this model</li>
<li><strong>self (class):</strong>  the class that we are instantiating
This class contains self._composed_schemas</li>
</ul>

<h6 id="returns">Returns:</h6>

<blockquote>
  <p>composed_info (list): length three
      composed_instances (list): the composed instances which are not
          self
      var_name_to_model_instances (dict): a dict going from var_name
          to the model_instance which holds that var_name
          the model_instance may be self or an instance of one of the
          classes in self.composed_instances()
      additional_properties_model_instances (list): a list of the
          model instances which have the property
          additional_properties_type. This list can include self</p>
</blockquote>
</div>


                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>